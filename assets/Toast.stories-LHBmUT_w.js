import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{B as ge}from"./Button-BZTnosWk.js";import{u as ne,S as X}from"./index-BnOrPVJb.js";import{r as n}from"./iframe-DtmTlnEX.js";import{r as Pe}from"./index-qE1vCF5L.js";import{c as be,a as Re,b as P,u as Ne}from"./index-D9GooZJn.js";import{c as Se}from"./index-CyJIQKeD.js";import{B as Ie,R as _e,P as je}from"./index-CGCbYpBK.js";import{P as Fe}from"./index-DqiPm2v0.js";import{P as _,d as Ae}from"./index-CnqtRZra.js";import{u as H}from"./index-CjynM9sR.js";import{V as ae,R as De}from"./index-CKjcUWX_.js";import{c as Q,a as U}from"./index-CJCZd66Q.js";import{X as ke}from"./x-BU3pKl-V.js";import{c as Oe}from"./createLucideIcon-ByFyvq7F.js";import"./preload-helper-D9Z9MdNV.js";import"./index-B3j_z_TB.js";import"./index-BKSi7ooS.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["line",{x1:"9",x2:"9",y1:"4",y2:"20",key:"ovs5a5"}],["path",{d:"M4 7c0-1.7 1.3-3 3-3h13",key:"10pag4"}],["path",{d:"M18 20c-1.7 0-3-1.3-3-3V4",key:"1gaosr"}]],Me=Oe("pi",Le);var Z="ToastProvider",[ee,Ve,Ke]=Se("Toast"),[ie,It]=be("Toast",[Ke]),[qe,W]=ie(Z),ce=e=>{const{__scopeToast:o,label:s="Notification",duration:t=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[T,v]=n.useState(null),[i,x]=n.useState(0),w=n.useRef(!1),N=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z}\`. Expected non-empty \`string\`.`),r.jsx(ee.Provider,{scope:o,children:r.jsx(qe,{scope:o,label:s,duration:t,swipeDirection:c,swipeThreshold:d,toastCount:i,viewport:T,onViewportChange:v,onToastAdd:n.useCallback(()=>x(b=>b+1),[]),onToastRemove:n.useCallback(()=>x(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:N,children:p})})};ce.displayName=Z;var le="ToastViewport",Be=["F8"],z="toast.viewportPause",G="toast.viewportResume",ue=n.forwardRef((e,o)=>{const{__scopeToast:s,hotkey:t=Be,label:c="Notifications ({hotkey})",...d}=e,p=W(le,s),T=Ve(s),v=n.useRef(null),i=n.useRef(null),x=n.useRef(null),w=n.useRef(null),N=ne(o,w,p.onViewportChange),b=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=p.toastCount>0;n.useEffect(()=>{const l=h=>{t.length!==0&&t.every(m=>h[m]||h.code===m)&&w.current?.focus()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[t]),n.useEffect(()=>{const l=v.current,h=w.current;if(g&&l&&h){const f=()=>{if(!p.isClosePausedRef.current){const E=new CustomEvent(z);h.dispatchEvent(E),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const E=new CustomEvent(G);h.dispatchEvent(E),p.isClosePausedRef.current=!1}},y=E=>{!l.contains(E.relatedTarget)&&m()},C=()=>{l.contains(document.activeElement)||m()};return l.addEventListener("focusin",f),l.addEventListener("focusout",y),l.addEventListener("pointermove",f),l.addEventListener("pointerleave",C),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{l.removeEventListener("focusin",f),l.removeEventListener("focusout",y),l.removeEventListener("pointermove",f),l.removeEventListener("pointerleave",C),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[g,p.isClosePausedRef]);const u=n.useCallback(({tabbingDirection:l})=>{const f=T().map(m=>{const y=m.ref.current,C=[y,...tt(y)];return l==="forwards"?C:C.reverse()});return(l==="forwards"?f.reverse():f).flat()},[T]);return n.useEffect(()=>{const l=w.current;if(l){const h=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const C=document.activeElement,E=f.shiftKey;if(f.target===l&&E){i.current?.focus();return}const F=u({tabbingDirection:E?"backwards":"forwards"}),L=F.findIndex(I=>I===C);Y(F.slice(L+1))?f.preventDefault():E?i.current?.focus():x.current?.focus()}};return l.addEventListener("keydown",h),()=>l.removeEventListener("keydown",h)}},[T,u]),r.jsxs(Ie,{ref:v,role:"region","aria-label":c.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(J,{ref:i,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"forwards"});Y(l)}}),r.jsx(ee.Slot,{scope:s,children:r.jsx(_.ol,{tabIndex:-1,...d,ref:N})}),g&&r.jsx(J,{ref:x,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"backwards"});Y(l)}})]})});ue.displayName=le;var de="ToastFocusProxy",J=n.forwardRef((e,o)=>{const{__scopeToast:s,onFocusFromOutsideViewport:t,...c}=e,d=W(de,s);return r.jsx(ae,{tabIndex:0,...c,ref:o,style:{position:"fixed"},onFocus:p=>{const T=p.relatedTarget;!d.viewport?.contains(T)&&t()}})});J.displayName=de;var k="Toast",He="toast.swipeStart",We="toast.swipeMove",$e="toast.swipeCancel",Xe="toast.swipeEnd",pe=n.forwardRef((e,o)=>{const{forceMount:s,open:t,defaultOpen:c,onOpenChange:d,...p}=e,[T,v]=Re({prop:t,defaultProp:c??!0,onChange:d,caller:k});return r.jsx(Fe,{present:s||T,children:r.jsx(ze,{open:T,...p,ref:o,onClose:()=>v(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),v(!1)})})})});pe.displayName=k;var[Ue,Ye]=ie(k,{onClose(){}}),ze=n.forwardRef((e,o)=>{const{__scopeToast:s,type:t="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:T,onPause:v,onResume:i,onSwipeStart:x,onSwipeMove:w,onSwipeCancel:N,onSwipeEnd:b,...g}=e,u=W(k,s),[l,h]=n.useState(null),f=ne(o,a=>h(a)),m=n.useRef(null),y=n.useRef(null),C=c||u.duration,E=n.useRef(0),j=n.useRef(C),O=n.useRef(0),{onToastAdd:F,onToastRemove:L}=u,I=H(()=>{l?.contains(document.activeElement)&&u.viewport?.focus(),p()}),M=n.useCallback(a=>{!a||a===1/0||(window.clearTimeout(O.current),E.current=new Date().getTime(),O.current=window.setTimeout(I,a))},[I]);n.useEffect(()=>{const a=u.viewport;if(a){const R=()=>{M(j.current),i?.()},S=()=>{const A=new Date().getTime()-E.current;j.current=j.current-A,window.clearTimeout(O.current),v?.()};return a.addEventListener(z,S),a.addEventListener(G,R),()=>{a.removeEventListener(z,S),a.removeEventListener(G,R)}}},[u.viewport,C,v,i,M]),n.useEffect(()=>{d&&!u.isClosePausedRef.current&&M(C)},[d,C,u.isClosePausedRef,M]),n.useEffect(()=>(F(),()=>L()),[F,L]);const se=n.useMemo(()=>l?he(l):null,[l]);return u.viewport?r.jsxs(r.Fragment,{children:[se&&r.jsx(Ge,{__scopeToast:s,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:se}),r.jsx(Ue,{scope:s,onClose:I,children:Pe.createPortal(r.jsx(ee.ItemSlot,{scope:s,children:r.jsx(_e,{asChild:!0,onEscapeKeyDown:P(T,()=>{u.isFocusedToastEscapeKeyDownRef.current||I(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(_.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...g,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,a=>{a.key==="Escape"&&(T?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:P(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:P(e.onPointerMove,a=>{if(!m.current)return;const R=a.clientX-m.current.x,S=a.clientY-m.current.y,A=!!y.current,D=["left","right"].includes(u.swipeDirection),V=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,ye=D?V(0,R):0,Ce=D?0:V(0,S),$=a.pointerType==="touch"?10:2,K={x:ye,y:Ce},oe={originalEvent:a,delta:K};A?(y.current=K,q(We,w,oe,{discrete:!1})):re(K,u.swipeDirection,$)?(y.current=K,q(He,x,oe,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(R)>$||Math.abs(S)>$)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,a=>{const R=y.current,S=a.target;if(S.hasPointerCapture(a.pointerId)&&S.releasePointerCapture(a.pointerId),y.current=null,m.current=null,R){const A=a.currentTarget,D={originalEvent:a,delta:R};re(R,u.swipeDirection,u.swipeThreshold)?q(Xe,b,D,{discrete:!0}):q($e,N,D,{discrete:!0}),A.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),Ge=e=>{const{__scopeToast:o,children:s,...t}=e,c=W(k,o),[d,p]=n.useState(!1),[T,v]=n.useState(!1);return Ze(()=>p(!0)),n.useEffect(()=>{const i=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(i)},[]),T?null:r.jsx(je,{asChild:!0,children:r.jsx(ae,{...t,children:d&&r.jsxs(r.Fragment,{children:[c.label," ",s]})})})},Je="ToastTitle",fe=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(_.div,{...t,ref:o})});fe.displayName=Je;var Qe="ToastDescription",me=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(_.div,{...t,ref:o})});me.displayName=Qe;var Te="ToastAction",we=n.forwardRef((e,o)=>{const{altText:s,...t}=e;return s.trim()?r.jsx(Ee,{altText:s,asChild:!0,children:r.jsx(xe,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${Te}\`. Expected non-empty \`string\`.`),null)});we.displayName=Te;var ve="ToastClose",xe=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e,c=Ye(ve,s);return r.jsx(Ee,{asChild:!0,children:r.jsx(_.button,{type:"button",...t,ref:o,onClick:P(e.onClick,c.onClose)})})});xe.displayName=ve;var Ee=n.forwardRef((e,o)=>{const{__scopeToast:s,altText:t,...c}=e;return r.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...c,ref:o})});function he(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),et(t)){const c=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...he(t))}}),o}function q(e,o,s,{discrete:t}){const c=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});o&&c.addEventListener(e,o,{once:!0}),t?Ae(c,d):c.dispatchEvent(d)}var re=(e,o,s=0)=>{const t=Math.abs(e.x),c=Math.abs(e.y),d=t>c;return o==="left"||o==="right"?d&&t>s:!d&&c>s};function Ze(e=()=>{}){const o=H(e);Ne(()=>{let s=0,t=0;return s=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(t)}},[o])}function et(e){return e.nodeType===e.ELEMENT_NODE}function tt(e){const o=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const c=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||c?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function Y(e){const o=document.activeElement;return e.some(s=>s===o?!0:(s.focus(),document.activeElement!==o))}var st=ce,ot=ue,rt=pe,nt=fe,at=me,it=we;const ct=Q(["rounded-md","shadow-md","p-4","flex","flex-col","relative","border","overflow-hidden","data-[state=open]:animate-slide-in","data-[state=closed]:animate-hide","data-[swipe=move]:translate-x-4","data-[swipe=cancel]:translate-x-0","data-[swipe=end]:animate-swipe-out","shadow-purple-200","border-purple-100"]),lt=Q(["fixed","bottom-0","right-0","flex","flex-col","p-[var(--viewport-padding)]","gap-8","w-[390px]","max-w-[100vw]","m-0","z-50","outline-none"]),ut=Q(["top-2","right-2","w-4","h-4","text-kubefirst-primary"]),te=({title:e,duration:o=5e3,titleClassName:s,descriptionClassName:t,description:c,children:d,theme:p,showCloseButton:T=!0,closeButtonClassName:v,className:i,open:x=!1,setOpen:w})=>{const N=n.useRef(0);n.useEffect(()=>()=>clearTimeout(N.current),[]);const b=n.useMemo(()=>n.isValidElement(e)?r.jsx(X,{className:s,children:e}):e,[e,s]),g=n.useMemo(()=>n.isValidElement(c)?r.jsx(X,{className:t,children:c}):c,[c,t]),u=n.useCallback(()=>{w(!1),N.current=window.setTimeout(()=>w(!0),100)},[w]);return r.jsxs(st,{swipeDirection:"right",duration:o,children:[r.jsx(X,{onClick:u,children:d}),r.jsxs(rt,{className:U(ct({className:i})),"data-theme":p,open:x,onOpenChange:w,children:[r.jsx(nt,{asChild:!0,className:s,children:b}),g&&r.jsx(at,{asChild:!0,children:g}),T&&r.jsx(it,{asChild:!0,altText:"Close the toast",children:r.jsxs("button",{type:"button",className:"absolute right-1.5 top-1.5",children:[r.jsx(ke,{className:U(ut({className:v}))}),r.jsx(De,{children:"Close toast"})]})})]}),r.jsx(ot,{className:U(lt())})]})};te.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{className:{required:!1,tsType:{name:"string"},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},descriptionClassName:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5000",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'civo'
| 'kubefirst-dark'
| 'civo-dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'civo'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'civo-dark'"},{name:"undefined"}]},description:""},title:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},titleClassName:{required:!1,tsType:{name:"string"},description:""},setOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren","VariantProps"]};const _t={title:"In Review/Toast",component:te},B={args:{duration:1500,title:r.jsxs("h6",{className:"text-white flex items-center gap-2",children:[r.jsx(Me,{name:"circle-check"}),"This is a title"]})},render:function(o){const[s,t]=n.useState(!1);return r.jsxs("div",{className:"w-[350px] flex flex-col gap-3",children:[r.jsx(ge,{onClick:()=>t(!0),children:"Open Toast"}),r.jsx(te,{...o,className:"bg-emerald-700",open:s,setOpen:t,closeButtonClassName:"text-white"})]})}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    duration: 1500,
    title: <h6 className="text-white flex items-center gap-2">
        <PiIcon name="circle-check" />
        This is a title
      </h6>
  },
  render: function ToastStory(args) {
    const [open, setOpen] = useState(false);
    return <div className="w-[350px] flex flex-col gap-3">
        <Button onClick={() => setOpen(true)}>Open Toast</Button>
        <ToastComponent {...args} className="bg-emerald-700" open={open} setOpen={setOpen} closeButtonClassName="text-white" />
      </div>;
  }
}`,...B.parameters?.docs?.source}}};const jt=["Toast"];export{B as Toast,jt as __namedExportsOrder,_t as default};
