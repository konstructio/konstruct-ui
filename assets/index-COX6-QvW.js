import{r as i}from"./iframe-CdA2qtl0.js";import{a as me,c as ge,d as Ee,b as O}from"./index-5qBvQZA2.js";import{u as I,c as he}from"./index-CLCC6lVp.js";import{u as M}from"./index-Cv8YeNzj.js";import{P as ye,D as De}from"./index-Dyxa7cj1.js";import{P as R}from"./index-CiyMiGME.js";import{u as $}from"./index-VB3Am1GT.js";import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{P as W}from"./index-Du9_aCFt.js";import{R as be}from"./Combination-Bj1QAA-c.js";var w="focusScope.autoFocusOnMount",j="focusScope.autoFocusOnUnmount",q={bubbles:!1,cancelable:!0},Ce="FocusScope",z=i.forwardRef((e,n)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:r,...u}=e,[s,g]=i.useState(null),m=$(a),h=$(r),l=i.useRef(null),d=I(n,f=>g(f)),p=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(o){let f=function(D){if(p.paused||!s)return;const y=D.target;s.contains(y)?l.current=y:C(l.current,{select:!0})},b=function(D){if(p.paused||!s)return;const y=D.relatedTarget;y!==null&&(s.contains(y)||C(l.current,{select:!0}))},v=function(D){if(document.activeElement===document.body)for(const H of D)H.removedNodes.length>0&&C(s)};document.addEventListener("focusin",f),document.addEventListener("focusout",b);const N=new MutationObserver(v);return s&&N.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",b),N.disconnect()}}},[o,s,p.paused]),i.useEffect(()=>{if(s){V.add(p);const f=document.activeElement;if(!s.contains(f)){const v=new CustomEvent(w,q);s.addEventListener(w,m),s.dispatchEvent(v),v.defaultPrevented||(xe(_e(J(s)),{select:!0}),document.activeElement===f&&C(s))}return()=>{s.removeEventListener(w,m),setTimeout(()=>{const v=new CustomEvent(j,q);s.addEventListener(j,h),s.dispatchEvent(v),v.defaultPrevented||C(f??document.body,{select:!0}),s.removeEventListener(j,h),V.remove(p)},0)}}},[s,m,h,p]);const _=i.useCallback(f=>{if(!t&&!o||p.paused)return;const b=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,v=document.activeElement;if(b&&v){const N=f.currentTarget,[D,y]=Ae(N);D&&y?!f.shiftKey&&v===y?(f.preventDefault(),t&&C(D,{select:!0})):f.shiftKey&&v===D&&(f.preventDefault(),t&&C(y,{select:!0})):v===N&&f.preventDefault()}},[t,o,p.paused]);return c.jsx(R.div,{tabIndex:-1,...u,ref:d,onKeyDown:_})});z.displayName=Ce;function xe(e,{select:n=!1}={}){const t=document.activeElement;for(const o of e)if(C(o,{select:n}),document.activeElement!==t)return}function Ae(e){const n=J(e),t=B(n,e),o=B(n.reverse(),e);return[t,o]}function J(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function B(e,n){for(const t of e)if(!Re(t,{upTo:n}))return t}function Re(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ne(e){return e instanceof HTMLInputElement&&"select"in e}function C(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Ne(e)&&n&&e.select()}}var V=Oe();function Oe(){let e=[];return{add(n){const t=e[0];n!==t&&(t==null||t.pause()),e=Y(e,n),e.unshift(n)},remove(n){var t;e=Y(e,n),(t=e[0])==null||t.resume()}}}function Y(e,n){const t=[...e],o=t.indexOf(n);return o!==-1&&t.splice(o,1),t}function _e(e){return e.filter(n=>n.tagName!=="A")}var L=0;function Pe(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Z()),document.body.insertAdjacentElement("beforeend",e[1]??Z()),L++,()=>{L===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),L--}},[])}function Z(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Te=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},A=new WeakMap,P=new WeakMap,T={},k=0,Q=function(e){return e&&(e.host||Q(e.parentNode))},Fe=function(e,n){return n.map(function(t){if(e.contains(t))return t;var o=Q(t);return o&&e.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Ie=function(e,n,t,o){var a=Fe(n,Array.isArray(e)?e:[e]);T[t]||(T[t]=new WeakMap);var r=T[t],u=[],s=new Set,g=new Set(a),m=function(l){!l||s.has(l)||(s.add(l),m(l.parentNode))};a.forEach(m);var h=function(l){!l||g.has(l)||Array.prototype.forEach.call(l.children,function(d){if(s.has(d))h(d);else try{var p=d.getAttribute(o),_=p!==null&&p!=="false",f=(A.get(d)||0)+1,b=(r.get(d)||0)+1;A.set(d,f),r.set(d,b),u.push(d),f===1&&_&&P.set(d,!0),b===1&&d.setAttribute(t,"true"),_||d.setAttribute(o,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return h(n),s.clear(),k++,function(){u.forEach(function(l){var d=A.get(l)-1,p=r.get(l)-1;A.set(l,d),r.set(l,p),d||(P.has(l)||l.removeAttribute(o),P.delete(l)),p||l.removeAttribute(t)}),k--,k||(A=new WeakMap,A=new WeakMap,P=new WeakMap,T={})}},Se=function(e,n,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=Te(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live]"))),Ie(o,a,t,"aria-hidden")):function(){return null}},S="Dialog",[X,Xe]=ge(S),[Me,E]=X(S),ee=e=>{const{__scopeDialog:n,children:t,open:o,defaultOpen:a,onOpenChange:r,modal:u=!0}=e,s=i.useRef(null),g=i.useRef(null),[m,h]=me({prop:o,defaultProp:a??!1,onChange:r,caller:S});return c.jsx(Me,{scope:n,triggerRef:s,contentRef:g,contentId:M(),titleId:M(),descriptionId:M(),open:m,onOpenChange:h,onOpenToggle:i.useCallback(()=>h(l=>!l),[h]),modal:u,children:t})};ee.displayName=S;var te="DialogTrigger",ne=i.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=E(te,t),r=I(n,a.triggerRef);return c.jsx(R.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":G(a.open),...o,ref:r,onClick:O(e.onClick,a.onOpenToggle)})});ne.displayName=te;var U="DialogPortal",[we,oe]=X(U,{forceMount:void 0}),re=e=>{const{__scopeDialog:n,forceMount:t,children:o,container:a}=e,r=E(U,n);return c.jsx(we,{scope:n,forceMount:t,children:i.Children.map(o,u=>c.jsx(W,{present:t||r.open,children:c.jsx(ye,{asChild:!0,container:a,children:u})}))})};re.displayName=U;var F="DialogOverlay",ae=i.forwardRef((e,n)=>{const t=oe(F,e.__scopeDialog),{forceMount:o=t.forceMount,...a}=e,r=E(F,e.__scopeDialog);return r.modal?c.jsx(W,{present:o||r.open,children:c.jsx(Le,{...a,ref:n})}):null});ae.displayName=F;var je=he("DialogOverlay.RemoveScroll"),Le=i.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=E(F,t);return c.jsx(be,{as:je,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(R.div,{"data-state":G(a.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),x="DialogContent",se=i.forwardRef((e,n)=>{const t=oe(x,e.__scopeDialog),{forceMount:o=t.forceMount,...a}=e,r=E(x,e.__scopeDialog);return c.jsx(W,{present:o||r.open,children:r.modal?c.jsx(ke,{...a,ref:n}):c.jsx(We,{...a,ref:n})})});se.displayName=x;var ke=i.forwardRef((e,n)=>{const t=E(x,e.__scopeDialog),o=i.useRef(null),a=I(n,t.contentRef,o);return i.useEffect(()=>{const r=o.current;if(r)return Se(r)},[]),c.jsx(ie,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:O(e.onCloseAutoFocus,r=>{var u;r.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:O(e.onPointerDownOutside,r=>{const u=r.detail.originalEvent,s=u.button===0&&u.ctrlKey===!0;(u.button===2||s)&&r.preventDefault()}),onFocusOutside:O(e.onFocusOutside,r=>r.preventDefault())})}),We=i.forwardRef((e,n)=>{const t=E(x,e.__scopeDialog),o=i.useRef(!1),a=i.useRef(!1);return c.jsx(ie,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var u,s;(u=e.onCloseAutoFocus)==null||u.call(e,r),r.defaultPrevented||(o.current||(s=t.triggerRef.current)==null||s.focus(),r.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:r=>{var g,m;(g=e.onInteractOutside)==null||g.call(e,r),r.defaultPrevented||(o.current=!0,r.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=r.target;((m=t.triggerRef.current)==null?void 0:m.contains(u))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&a.current&&r.preventDefault()}})}),ie=i.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:r,...u}=e,s=E(x,t),g=i.useRef(null),m=I(n,g);return Pe(),c.jsxs(c.Fragment,{children:[c.jsx(z,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:r,children:c.jsx(De,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":G(s.open),...u,ref:m,onDismiss:()=>s.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Ue,{titleId:s.titleId}),c.jsx(Ge,{contentRef:g,descriptionId:s.descriptionId})]})]})}),K="DialogTitle",ce=i.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=E(K,t);return c.jsx(R.h2,{id:a.titleId,...o,ref:n})});ce.displayName=K;var ue="DialogDescription",le=i.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=E(ue,t);return c.jsx(R.p,{id:a.descriptionId,...o,ref:n})});le.displayName=ue;var fe="DialogClose",de=i.forwardRef((e,n)=>{const{__scopeDialog:t,...o}=e,a=E(fe,t);return c.jsx(R.button,{type:"button",...o,ref:n,onClick:O(e.onClick,()=>a.onOpenChange(!1))})});de.displayName=fe;function G(e){return e?"open":"closed"}var pe="DialogTitleWarning",[et,ve]=Ee(pe,{contentName:x,titleName:K,docsSlug:"dialog"}),Ue=({titleId:e})=>{const n=ve(pe),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Ke="DialogDescriptionWarning",Ge=({contentRef:e,descriptionId:n})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ve(Ke).contentName}}.`;return i.useEffect(()=>{var r;const a=(r=e.current)==null?void 0:r.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(o))},[o,e,n]),null},tt=ee,nt=ne,ot=re,rt=ae,at=se,st=ce,it=le,ct=de;export{at as C,it as D,rt as O,ot as P,tt as R,st as T,et as W,ct as a,nt as b,Xe as c,re as d,ce as e};
