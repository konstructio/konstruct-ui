import{j as t}from"./jsx-runtime-DR9Q75dM.js";import{B as Y}from"./Button-CYnV4JRT.js";import{r as o}from"./index-DRjF_FHU.js";import{r as Ne}from"./index-rX-Bn4lm.js";import{c as Se,a as je,d as W,b as P,u as _e}from"./index-BZUySh2a.js";import{u as le,S as z}from"./index-CaQnC5nY.js";import{c as Ie}from"./index-DqxYUgyH.js";import{B as ke,R as Fe,P as Ae}from"./index-DwITDUN8.js";import{P as De}from"./index-BqGLCZMI.js";import{P as F,d as Le}from"./index-0pbq26Ko.js";import{V as de,R as Oe}from"./index-Bt5gyWJr.js";import{c as te}from"./index-Bb4qSo10.js";import{X as Me}from"./x-CNaeOouq.js";import{u as Ve}from"./theme.hook-CuwzjDGP.js";import{T as G}from"./theme.provider-yXi0yTKo.js";import"./index-Ch1LPoRI.js";import"./index-Dw6WB_A6.js";var se="ToastProvider",[re,Ke,Be]=Ie("Toast"),[ue,jt]=Se("Toast",[Be]),[He,q]=ue(se),pe=e=>{const{__scopeToast:n,label:r="Notification",duration:s=5e3,swipeDirection:l="right",swipeThreshold:u=50,children:p}=e,[f,h]=o.useState(null),[a,x]=o.useState(0),w=o.useRef(!1),S=o.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${se}\`. Expected non-empty \`string\`.`),t.jsx(re.Provider,{scope:n,children:t.jsx(He,{scope:n,label:r,duration:s,swipeDirection:l,swipeThreshold:u,toastCount:a,viewport:f,onViewportChange:h,onToastAdd:o.useCallback(()=>x(g=>g+1),[]),onToastRemove:o.useCallback(()=>x(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:S,children:p})})};pe.displayName=se;var me="ToastViewport",We=["F8"],Q="toast.viewportPause",Z="toast.viewportResume",fe=o.forwardRef((e,n)=>{const{__scopeToast:r,hotkey:s=We,label:l="Notifications ({hotkey})",...u}=e,p=q(me,r),f=Ke(r),h=o.useRef(null),a=o.useRef(null),x=o.useRef(null),w=o.useRef(null),S=le(n,w,p.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=p.toastCount>0;o.useEffect(()=>{const i=y=>{var T;s.length!==0&&s.every(v=>y[v]||y.code===v)&&((T=w.current)==null||T.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[s]),o.useEffect(()=>{const i=h.current,y=w.current;if(R&&i&&y){const m=()=>{if(!p.isClosePausedRef.current){const C=new CustomEvent(Q);y.dispatchEvent(C),p.isClosePausedRef.current=!0}},T=()=>{if(p.isClosePausedRef.current){const C=new CustomEvent(Z);y.dispatchEvent(C),p.isClosePausedRef.current=!1}},v=C=>{!i.contains(C.relatedTarget)&&T()},E=()=>{i.contains(document.activeElement)||T()};return i.addEventListener("focusin",m),i.addEventListener("focusout",v),i.addEventListener("pointermove",m),i.addEventListener("pointerleave",E),window.addEventListener("blur",m),window.addEventListener("focus",T),()=>{i.removeEventListener("focusin",m),i.removeEventListener("focusout",v),i.removeEventListener("pointermove",m),i.removeEventListener("pointerleave",E),window.removeEventListener("blur",m),window.removeEventListener("focus",T)}}},[R,p.isClosePausedRef]);const d=o.useCallback(({tabbingDirection:i})=>{const m=f().map(T=>{const v=T.ref.current,E=[v,...st(v)];return i==="forwards"?E:E.reverse()});return(i==="forwards"?m.reverse():m).flat()},[f]);return o.useEffect(()=>{const i=w.current;if(i){const y=m=>{var E,C,j;const T=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!T){const A=document.activeElement,I=m.shiftKey;if(m.target===i&&I){(E=a.current)==null||E.focus();return}const _=d({tabbingDirection:I?"backwards":"forwards"}),M=_.findIndex(c=>c===A);J(_.slice(M+1))?m.preventDefault():I?(C=a.current)==null||C.focus():(j=x.current)==null||j.focus()}};return i.addEventListener("keydown",y),()=>i.removeEventListener("keydown",y)}},[f,d]),t.jsxs(ke,{ref:h,role:"region","aria-label":l.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&t.jsx(ee,{ref:a,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"forwards"});J(i)}}),t.jsx(re.Slot,{scope:r,children:t.jsx(F.ol,{tabIndex:-1,...u,ref:S})}),R&&t.jsx(ee,{ref:x,onFocusFromOutsideViewport:()=>{const i=d({tabbingDirection:"backwards"});J(i)}})]})});fe.displayName=me;var Te="ToastFocusProxy",ee=o.forwardRef((e,n)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...l}=e,u=q(Te,r);return t.jsx(de,{"aria-hidden":!0,tabIndex:0,...l,ref:n,style:{position:"fixed"},onFocus:p=>{var a;const f=p.relatedTarget;!((a=u.viewport)!=null&&a.contains(f))&&s()}})});ee.displayName=Te;var $="Toast",qe="toast.swipeStart",$e="toast.swipeMove",Xe="toast.swipeCancel",Ue="toast.swipeEnd",he=o.forwardRef((e,n)=>{const{forceMount:r,open:s,defaultOpen:l,onOpenChange:u,...p}=e,[f=!0,h]=je({prop:s,defaultProp:l,onChange:u});return t.jsx(De,{present:r||f,children:t.jsx(Ge,{open:f,...p,ref:n,onClose:()=>h(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x,y:w}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x,y:w}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),h(!1)})})})});he.displayName=$;var[Ye,ze]=ue($,{onClose(){}}),Ge=o.forwardRef((e,n)=>{const{__scopeToast:r,type:s="foreground",duration:l,open:u,onClose:p,onEscapeKeyDown:f,onPause:h,onResume:a,onSwipeStart:x,onSwipeMove:w,onSwipeCancel:S,onSwipeEnd:g,...R}=e,d=q($,r),[i,y]=o.useState(null),m=le(n,c=>y(c)),T=o.useRef(null),v=o.useRef(null),E=l||d.duration,C=o.useRef(0),j=o.useRef(E),A=o.useRef(0),{onToastAdd:I,onToastRemove:X}=d,k=W(()=>{var b;(i==null?void 0:i.contains(document.activeElement))&&((b=d.viewport)==null||b.focus()),p()}),_=o.useCallback(c=>{!c||c===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(k,c))},[k]);o.useEffect(()=>{const c=d.viewport;if(c){const b=()=>{_(j.current),a==null||a()},N=()=>{const D=new Date().getTime()-C.current;j.current=j.current-D,window.clearTimeout(A.current),h==null||h()};return c.addEventListener(Q,N),c.addEventListener(Z,b),()=>{c.removeEventListener(Q,N),c.removeEventListener(Z,b)}}},[d.viewport,E,h,a,_]),o.useEffect(()=>{u&&!d.isClosePausedRef.current&&_(E)},[u,E,d.isClosePausedRef,_]),o.useEffect(()=>(I(),()=>X()),[I,X]);const M=o.useMemo(()=>i?ge(i):null,[i]);return d.viewport?t.jsxs(t.Fragment,{children:[M&&t.jsx(Je,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),t.jsx(Ye,{scope:r,onClose:k,children:Ne.createPortal(t.jsx(re.ItemSlot,{scope:r,children:t.jsx(Fe,{asChild:!0,onEscapeKeyDown:P(f,()=>{d.isFocusedToastEscapeKeyDownRef.current||k(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:t.jsx(F.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":d.swipeDirection,...R,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,c=>{c.key==="Escape"&&(f==null||f(c.nativeEvent),c.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:P(e.onPointerDown,c=>{c.button===0&&(T.current={x:c.clientX,y:c.clientY})}),onPointerMove:P(e.onPointerMove,c=>{if(!T.current)return;const b=c.clientX-T.current.x,N=c.clientY-T.current.y,D=!!v.current,L=["left","right"].includes(d.swipeDirection),V=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,Pe=L?V(0,b):0,Re=L?0:V(0,N),U=c.pointerType==="touch"?10:2,K={x:Pe,y:Re},oe={originalEvent:c,delta:K};D?(v.current=K,B($e,w,oe,{discrete:!1})):ne(K,d.swipeDirection,U)?(v.current=K,B(qe,x,oe,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(b)>U||Math.abs(N)>U)&&(T.current=null)}),onPointerUp:P(e.onPointerUp,c=>{const b=v.current,N=c.target;if(N.hasPointerCapture(c.pointerId)&&N.releasePointerCapture(c.pointerId),v.current=null,T.current=null,b){const D=c.currentTarget,L={originalEvent:c,delta:b};ne(b,d.swipeDirection,d.swipeThreshold)?B(Ue,g,L,{discrete:!0}):B(Xe,S,L,{discrete:!0}),D.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),Je=e=>{const{__scopeToast:n,children:r,...s}=e,l=q($,n),[u,p]=o.useState(!1),[f,h]=o.useState(!1);return et(()=>p(!0)),o.useEffect(()=>{const a=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:t.jsx(Ae,{asChild:!0,children:t.jsx(de,{...s,children:u&&t.jsxs(t.Fragment,{children:[l.label," ",r]})})})},Qe="ToastTitle",xe=o.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e;return t.jsx(F.div,{...s,ref:n})});xe.displayName=Qe;var Ze="ToastDescription",we=o.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e;return t.jsx(F.div,{...s,ref:n})});we.displayName=Ze;var ve="ToastAction",Ee=o.forwardRef((e,n)=>{const{altText:r,...s}=e;return r.trim()?t.jsx(be,{altText:r,asChild:!0,children:t.jsx(Ce,{...s,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${ve}\`. Expected non-empty \`string\`.`),null)});Ee.displayName=ve;var ye="ToastClose",Ce=o.forwardRef((e,n)=>{const{__scopeToast:r,...s}=e,l=ze(ye,r);return t.jsx(be,{asChild:!0,children:t.jsx(F.button,{type:"button",...s,ref:n,onClick:P(e.onClick,l.onClose)})})});Ce.displayName=ye;var be=o.forwardRef((e,n)=>{const{__scopeToast:r,altText:s,...l}=e;return t.jsx(F.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...l,ref:n})});function ge(e){const n=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&n.push(s.textContent),tt(s)){const l=s.ariaHidden||s.hidden||s.style.display==="none",u=s.dataset.radixToastAnnounceExclude==="";if(!l)if(u){const p=s.dataset.radixToastAnnounceAlt;p&&n.push(p)}else n.push(...ge(s))}}),n}function B(e,n,r,{discrete:s}){const l=r.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});n&&l.addEventListener(e,n,{once:!0}),s?Le(l,u):l.dispatchEvent(u)}var ne=(e,n,r=0)=>{const s=Math.abs(e.x),l=Math.abs(e.y),u=s>l;return n==="left"||n==="right"?u&&s>r:!u&&l>r};function et(e=()=>{}){const n=W(e);_e(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[n])}function tt(e){return e.nodeType===e.ELEMENT_NODE}function st(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const l=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||l?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function J(e){const n=document.activeElement;return e.some(r=>r===n?!0:(r.focus(),document.activeElement!==n))}var rt=pe,ot=fe,nt=he,at=xe,it=we,ct=Ee;const lt=te(["bg-white","rounded-md","shadow-md","p-4","flex","flex-col","relative","border","overflow-hidden","data-[state=open]:animate-slide-in","data-[state=closed]:animate-hide","data-[swipe=move]:translate-x-4","data-[swipe=cancel]:translate-x-0","data-[swipe=end]:animate-swipe-out"],{variants:{theme:{kubefirst:["shadow-purple-200","border-purple-100"],konstruct:["shadow-orange-200","border-orange-100"],colony:["shadow-red-200","border-red-100"]}},defaultVariants:{theme:"kubefirst"}}),dt=te(["fixed","bottom-0","right-0","flex","flex-col","p-[var(--viewport-padding)]","gap-8","w-[390px]","max-w-[100vw]","m-0","z-50","outline-none"],{variants:{theme:{kubefirst:"",konstruct:"",colony:""}},defaultVariants:{theme:"kubefirst"}}),ut=te(["top-2","right-2","w-4","h-4"],{variants:{theme:{kubefirst:["text-kubefirst-purple-light"],konstruct:["text-orange-400"],colony:["text-red-400"]}},defaultVariants:{theme:"kubefirst"}}),O=({title:e,duration:n=5e3,titleClassName:r,descriptionClassName:s,description:l,children:u,theme:p,showCloseButton:f=!0,className:h})=>{const[a,x]=o.useState(!1),w=o.useRef(0),{theme:S}=Ve(),g=p??S;o.useEffect(()=>()=>clearTimeout(w.current),[]);const R=o.useMemo(()=>o.isValidElement(e)?t.jsx(z,{className:r,children:e}):t.jsx("h6",{className:r,children:e}),[e,r]),d=o.useMemo(()=>o.isValidElement(l)?t.jsx(z,{className:s,children:l}):t.jsx("h6",{className:s,children:l}),[l,s]),i=o.useCallback(()=>{x(!1),w.current=window.setTimeout(()=>x(!0),100)},[]);return t.jsxs(rt,{swipeDirection:"right",duration:n,children:[t.jsx(z,{onClick:i,children:u}),t.jsxs(nt,{className:lt({theme:g,className:h}),open:a,onOpenChange:x,children:[t.jsx(at,{asChild:!0,className:"text-lg mb-2 font-semibold",children:R}),t.jsx(it,{asChild:!0,children:d}),f&&t.jsx(ct,{asChild:!0,altText:"Close the toast",children:t.jsxs("button",{type:"button",className:"absolute right-1.5 top-1.5",children:[t.jsx(Me,{className:ut({theme:g})}),t.jsx(Oe,{children:"Close toast"})]})})]}),t.jsx(ot,{className:dt({theme:g})})]})};O.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{className:{required:!1,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},descriptionClassName:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5000",computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},title:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},titleClassName:{required:!1,tsType:{name:"string"},description:""}},composes:["PropsWithChildren","VariantProps"]};const _t={component:O},H={args:{duration:1500},render:e=>t.jsxs("div",{className:"w-[350px] flex flex-col gap-3",children:[t.jsx(G,{theme:"kubefirst",children:t.jsx(O,{...e,title:t.jsx("h6",{children:"This is a title"}),description:t.jsx("p",{children:"This is a description"}),titleClassName:"text-kubefirst-purple-dark",descriptionClassName:"text-kubefirst-purple-light",className:"bg-purple-50",children:t.jsx(Y,{children:"Show Toast Kubefirst Theme"})})}),t.jsx(G,{theme:"konstruct",children:t.jsx(O,{...e,title:t.jsx("h6",{children:"This is a title"}),description:t.jsx("p",{children:"This is a description"}),titleClassName:"text-orange-600",descriptionClassName:"text-orange-400",className:"bg-orange-50",children:t.jsx(Y,{children:"Show Toast Konstruct Theme"})})}),t.jsx(G,{theme:"colony",children:t.jsx(O,{...e,title:t.jsx("h6",{children:"This is a title"}),description:t.jsx("p",{children:"This is a description"}),titleClassName:"text-red-600",descriptionClassName:"text-red-400",className:"bg-red-50",children:t.jsx(Y,{children:"Show Toast Colony Theme"})})})]})};var ae,ie,ce;H.parameters={...H.parameters,docs:{...(ae=H.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    duration: 1500
  },
  render: args => <div className="w-[350px] flex flex-col gap-3">
      <ThemeProvider theme="kubefirst">
        <ToastComponent {...args} title={<h6>This is a title</h6>} description={<p>This is a description</p>} titleClassName="text-kubefirst-purple-dark" descriptionClassName="text-kubefirst-purple-light" className="bg-purple-50">
          <Button>Show Toast Kubefirst Theme</Button>
        </ToastComponent>
      </ThemeProvider>

      <ThemeProvider theme="konstruct">
        <ToastComponent {...args} title={<h6>This is a title</h6>} description={<p>This is a description</p>} titleClassName="text-orange-600" descriptionClassName="text-orange-400" className="bg-orange-50">
          <Button>Show Toast Konstruct Theme</Button>
        </ToastComponent>
      </ThemeProvider>

      <ThemeProvider theme="colony">
        <ToastComponent {...args} title={<h6>This is a title</h6>} description={<p>This is a description</p>} titleClassName="text-red-600" descriptionClassName="text-red-400" className="bg-red-50">
          <Button>Show Toast Colony Theme</Button>
        </ToastComponent>
      </ThemeProvider>
    </div>
}`,...(ce=(ie=H.parameters)==null?void 0:ie.docs)==null?void 0:ce.source}}};const It=["Toast"];export{H as Toast,It as __namedExportsOrder,_t as default};
