import{j as t}from"./jsx-runtime-BjgbQsUx.js";import{r as o}from"./index-BuYn5Wpo.js";import{u as M}from"./index-DMFkobGk.js";import{c as A,a as F,b as P}from"./index-BuMdKKrX.js";import{a as H,u as K}from"./index-hG10cGlm.js";import{P as z}from"./index-CyE6xvVj.js";import{P as q}from"./index-BExJbvg-.js";import{a as _,c as N}from"./index-Dl2HxxTD.js";import{u as X}from"./useToggle-BvNy7tch.js";import{C as $}from"./check-B76Oni0T.js";import{u as G}from"./theme.hook-3iWrhCdO.js";import"./index-D2MAbzvX.js";import"./index-CxSaS19u.js";import"./index-BIm0odtm.js";import"./index-DIzqHKc_.js";var E="Checkbox",[J,ke]=A(E),[Q,U]=J(E),D=o.forwardRef((e,f)=>{const{__scopeCheckbox:r,name:d,checked:l,defaultChecked:s,required:h,disabled:n,value:b="on",onCheckedChange:C,form:i,...u}=e,[c,k]=o.useState(null),x=M(f,a=>k(a)),y=o.useRef(!1),g=c?i||!!c.closest("form"):!0,[m=!1,T]=F({prop:l,defaultProp:s,onChange:C}),L=o.useRef(m);return o.useEffect(()=>{const a=c==null?void 0:c.form;if(a){const v=()=>T(L.current);return a.addEventListener("reset",v),()=>a.removeEventListener("reset",v)}},[c,T]),t.jsxs(Q,{scope:r,state:m,disabled:n,children:[t.jsx(q.button,{type:"button",role:"checkbox","aria-checked":p(m)?"mixed":m,"aria-required":h,"data-state":B(m),"data-disabled":n?"":void 0,disabled:n,value:b,...u,ref:x,onKeyDown:P(e.onKeyDown,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:P(e.onClick,a=>{T(v=>p(v)?!0:!v),g&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),g&&t.jsx(W,{control:c,bubbles:!y.current,name:d,value:b,checked:m,required:h,disabled:n,form:i,style:{transform:"translateX(-100%)"},defaultChecked:p(s)?!1:s})]})});D.displayName=E;var O="CheckboxIndicator",V=o.forwardRef((e,f)=>{const{__scopeCheckbox:r,forceMount:d,...l}=e,s=U(O,r);return t.jsx(z,{present:d||p(s.state)||s.state===!0,children:t.jsx(q.span,{"data-state":B(s.state),"data-disabled":s.disabled?"":void 0,...l,ref:f,style:{pointerEvents:"none",...e.style}})})});V.displayName=O;var W=e=>{const{control:f,checked:r,bubbles:d=!0,defaultChecked:l,...s}=e,h=o.useRef(null),n=H(r),b=K(f);o.useEffect(()=>{const i=h.current,u=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(u,"checked").set;if(n!==r&&k){const x=new Event("click",{bubbles:d});i.indeterminate=p(r),k.call(i,p(r)?!1:r),i.dispatchEvent(x)}},[n,r,d]);const C=o.useRef(p(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l??C.current,...s,tabIndex:-1,ref:h,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function p(e){return e==="indeterminate"}function B(e){return p(e)?"indeterminate":e?"checked":"unchecked"}var Y=D,Z=V;const ee=_(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","text-white"],{variants:{variant:{default:""},theme:{colony:"",kubefirst:"",civo:""},checked:{true:"",false:""}},compoundVariants:[{theme:"kubefirst",class:["border-kubefirst-primary"]},{theme:"kubefirst",checked:!0,class:["bg-kubefirst-primary"]},{theme:"colony",class:["border-red-700"]},{theme:"colony",checked:!0,class:["bg-red-700"]}],defaultVariants:{variant:"default",theme:"kubefirst"}}),te=_(["cursor-pointer"],{variants:{variant:{default:""},theme:{colony:"",kubefirst:"",civo:""}},defaultVariants:{variant:"default",theme:"kubefirst"}}),w=o.forwardRef(({ariaLabelledBy:e,className:f,defaultChecked:r,disabled:d,id:l,label:s,labelClassName:h,name:n,theme:b,title:C,variant:i,onChange:u},c)=>{const[k,x]=X(r),y=o.useId(),{theme:g}=G(),m=o.useCallback(()=>{x(),u==null||u()},[u,x]);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Y,{id:l??y,checked:k,ref:c,name:n,disabled:d,"aria-labelledby":e,title:C,className:N(ee({className:f,theme:b??g,variant:i,checked:k})),onCheckedChange:m,children:t.jsx(Z,{children:t.jsx($,{className:"w-4 h-4 stroke-2"})})}),s?t.jsx("label",{htmlFor:n??l,className:N(te({variant:i,theme:b,className:h})),children:s}):null]})});w.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};const xe={title:"Design System/Checkbox",component:w},j={args:{defaultChecked:!0},render:e=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"max-w-[350px] flex flex-col gap-2",children:[t.jsx(w,{label:"This is a checkbox with kubefirst colors",...e}),t.jsx(w,{theme:"colony",label:"This is a checkbox with colony colors",...e})]})})};var R,I,S;j.parameters={...j.parameters,docs:{...(R=j.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  },
  render: args => <>
      <div className="max-w-[350px] flex flex-col gap-2">
        <CheckboxComponent label="This is a checkbox with kubefirst colors" {...args} />
        <CheckboxComponent theme="colony" label="This is a checkbox with colony colors" {...args} />
      </div>
    </>
}`,...(S=(I=j.parameters)==null?void 0:I.docs)==null?void 0:S.source}}};const Ce=["Checkbox"];export{j as Checkbox,Ce as __namedExportsOrder,xe as default};
