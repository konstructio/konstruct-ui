import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./iframe-O5lPoKbF.js";import{u as te}from"./useToggle-CT0aNPAq.js";import{L as re}from"./Loading-DELu25eu.js";import{T as U}from"./Typography-Djlc3t7Y.js";import{c as E,a as g}from"./index-CJCZd66Q.js";import{S as ne}from"./index-DA835mMW.js";import{c as B}from"./createLucideIcon-Buspy0Ad.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],se=B("chevron-up",ae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ie=B("search",le),H=n.createContext({highlightSearchEnabled:!1,isOpen:!1,searchTerm:"",value:void 0,setSearchTerm(){throw new Error("setSearchTerm function must be overridden")},setValue(){throw new Error("setValue function must be overridden")},toggleOpen(){throw new Error("toggleOpen function must be overridden")}}),I=()=>{const c=n.useContext(H);if(!c)throw new Error("useDropdownContext must be used within a DropdownProvider");return c},M=({children:c,value:m,name:i,highlightSearch:a=!1,onChange:r,onBlur:e})=>{const p=n.useRef(a),[s,l]=te(!1),[u,f]=n.useState(""),y=n.useCallback((d,o)=>{o?.current&&(o.current.value=d),r?.({target:{value:d,name:i??""}}),e?.()},[r,i,e]);return t.jsx(H.Provider,{value:{highlightSearchEnabled:p.current,isOpen:s,searchTerm:u,value:m,setSearchTerm:f,setValue:y,toggleOpen:l},children:c})};M.__docgenInfo={description:"",methods:[],displayName:"DropdownProvider",props:{highlightSearch:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},name:{required:!1,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"intersection['onChange']",raw:"DropdownProps['onChange']"},description:""},onBlur:{required:!1,tsType:{name:"intersection['onBlur']",raw:"DropdownProps['onBlur']"},description:""}}};const oe=({inputRef:c,searchable:m,ulRef:i,wrapperInputRef:a,wrapperRef:r})=>{const e=n.useRef(0),{isOpen:p}=I();n.useEffect(()=>{const s=i.current?.querySelectorAll("li")??[],l=Array.from(s).filter(d=>d.getAttribute("data-action")!=="true"),u=new AbortController,f=()=>{e.current<l.length-1?(e.current=e.current+1,l[e.current].focus()):(e.current=0,l[0].focus())},y=()=>{e.current>0?(e.current=e.current-1,l[e.current].focus()):(e.current=0,c?.current&&m?c.current.focus():a.current?.focus())};return i.current?.addEventListener("keydown",d=>{switch(d.preventDefault(),d.key){case"ArrowDown":{f();break}case"Tab":{d.shiftKey?y():f();break}case"ArrowUp":{e.current===0?a.current?.focus():y();break}case"Enter":{l[e.current]?.click();break}}},{signal:u.signal}),()=>{u.abort()}},[i,e,a,c,m]),n.useEffect(()=>{const s=new AbortController;return r.current?.addEventListener("mouseenter",()=>{(i.current?.querySelectorAll("li")??[]).forEach(u=>u.blur())},{signal:s.signal}),()=>{s.abort()}},[i,r]),n.useEffect(()=>{p||(e.current=0)},[p])},ce=E(["cursor-pointer","py-2","px-2","h-full","focus-visible:outline-none","m-0","w-full","flex","items-center","gap-3","transition-bg","duration-250","hover:bg-gray-50","focus:bg-gray-50","dark:hover:bg-slate-700","dark:focus:bg-slate-700"]),V=({isClickable:c,className:m,inputRef:i,listItemSecondRowClassName:a,...r})=>{const{searchTerm:e,highlightSearchEnabled:p,setValue:s,toggleOpen:l}=I(),u=n.useRef(null),f=n.useCallback(o=>{s(o.value,i),l(!1)},[s,l]),y=n.useCallback((o,b)=>{o.key==="Enter"&&(o.stopPropagation(),f(b))},[f]),d=n.useCallback((o,b)=>{if(typeof o!="string")return o;const x=p&&e.length>0?o.split(new RegExp(`(${e})`,"gi")).map(w=>w.toLowerCase()===e.toLowerCase()?t.jsx("mark",{className:"bg-transparent font-semibold text-slate-800 dark:text-slate-50",children:w},w):w):[o];return t.jsxs(U,{variant:"body2",className:"text-zinc-700 dark:text-slate-50 font-medium",children:[x,b?t.jsx("span",{className:g("block font-normal text-sm text-slate-800 dark:text-slate-50",a),children:b}):null]})},[p,e]);return t.jsxs("li",{ref:u,role:"option","data-action":"false",className:g(ce({className:m})),tabIndex:0,onClick:o=>{c&&(f(r),o.stopPropagation())},onKeyDown:o=>y(o,r),children:[r.leftIcon?t.jsx("span",{className:g("w-4 h-4 flex justify-center",{"items-center":!r.subLabel,"items-baseline -translate-y-2":!!r.subLabel}),children:r.leftIcon}):null,d(r.label,r.subLabel)]})};V.__docgenInfo={description:"",methods:[],displayName:"ListItem",props:{label:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},subLabel:{required:!1,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},leftIcon:{required:!1,tsType:{name:"union",raw:"ReactNode | string",elements:[{name:"ReactNode"},{name:"string"}]},description:""},value:{required:!0,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},listItemSecondRowClassName:{required:!1,tsType:{name:"string"},description:""},isClickable:{required:!0,tsType:{name:"boolean"},description:""},inputRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"ComponentRef<'input'> | null",elements:[{name:"ComponentRef",elements:[{name:"literal",value:"'input'"}],raw:"ComponentRef<'input'>"},{name:"null"}]}],raw:"RefObject<ComponentRef<'input'> | null>"},description:""}}};const ue=E(["absolute","bg-white","border","flex-col","mt-1","overflow-hidden","rounded-md","shadow-2xs","top-full","w-full","z-10","max-h-[185px]","overflow-y-auto","border-gray-200","text-zinc-700","animate-in","fade-in-50","zoom-in-95","duration-[200ms]","dark:bg-slate-800","dark:border-slate-700","dark:text-slate-50"]),W=n.forwardRef(({additionalOptions:c,className:m,inputRef:i,isLoading:a,itemClassName:r,name:e,options:p,searchable:s=!1,listItemSecondRowClassName:l,wrapperInputRef:u,wrapperRef:f},y)=>{const d=n.useRef(null),{isOpen:o,searchTerm:b}=I();n.useImperativeHandle(y,()=>d.current,[d]),oe({ulRef:d,wrapperRef:f,wrapperInputRef:u,inputRef:i,searchable:s});const x=s?p.filter(h=>{const C=b.toLowerCase();return(typeof h.label=="string"?h.label.toLowerCase():"").includes(C)}):p,w=x.length===0;return t.jsx("ul",{ref:d,title:e,role:"listbox",className:g(ue({className:m})),"data-state":o?"open":"closed",children:a?t.jsx(V,{className:g("select-none",r),isClickable:!1,inputRef:i,value:"Loading...",label:"Loading...",listItemSecondRowClassName:l}):w?t.jsx(V,{className:g("select-none",r),isClickable:!1,inputRef:i,value:"No options",label:"No options",listItemSecondRowClassName:l}):t.jsxs(t.Fragment,{children:[x.map(h=>t.jsx(V,{className:g("select-none",r),isClickable:!0,inputRef:i,listItemSecondRowClassName:l,...h},h.value)),c?.map((h,C)=>t.jsx("li",{role:"option","data-action":"true",children:t.jsx(ne,{className:"flex p-2 w-full h-full gap-1 items-center text-sm [&>svg]:w-3.5 [&>svg]:h-3.5 [&>svg]:shrink-0 cursor-pointer select-none hover:bg-gray-50 hover:dark:bg-slate-700 focus:outline-0",children:h})},C))]})})});W.__docgenInfo={description:"",methods:[],displayName:"List",props:{className:{required:!1,tsType:{name:"string"},description:""},inputRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"union",raw:"ComponentRef<'input'> | null",elements:[{name:"ComponentRef",elements:[{name:"literal",value:"'input'"}],raw:"ComponentRef<'input'>"},{name:"null"}]}],raw:"RefObject<ComponentRef<'input'> | null>"},description:""},isLoading:{required:!0,tsType:{name:"boolean"},description:""},itemClassName:{required:!1,tsType:{name:"string"},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},listItemSecondRowClassName:{required:!1,tsType:{name:"string"},description:""},wrapperInputRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"ComponentRef<'div'> | null",elements:[{name:"ComponentRef",elements:[{name:"literal",value:"'div'"}],raw:"ComponentRef<'div'>"},{name:"null"}]}],raw:"RefObject<ComponentRef<'div'> | null>"},description:""},wrapperRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"union",raw:"ComponentRef<'div'> | null",elements:[{name:"ComponentRef",elements:[{name:"literal",value:"'div'"}],raw:"ComponentRef<'div'>"},{name:"null"}]}],raw:"RefObject<ComponentRef<'div'> | null>"},description:""}}};const de=E(["group","border","cursor-pointer","ease-in-out","flex","items-center","justify-between","px-3","py-1","relative","rounded-md","transition-all","w-full","outline-none","h-9","border-gray-200","focus-visible:bg-zinc-50","aria-expanded:border-aurora-500","aria-expanded:text-aurora-500","kubefirst:aria-expanded:border-kubefirst-primary","kubefirst:aria-expanded:text-kubefirst-secondary","dark:border-slate-600","dark:focus-visible:bg-slate-800"],{variants:{hasError:{true:["aria-expanded:border-red-600","aria-expanded:text-red-600","kubefirst:border-red-600","kubefirst:text-red-600"],false:""},disabled:{true:["cursor-default","bg-gray-100","dark:bg-slate-700/80"],false:[]}},defaultVariants:{hasError:!1,disabled:!1}}),me=E(["flex-1","bg-transparent","border-none","outline-none","text-zinc-700","text-sm","capitalize","placeholder:text-sm","placeholder:normal-case","placeholder:select-none","dark:placeholder:text-slate-400","dark:text-slate-50"]),pe=E(["mb-1","cursor-pointer","text-sm","leading-5","tracking-[0.1px]","dark:text-slate-50"]),fe=({ulRef:c,inputRef:m,disabled:i})=>{const a=n.useRef(null),r=n.useRef(null),{toggleOpen:e}=I();n.useEffect(()=>{const s=new AbortController,l=f=>{f.key==="Escape"&&e(!1)},u=f=>{a.current?.contains(f.target)||e(!1)};return document.addEventListener("keydown",l,{signal:s.signal}),document.addEventListener("mousedown",u,{signal:s.signal}),document.addEventListener("visibilitychange",()=>{document.hidden&&e(!1)},{signal:s.signal}),r.current?.addEventListener("focus",()=>{i||e(!0)},{signal:s.signal}),()=>{s.abort()}},[e,a]),n.useEffect(()=>{const s=new AbortController;return r.current?.addEventListener("keydown",l=>{if(l.key==="ArrowDown"){const u=c.current?.querySelector("li");u&&u.focus()}},{signal:s.signal}),()=>{s.abort()}},[r,c]);const p=n.useCallback(()=>{e(!0),requestAnimationFrame(()=>m?.current?.focus())},[m,e]);return{wrapperRef:a,wrapperInputRef:r,handleOpen:p}},G=n.forwardRef(({additionalOptions:c,className:m,defaultValue:i,disabled:a=!1,error:r,iconClassName:e,inputClassName:p,isLoading:s,isRequired:l,label:u,labelClassName:f,listClassName:y,listItemClassName:d,listItemSecondRowClassName:o,name:b,options:x,placeholder:w,searchable:h=!1,showSearchIcon:C,theme:z,wrapperClassName:J,onBlur:_,...P},Q)=>{const F=n.useId(),k=n.useRef(null),K=n.useRef(null),{wrapperRef:R,wrapperInputRef:$,handleOpen:D}=fe({ulRef:K,inputRef:k,disabled:a}),{isOpen:O,searchTerm:X,value:T,toggleOpen:Y,setValue:S,setSearchTerm:A}=I(),j=b?`${F}-${b}`:F;n.useImperativeHandle(Q,()=>k.current,[k]);const N=n.useMemo(()=>x.find(({value:v})=>v===T),[x,T]);n.useEffect(()=>{k.current&&(k.current.value=T?N?.value:"")},[N,T]),n.useEffect(()=>{if(i&&!T){const v=x&&x.find(q=>q.value===i);v&&S(v.value)}},[i,x,S,T]),n.useEffect(()=>{const v=new AbortController;return R.current?.addEventListener("focusout",q=>{const L=q.relatedTarget;(!L||!R.current?.contains(L))&&(A(""),k.current?.value||_?.())}),()=>{v.abort()}},[Y,R,A,_,T]);const Z=v=>{const q=v.target.value;A(q);const L=x.find(ee=>ee.value.toLocaleLowerCase()===q.toLocaleLowerCase());L&&S(L.value)};return t.jsxs("div",{ref:R,className:g("flex flex-col w-full relative",J),"data-theme":z,children:[u?t.jsxs("label",{id:j,className:g(pe({className:f})),htmlFor:j,onClick:()=>!a&&D(),children:[u,l&&t.jsx("span",{className:"text-red-600 ml-1",children:"*"})]}):null,t.jsxs("div",{ref:$,id:j,className:g(de({className:m,hasError:!!r,disabled:a})),role:"combobox",onClick:()=>!a&&D(),"aria-expanded":O,tabIndex:0,"aria-labelledby":j,children:[t.jsxs("div",{className:"flex gap-2.5 items-center flex-1",children:[N?.leftIcon&&!C&&t.jsx("span",{className:"w-4 h-4 flex justify-center items-center dark:text-slate-50",children:N.leftIcon}),C&&t.jsx(ie,{className:"w-4 h-4 text-zinc-500 select-none dark:text-slate-300 dark:group-focus-within:text-slate-50 transition-colors duration-300"}),h?t.jsx("input",{ref:k,type:"text",value:O?X:N?.label||"",name:b,onChange:Z,placeholder:w,className:g(me({className:p}),{"text-red-700 placeholder:text-red-700":!!r}),onClick:v=>{v.stopPropagation(),a||D()},"aria-label":u||w,"aria-labelledby":j,required:l,autoComplete:"off",autoCapitalize:"words",disabled:a,...P}):t.jsx(U,{variant:"body2",className:g("flex-1 text-zinc-400 text-sm dark:text-slate-400",{"text-red-700":!!r,"select-none":!N,"text-slate-800 dark:text-slate-50":N,"text-slate-400/50 dark:text-slate-50/50":a}),children:N?.label||w})]}),s?t.jsx(re,{className:"w-4 h-4 text-zinc-500 select-none"}):!C&&t.jsx(se,{"data-state":O?"open":"closed",className:g("w-4 h-4 text-zinc-500 transition-all duration-100 data-[state=open]:rotate-0 data-[state=closed]:rotate-180 select-none dark:group-focus-within:text-slate-50",e,{"text-red-700":!!r,"text-slate-400/50 dark:group-focus-within:text-zinc-500":a})})]}),!h&&t.jsx("input",{ref:k,type:"text",name:b,className:"hidden","aria-hidden":"true",required:l,inert:!0,...P}),O&&t.jsx(W,{ref:K,additionalOptions:c,className:y,itemClassName:d,name:b,wrapperRef:R,wrapperInputRef:$,inputRef:k,options:x,isLoading:!!s,searchable:h,listItemSecondRowClassName:o})]})});G.__docgenInfo={description:"",methods:[],displayName:"Wrapper",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},searchable:{defaultValue:{value:"false",computed:!1},required:!1}}};const ge=n.forwardRef(({onChange:c,onBlur:m,value:i,error:a,helperText:r,name:e,highlightSearch:p,...s},l)=>t.jsx(M,{highlightSearch:p,name:e,value:i,onBlur:m,onChange:c,children:t.jsxs("div",{className:"relative w-full",children:[t.jsx(G,{name:e,error:a,ref:l,onBlur:m,...s}),a?t.jsx("span",{className:"text-xs text-red-700",children:a}):null,!a&&r?t.jsx("span",{className:"text-xs text-slate-600",children:r}):null]})}));ge.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{additionalOptions:{required:!1,tsType:{name:"union",raw:"ReactNode[] | string[]",elements:[{name:"Array",elements:[{name:"ReactNode"}],raw:"ReactNode[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"string"},description:""},helperText:{required:!1,tsType:{name:"string"},description:""},highlightSearch:{required:!1,tsType:{name:"boolean"},description:""},iconClassName:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},isRequired:{required:!1,tsType:{name:"boolean"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},listClassName:{required:!1,tsType:{name:"string"},description:""},listItemClassName:{required:!1,tsType:{name:"string"},description:""},listItemSecondRowClassName:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string | ReactNode;
  subLabel?: string | ReactNode;
  leftIcon?: ReactNode | string;
  value: string;
}`,signature:{properties:[{key:"label",value:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}],required:!0}},{key:"subLabel",value:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}],required:!1}},{key:"leftIcon",value:{name:"union",raw:"ReactNode | string",elements:[{name:"ReactNode"},{name:"string"}],required:!1}},{key:"value",value:{name:"string",required:!0}}]}}],raw:"Option[]"},description:""},searchable:{required:!1,tsType:{name:"boolean"},description:""},showSearchIcon:{required:!1,tsType:{name:"boolean"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},value:{required:!1,tsType:{name:"string"},description:""},wrapperClassName:{required:!1,tsType:{name:"string"},description:""},onBlur:{required:!1,tsType:{name:"VoidFunction"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(params: { target: { value: string; name: string } }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ target: { value: string; name: string } }",signature:{properties:[{key:"target",value:{name:"signature",type:"object",raw:"{ value: string; name: string }",signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}}]},required:!0}}]}},name:"params"}],return:{name:"void"}}},description:""}}};export{ge as D};
