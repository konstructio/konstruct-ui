import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{B as Re}from"./Button-DXZWxUR3.js";import{u as ce,S as U}from"./index-DpkRKT-m.js";import{r as n}from"./iframe-BdUl3Uau.js";import{r as Ne}from"./index-VODYerS0.js";import{c as Se,a as Ie,b as P,u as _e}from"./index-Cg6-ArkS.js";import{c as je}from"./index-BwKGj_do.js";import{B as Fe,R as ke,P as Ae}from"./index-CrIEt6vX.js";import{P as De}from"./index-DNb412FQ.js";import{P as k,d as Oe}from"./index-4J9FLpjJ.js";import{u as H}from"./index-CcIwFAYS.js";import{V as le,R as Le}from"./index-R9OqVIKD.js";import{c as Z,a as Y}from"./index-DJQVxuCM.js";import{X as Me}from"./x-CKR4jBj2.js";import{c as Ve}from"./createLucideIcon-CCTjYs2G.js";import"./index-BFzcArh_.js";import"./index-Bq9O3FRL.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["line",{x1:"9",x2:"9",y1:"4",y2:"20",key:"ovs5a5"}],["path",{d:"M4 7c0-1.7 1.3-3 3-3h13",key:"10pag4"}],["path",{d:"M18 20c-1.7 0-3-1.3-3-3V4",key:"1gaosr"}]],qe=Ve("pi",Ke);var ee="ToastProvider",[te,Be,He]=je("Toast"),[ue,jt]=Se("Toast",[He]),[We,W]=ue(ee),de=e=>{const{__scopeToast:o,label:s="Notification",duration:t=5e3,swipeDirection:l="right",swipeThreshold:d=50,children:p}=e,[m,T]=n.useState(null),[a,h]=n.useState(0),w=n.useRef(!1),N=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ee}\`. Expected non-empty \`string\`.`),r.jsx(te.Provider,{scope:o,children:r.jsx(We,{scope:o,label:s,duration:t,swipeDirection:l,swipeThreshold:d,toastCount:a,viewport:m,onViewportChange:T,onToastAdd:n.useCallback(()=>h(R=>R+1),[]),onToastRemove:n.useCallback(()=>h(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:N,children:p})})};de.displayName=ee;var pe="ToastViewport",$e=["F8"],G="toast.viewportPause",J="toast.viewportResume",fe=n.forwardRef((e,o)=>{const{__scopeToast:s,hotkey:t=$e,label:l="Notifications ({hotkey})",...d}=e,p=W(pe,s),m=Be(s),T=n.useRef(null),a=n.useRef(null),h=n.useRef(null),w=n.useRef(null),N=ce(o,w,p.onViewportChange),R=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=p.toastCount>0;n.useEffect(()=>{const c=E=>{var v;t.length!==0&&t.every(x=>E[x]||E.code===x)&&((v=w.current)==null||v.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),n.useEffect(()=>{const c=T.current,E=w.current;if(b&&c&&E){const f=()=>{if(!p.isClosePausedRef.current){const C=new CustomEvent(G);E.dispatchEvent(C),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const C=new CustomEvent(J);E.dispatchEvent(C),p.isClosePausedRef.current=!1}},x=C=>{!c.contains(C.relatedTarget)&&v()},y=()=>{c.contains(document.activeElement)||v()};return c.addEventListener("focusin",f),c.addEventListener("focusout",x),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",y),window.addEventListener("blur",f),window.addEventListener("focus",v),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",x),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",y),window.removeEventListener("blur",f),window.removeEventListener("focus",v)}}},[b,p.isClosePausedRef]);const u=n.useCallback(({tabbingDirection:c})=>{const f=m().map(v=>{const x=v.ref.current,y=[x,...rt(x)];return c==="forwards"?y:y.reverse()});return(c==="forwards"?f.reverse():f).flat()},[m]);return n.useEffect(()=>{const c=w.current;if(c){const E=f=>{var y,C,I;const v=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!v){const A=document.activeElement,j=f.shiftKey;if(f.target===c&&j){(y=a.current)==null||y.focus();return}const _=u({tabbingDirection:j?"backwards":"forwards"}),M=_.findIndex(i=>i===A);z(_.slice(M+1))?f.preventDefault():j?(C=a.current)==null||C.focus():(I=h.current)==null||I.focus()}};return c.addEventListener("keydown",E),()=>c.removeEventListener("keydown",E)}},[m,u]),r.jsxs(Fe,{ref:T,role:"region","aria-label":l.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&r.jsx(Q,{ref:a,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});z(c)}}),r.jsx(te.Slot,{scope:s,children:r.jsx(k.ol,{tabIndex:-1,...d,ref:N})}),b&&r.jsx(Q,{ref:h,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});z(c)}})]})});fe.displayName=pe;var me="ToastFocusProxy",Q=n.forwardRef((e,o)=>{const{__scopeToast:s,onFocusFromOutsideViewport:t,...l}=e,d=W(me,s);return r.jsx(le,{"aria-hidden":!0,tabIndex:0,...l,ref:o,style:{position:"fixed"},onFocus:p=>{var a;const m=p.relatedTarget;!((a=d.viewport)!=null&&a.contains(m))&&t()}})});Q.displayName=me;var L="Toast",Xe="toast.swipeStart",Ue="toast.swipeMove",Ye="toast.swipeCancel",ze="toast.swipeEnd",ve=n.forwardRef((e,o)=>{const{forceMount:s,open:t,defaultOpen:l,onOpenChange:d,...p}=e,[m,T]=Ie({prop:t,defaultProp:l??!0,onChange:d,caller:L});return r.jsx(De,{present:s||m,children:r.jsx(Qe,{open:m,...p,ref:o,onClose:()=>T(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:h,y:w}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:h,y:w}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),T(!1)})})})});ve.displayName=L;var[Ge,Je]=ue(L,{onClose(){}}),Qe=n.forwardRef((e,o)=>{const{__scopeToast:s,type:t="foreground",duration:l,open:d,onClose:p,onEscapeKeyDown:m,onPause:T,onResume:a,onSwipeStart:h,onSwipeMove:w,onSwipeCancel:N,onSwipeEnd:R,...b}=e,u=W(L,s),[c,E]=n.useState(null),f=ce(o,i=>E(i)),v=n.useRef(null),x=n.useRef(null),y=l||u.duration,C=n.useRef(0),I=n.useRef(y),A=n.useRef(0),{onToastAdd:j,onToastRemove:$}=u,F=H(()=>{var g;(c==null?void 0:c.contains(document.activeElement))&&((g=u.viewport)==null||g.focus()),p()}),_=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(F,i))},[F]);n.useEffect(()=>{const i=u.viewport;if(i){const g=()=>{_(I.current),a==null||a()},S=()=>{const D=new Date().getTime()-C.current;I.current=I.current-D,window.clearTimeout(A.current),T==null||T()};return i.addEventListener(G,S),i.addEventListener(J,g),()=>{i.removeEventListener(G,S),i.removeEventListener(J,g)}}},[u.viewport,y,T,a,_]),n.useEffect(()=>{d&&!u.isClosePausedRef.current&&_(y)},[d,y,u.isClosePausedRef,_]),n.useEffect(()=>(j(),()=>$()),[j,$]);const M=n.useMemo(()=>c?ge(c):null,[c]);return u.viewport?r.jsxs(r.Fragment,{children:[M&&r.jsx(Ze,{__scopeToast:s,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),r.jsx(Ge,{scope:s,onClose:F,children:Ne.createPortal(r.jsx(te.ItemSlot,{scope:s,children:r.jsx(ke,{asChild:!0,onEscapeKeyDown:P(m,()=>{u.isFocusedToastEscapeKeyDownRef.current||F(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(k.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...b,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(m==null||m(i.nativeEvent),i.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(v.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!v.current)return;const g=i.clientX-v.current.x,S=i.clientY-v.current.y,D=!!x.current,O=["left","right"].includes(u.swipeDirection),V=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,be=O?V(0,g):0,Pe=O?0:V(0,S),X=i.pointerType==="touch"?10:2,K={x:be,y:Pe},oe={originalEvent:i,delta:K};D?(x.current=K,q(Ue,w,oe,{discrete:!1})):re(K,u.swipeDirection,X)?(x.current=K,q(Xe,h,oe,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>X||Math.abs(S)>X)&&(v.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const g=x.current,S=i.target;if(S.hasPointerCapture(i.pointerId)&&S.releasePointerCapture(i.pointerId),x.current=null,v.current=null,g){const D=i.currentTarget,O={originalEvent:i,delta:g};re(g,u.swipeDirection,u.swipeThreshold)?q(ze,R,O,{discrete:!0}):q(Ye,N,O,{discrete:!0}),D.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),Ze=e=>{const{__scopeToast:o,children:s,...t}=e,l=W(L,o),[d,p]=n.useState(!1),[m,T]=n.useState(!1);return st(()=>p(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(a)},[]),m?null:r.jsx(Ae,{asChild:!0,children:r.jsx(le,{...t,children:d&&r.jsxs(r.Fragment,{children:[l.label," ",s]})})})},et="ToastTitle",Te=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(k.div,{...t,ref:o})});Te.displayName=et;var tt="ToastDescription",we=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(k.div,{...t,ref:o})});we.displayName=tt;var xe="ToastAction",he=n.forwardRef((e,o)=>{const{altText:s,...t}=e;return s.trim()?r.jsx(Ce,{altText:s,asChild:!0,children:r.jsx(Ee,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${xe}\`. Expected non-empty \`string\`.`),null)});he.displayName=xe;var ye="ToastClose",Ee=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e,l=Je(ye,s);return r.jsx(Ce,{asChild:!0,children:r.jsx(k.button,{type:"button",...t,ref:o,onClick:P(e.onClick,l.onClose)})})});Ee.displayName=ye;var Ce=n.forwardRef((e,o)=>{const{__scopeToast:s,altText:t,...l}=e;return r.jsx(k.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...l,ref:o})});function ge(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),ot(t)){const l=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!l)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...ge(t))}}),o}function q(e,o,s,{discrete:t}){const l=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});o&&l.addEventListener(e,o,{once:!0}),t?Oe(l,d):l.dispatchEvent(d)}var re=(e,o,s=0)=>{const t=Math.abs(e.x),l=Math.abs(e.y),d=t>l;return o==="left"||o==="right"?d&&t>s:!d&&l>s};function st(e=()=>{}){const o=H(e);_e(()=>{let s=0,t=0;return s=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(t)}},[o])}function ot(e){return e.nodeType===e.ELEMENT_NODE}function rt(e){const o=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const l=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||l?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function z(e){const o=document.activeElement;return e.some(s=>s===o?!0:(s.focus(),document.activeElement!==o))}var nt=de,at=fe,it=ve,ct=Te,lt=we,ut=he;const dt=Z(["rounded-md","shadow-md","p-4","flex","flex-col","relative","border","overflow-hidden","data-[state=open]:animate-slide-in","data-[state=closed]:animate-hide","data-[swipe=move]:translate-x-4","data-[swipe=cancel]:translate-x-0","data-[swipe=end]:animate-swipe-out","shadow-purple-200","border-purple-100","colony:shadow-red-200","colony:border-red-100"]),pt=Z(["fixed","bottom-0","right-0","flex","flex-col","p-[var(--viewport-padding)]","gap-8","w-[390px]","max-w-[100vw]","m-0","z-50","outline-none"]),ft=Z(["top-2","right-2","w-4","h-4","text-kubefirst-primary","colony:text-red-400"]),se=({title:e,duration:o=5e3,titleClassName:s,descriptionClassName:t,description:l,children:d,theme:p,showCloseButton:m=!0,closeButtonClassName:T,className:a,open:h=!1,setOpen:w})=>{const N=n.useRef(0);n.useEffect(()=>()=>clearTimeout(N.current),[]);const R=n.useMemo(()=>n.isValidElement(e)?r.jsx(U,{className:s,children:e}):e,[e,s]),b=n.useMemo(()=>n.isValidElement(l)?r.jsx(U,{className:t,children:l}):l,[l,t]),u=n.useCallback(()=>{w(!1),N.current=window.setTimeout(()=>w(!0),100)},[w]);return r.jsxs(nt,{swipeDirection:"right",duration:o,children:[r.jsx(U,{onClick:u,children:d}),r.jsxs(it,{className:Y(dt({className:a})),"data-theme":p,open:h,onOpenChange:w,children:[r.jsx(ct,{asChild:!0,className:s,children:R}),b&&r.jsx(lt,{asChild:!0,children:b}),m&&r.jsx(ut,{asChild:!0,altText:"Close the toast",children:r.jsxs("button",{type:"button",className:"absolute right-1.5 top-1.5",children:[r.jsx(Me,{className:Y(ft({className:T}))}),r.jsx(Le,{children:"Close toast"})]})})]}),r.jsx(at,{className:Y(pt())})]})};se.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{className:{required:!1,tsType:{name:"string"},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},descriptionClassName:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5000",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'colony'
| 'civo'
| 'kubefirst-dark'
| 'colony-dark'
| 'civo-dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'colony'"},{name:"literal",value:"'civo'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'colony-dark'"},{name:"literal",value:"'civo-dark'"},{name:"undefined"}]},description:""},title:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},titleClassName:{required:!1,tsType:{name:"string"},description:""},setOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren","VariantProps"]};const Ft={title:"In Review/Toast",component:se},B={args:{duration:1500,title:r.jsxs("h6",{className:"text-white flex items-center gap-2",children:[r.jsx(qe,{name:"circle-check"}),"This is a title"]})},render:e=>{const[o,s]=n.useState(!1);return r.jsxs("div",{className:"w-[350px] flex flex-col gap-3",children:[r.jsx(Re,{onClick:()=>s(!0),children:"Open Toast"}),r.jsx(se,{...e,className:"bg-emerald-700",open:o,setOpen:s,closeButtonClassName:"text-white"})]})}};var ne,ae,ie;B.parameters={...B.parameters,docs:{...(ne=B.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  args: {
    duration: 1500,
    title: <h6 className="text-white flex items-center gap-2">
        <PiIcon name="circle-check" />
        This is a title
      </h6>
  },
  render: args => {
    const [open, setOpen] = useState(false);
    return <div className="w-[350px] flex flex-col gap-3">
        <Button onClick={() => setOpen(true)}>Open Toast</Button>
        <ToastComponent {...args} className="bg-emerald-700" open={open} setOpen={setOpen} closeButtonClassName="text-white" />
      </div>;
  }
}`,...(ie=(ae=B.parameters)==null?void 0:ae.docs)==null?void 0:ie.source}}};const kt=["Toast"];export{B as Toast,kt as __namedExportsOrder,Ft as default};
