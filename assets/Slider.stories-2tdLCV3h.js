import{j as m}from"./jsx-runtime-DR9Q75dM.js";import{r as d,R as E}from"./index-DRjF_FHU.js";import{c as pe,a as he,b as D,P as K}from"./index-DH3w3I1Y.js";import{u as V,S as G}from"./index-CaQnC5nY.js";import{a as Se,u as xe}from"./index-CU357GLr.js";import{t as ge}from"./bundle-mjs-Dnoi3Axr.js";import{c as F}from"./index-Bb4qSo10.js";import{u as ve}from"./theme.hook-CuwzjDGP.js";import"./index-rX-Bn4lm.js";function Z(e,[t,n]){return Math.min(n,Math.max(t,e))}var we=d.createContext(void 0);function be(e){const t=d.useContext(we);return e||t||"ltr"}function Ce(e,t=[]){let n=[];function r(c,o){const s=d.createContext(o),l=n.length;n=[...n,o];function f(a){const{scope:u,children:h,...p}=a,g=(u==null?void 0:u[e][l])||s,S=d.useMemo(()=>p,Object.values(p));return m.jsx(g.Provider,{value:S,children:h})}function w(a,u){const h=(u==null?void 0:u[e][l])||s,p=d.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${a}\` must be used within \`${c}\``)}return f.displayName=c+"Provider",[f,w]}const i=()=>{const c=n.map(o=>d.createContext(o));return function(s){const l=(s==null?void 0:s[e])||c;return d.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,ye(i,...t)]}function ye(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const o=r.reduce((s,{useScope:l,scopeName:f})=>{const a=l(c)[`__scope${f}`];return{...s,...a}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Re(e){const t=e+"CollectionProvider",[n,r]=Ce(t),[i,c]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:g}=h,S=E.useRef(null),x=E.useRef(new Map).current;return m.jsx(i,{scope:p,itemMap:x,collectionRef:S,children:g})};o.displayName=t;const s=e+"CollectionSlot",l=E.forwardRef((h,p)=>{const{scope:g,children:S}=h,x=c(s,g),C=V(p,x.collectionRef);return m.jsx(G,{ref:C,children:S})});l.displayName=s;const f=e+"CollectionItemSlot",w="data-radix-collection-item",a=E.forwardRef((h,p)=>{const{scope:g,children:S,...x}=h,C=E.useRef(null),b=V(p,C),v=c(f,g);return E.useEffect(()=>(v.itemMap.set(C,{ref:C,...x}),()=>void v.itemMap.delete(C))),m.jsx(G,{[w]:"",ref:b,children:S})});a.displayName=f;function u(h){const p=c(e+"CollectionConsumer",h);return E.useCallback(()=>{const S=p.collectionRef.current;if(!S)return[];const x=Array.from(S.querySelectorAll(`[${w}]`));return Array.from(p.itemMap.values()).sort((v,R)=>x.indexOf(v.ref.current)-x.indexOf(R.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:a},u,r]}var ee=["PageUp","PageDown"],te=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},T="Slider",[L,Pe,_e]=Re(T),[oe,nt]=pe(T,[_e]),[Ee,B]=oe(T),re=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:c=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:f=[r],value:w,onValueChange:a=()=>{},onValueCommit:u=()=>{},inverted:h=!1,form:p,...g}=e,S=d.useRef(new Set),x=d.useRef(0),b=o==="horizontal"?Ve:Me,[v=[],R]=he({prop:w,defaultProp:f,onChange:y=>{var M;(M=[...S.current][x.current])==null||M.focus(),a(y)}}),O=d.useRef(v);function z(y){const P=Ne(v,y);k(y,P)}function me(y){k(y,x.current)}function fe(){const y=O.current[x.current];v[x.current]!==y&&u(v)}function k(y,P,{commit:M}={commit:!1}){const Y=Oe(c),H=ze(Math.round((y-r)/c)*c+r,Y),I=Z(H,[r,i]);R((j=[])=>{const _=ke(j,I,P);if(Be(_,l*c)){x.current=_.indexOf(I);const X=String(_)!==String(j);return X&&M&&u(_),X?_:j}else return j})}return m.jsx(Ee,{scope:e.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:x,thumbs:S.current,values:v,orientation:o,form:p,children:m.jsx(L.Provider,{scope:e.__scopeSlider,children:m.jsx(L.Slot,{scope:e.__scopeSlider,children:m.jsx(b,{"aria-disabled":s,"data-disabled":s?"":void 0,...g,ref:t,onPointerDown:D(g.onPointerDown,()=>{s||(O.current=v)}),min:r,max:i,inverted:h,onSlideStart:s?void 0:z,onSlideMove:s?void 0:me,onSlideEnd:s?void 0:fe,onHomeKeyDown:()=>!s&&k(r,0,{commit:!0}),onEndKeyDown:()=>!s&&k(i,v.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:P})=>{if(!s){const H=ee.includes(y.key)||y.shiftKey&&te.includes(y.key)?10:1,I=x.current,j=v[I],_=c*H*P;k(j+_,I,{commit:!0})}}})})})})});re.displayName=T;var[se,ie]=oe(T,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ve=d.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:c,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:f,...w}=e,[a,u]=d.useState(null),h=V(t,b=>u(b)),p=d.useRef(),g=be(i),S=g==="ltr",x=S&&!c||!S&&c;function C(b){const v=p.current||a.getBoundingClientRect(),R=[0,v.width],z=U(R,x?[n,r]:[r,n]);return p.current=v,z(b-v.left)}return m.jsx(se,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:m.jsx(ae,{dir:g,"data-orientation":"horizontal",...w,ref:h,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const v=C(b.clientX);o==null||o(v)},onSlideMove:b=>{const v=C(b.clientX);s==null||s(v)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:b=>{const R=ne[x?"from-left":"from-right"].includes(b.key);f==null||f({event:b,direction:R?-1:1})}})})}),Me=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:c,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...f}=e,w=d.useRef(null),a=V(t,w),u=d.useRef(),h=!i;function p(g){const S=u.current||w.current.getBoundingClientRect(),x=[0,S.height],b=U(x,h?[r,n]:[n,r]);return u.current=S,b(g-S.top)}return m.jsx(se,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:m.jsx(ae,{"data-orientation":"vertical",...f,ref:a,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const S=p(g.clientY);c==null||c(S)},onSlideMove:g=>{const S=p(g.clientY);o==null||o(S)},onSlideEnd:()=>{u.current=void 0,s==null||s()},onStepKeyDown:g=>{const x=ne[h?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:x?-1:1})}})})}),ae=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:c,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...f}=e,w=B(T,n);return m.jsx(K.span,{...f,ref:t,onKeyDown:D(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(s(a),a.preventDefault()):ee.concat(te).includes(a.key)&&(l(a),a.preventDefault())}),onPointerDown:D(e.onPointerDown,a=>{const u=a.target;u.setPointerCapture(a.pointerId),a.preventDefault(),w.thumbs.has(u)?u.focus():r(a)}),onPointerMove:D(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&i(a)}),onPointerUp:D(e.onPointerUp,a=>{const u=a.target;u.hasPointerCapture(a.pointerId)&&(u.releasePointerCapture(a.pointerId),c(a))})})}),ce="SliderTrack",le=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=B(ce,n);return m.jsx(K.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});le.displayName=ce;var $="SliderRange",je=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=B($,n),c=ie($,n),o=d.useRef(null),s=V(t,o),l=i.values.length,f=i.values.map(u=>de(u,i.min,i.max)),w=l>1?Math.min(...f):0,a=100-Math.max(...f);return m.jsx(K.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...e.style,[c.startEdge]:w+"%",[c.endEdge]:a+"%"}})});je.displayName=$;var q="SliderThumb",ue=d.forwardRef((e,t)=>{const n=Pe(e.__scopeSlider),[r,i]=d.useState(null),c=V(t,s=>i(s)),o=d.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return m.jsx(De,{...e,ref:c,index:o})}),De=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...c}=e,o=B(q,n),s=ie(q,n),[l,f]=d.useState(null),w=V(t,C=>f(C)),a=l?o.form||!!l.closest("form"):!0,u=Se(l),h=o.values[r],p=h===void 0?0:de(h,o.min,o.max),g=Ie(r,o.values.length),S=u==null?void 0:u[s.size],x=S?Ae(S,p,s.direction):0;return d.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),m.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${x}px)`},children:[m.jsx(L.ItemSlot,{scope:e.__scopeSlider,children:m.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...c,ref:w,style:h===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),a&&m.jsx(Te,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});ue.displayName=q;var Te=e=>{const{value:t,...n}=e,r=d.useRef(null),i=xe(t);return d.useEffect(()=>{const c=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&l){const f=new Event("input",{bubbles:!0});l.call(c,t),c.dispatchEvent(f)}},[i,t]),m.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function ke(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,c)=>i-c)}function de(e,t,n){const c=100/(n-t)*(e-t);return Z(c,[0,100])}function Ie(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ne(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function Ae(e,t,n){const r=e/2,c=U([0,50],[0,r]);return(r-c(t)*n)*n}function Ke(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Be(e,t){if(t>0){const n=Ke(e);return Math.min(...n)>=t}return!0}function U(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Oe(e){return(String(e).split(".")[1]||"").length}function ze(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var He=re,Le=le,$e=ue;const qe=F(["relative","flex","items-center","w-full"],{variants:{theme:{kubefirst:"",konstruct:"",colony:""}},defaultVariants:{theme:"kubefirst"}}),Fe=F(["relative","flex-grow","rounded-full"],{variants:{theme:{kubefirst:["bg-kubefirst-purple-dark"],konstruct:["bg-orange-500"],colony:["bg-red-500"]},size:{sm:["h-1"],md:["h-2"],lg:["h-3"]}},defaultVariants:{theme:"kubefirst",size:"md"}}),Ue=F(["block","w-5","h-5","rounded-full","cursor-pointer","focus-visible:outline-none","shadow-md","bg-white","border","border-gray-300"],{variants:{theme:{kubefirst:"",konstruct:"",colony:""},size:{sm:["w-5","h-5"],md:["w-6","h-6"],lg:["w-7","h-7"]}},defaultVariants:{theme:"kubefirst",size:"md"}}),N=d.forwardRef(({label:e,defaultValue:t=[0],name:n,theme:r,size:i,showValue:c,...o},s)=>{const l=d.useRef(null),[f,w]=d.useState(t),{theme:a}=ve(),u=r??a;d.useImperativeHandle(s,()=>l.current,[l]),d.useEffect(()=>{l.current&&(l.current.value=f.toString())},[f]);const h=d.useCallback(p=>w(p),[]);return m.jsxs("div",{className:"w-full relative flex flex-col gap-3",children:[m.jsxs("div",{className:ge("flex items-center",e?"justify-between":"justify-end"),children:[e?m.jsx("label",{children:e}):null,c?m.jsxs("span",{className:"text-xs",children:[f,"%"]}):null]}),m.jsx("input",{ref:l,name:n,className:"hidden",type:"number"}),m.jsxs(He,{value:f,className:qe({theme:u}),onValueChange:h,...o,children:[m.jsx(Le,{className:Fe({theme:u,size:i})}),m.jsx($e,{className:Ue({theme:u,size:i})})]})]})});N.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{className:{required:!1,tsType:{name:"string"},description:""},defaultValue:{required:!1,tsType:{name:"SliderPropsBase['defaultValue']",raw:"SliderPropsBase['defaultValue']"},description:"",defaultValue:{value:"[0]",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},showValue:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:""}},composes:["VariantProps"]};const ot={component:N},A={args:{showValue:!0},render:e=>m.jsxs("div",{className:"max-w-[350px]",children:[m.jsx(N,{theme:"kubefirst",label:"Slider with Kubefirst theme",defaultValue:[50],...e}),m.jsx("div",{className:"mt-10"}),m.jsx(N,{theme:"konstruct",label:"Slider with Konstruct theme",defaultValue:[77],...e}),m.jsx("div",{className:"mt-10"}),m.jsx(N,{theme:"colony",label:"Slider with Colony theme",defaultValue:[35],...e})]})};var W,J,Q;A.parameters={...A.parameters,docs:{...(W=A.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    showValue: true
  },
  render: args => <div className="max-w-[350px]">
      <SliderComponent theme="kubefirst" label="Slider with Kubefirst theme" defaultValue={[50]} {...args} />

      <div className="mt-10" />

      <SliderComponent theme="konstruct" label="Slider with Konstruct theme" defaultValue={[77]} {...args} />

      <div className="mt-10" />

      <SliderComponent theme="colony" label="Slider with Colony theme" defaultValue={[35]} {...args} />
    </div>
}`,...(Q=(J=A.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};const rt=["Slider"];export{A as Slider,rt as __namedExportsOrder,ot as default};
