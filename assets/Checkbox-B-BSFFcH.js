import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./iframe-D01DnpOT.js";import{u as T}from"./index-D60xDcd1.js";import{c as z,a as H,b as P}from"./index-B828Y_RN.js";import{a as G,u as U}from"./index-D_7VcE6Z.js";import{P as X}from"./index-CvqYmrir.js";import{P as I}from"./index-DT-OuMj9.js";import{u as $}from"./useToggle-C8QLhViD.js";import{c as q,a as j}from"./index-CJCZd66Q.js";import{C as J}from"./check-BRemKMXz.js";var y="Checkbox",[Q,pe]=z(y),[W,R]=Q(y);function Y(t){const{__scopeCheckbox:d,checked:c,children:u,defaultChecked:r,disabled:e,form:m,name:p,onCheckedChange:l,required:h,value:k="on",internal_do_not_use_render:i}=t,[f,v]=H({prop:c,defaultProp:r??!1,onChange:l,caller:y}),[b,C]=s.useState(null),[g,n]=s.useState(null),a=s.useRef(!1),_=b?!!m||!!b.closest("form"):!0,E={checked:f,disabled:e,setChecked:v,control:b,setControl:C,name:p,form:m,value:k,hasConsumerStoppedPropagationRef:a,required:h,defaultChecked:x(r)?!1:r,isFormControl:_,bubbleInput:g,setBubbleInput:n};return o.jsx(W,{scope:d,...E,children:Z(i)?i(E):u})}var w="CheckboxTrigger",S=s.forwardRef(({__scopeCheckbox:t,onKeyDown:d,onClick:c,...u},r)=>{const{control:e,value:m,disabled:p,checked:l,required:h,setControl:k,setChecked:i,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:b}=R(w,t),C=T(r,k),g=s.useRef(l);return s.useEffect(()=>{const n=e?.form;if(n){const a=()=>i(g.current);return n.addEventListener("reset",a),()=>n.removeEventListener("reset",a)}},[e,i]),o.jsx(I.button,{type:"button",role:"checkbox","aria-checked":x(l)?"mixed":l,"aria-required":h,"data-state":O(l),"data-disabled":p?"":void 0,disabled:p,value:m,...u,ref:C,onKeyDown:P(d,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:P(c,n=>{i(a=>x(a)?!0:!a),b&&v&&(f.current=n.isPropagationStopped(),f.current||n.stopPropagation())})})});S.displayName=w;var B=s.forwardRef((t,d)=>{const{__scopeCheckbox:c,name:u,checked:r,defaultChecked:e,required:m,disabled:p,value:l,onCheckedChange:h,form:k,...i}=t;return o.jsx(Y,{__scopeCheckbox:c,checked:r,defaultChecked:e,disabled:p,required:m,onCheckedChange:h,name:u,form:k,value:l,internal_do_not_use_render:({isFormControl:f})=>o.jsxs(o.Fragment,{children:[o.jsx(S,{...i,ref:d,__scopeCheckbox:c}),f&&o.jsx(L,{__scopeCheckbox:c})]})})});B.displayName=y;var M="CheckboxIndicator",A=s.forwardRef((t,d)=>{const{__scopeCheckbox:c,forceMount:u,...r}=t,e=R(M,c);return o.jsx(X,{present:u||x(e.checked)||e.checked===!0,children:o.jsx(I.span,{"data-state":O(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:d,style:{pointerEvents:"none",...t.style}})})});A.displayName=M;var F="CheckboxBubbleInput",L=s.forwardRef(({__scopeCheckbox:t,...d},c)=>{const{control:u,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:m,required:p,disabled:l,name:h,value:k,form:i,bubbleInput:f,setBubbleInput:v}=R(F,t),b=T(c,v),C=G(e),g=U(u);s.useEffect(()=>{const a=f;if(!a)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,K=!r.current;if(C!==e&&N){const V=new Event("click",{bubbles:K});a.indeterminate=x(e),N.call(a,x(e)?!1:e),a.dispatchEvent(V)}},[f,C,e,r]);const n=s.useRef(x(e)?!1:e);return o.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??n.current,required:p,disabled:l,name:h,value:k,form:i,...d,tabIndex:-1,ref:b,style:{...d.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L.displayName=F;function Z(t){return typeof t=="function"}function x(t){return t==="indeterminate"}function O(t){return x(t)?"indeterminate":t?"checked":"unchecked"}const ee=q(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-white","border-zinc-400","kubefirst:border-kubefirst-primary"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["kubefirst:bg-kubefirst-primary","bg-aurora-500","border-aurora-500"]}],defaultVariants:{variant:"default"}}),te=q(["cursor-pointer","text-slate-800"]),D=s.forwardRef(({ariaLabelledBy:t,className:d,defaultChecked:c,disabled:u,id:r,label:e,labelClassName:m,name:p,theme:l,title:h,variant:k,onChange:i,...f},v)=>{const[b,C]=$(c??!1),g=s.useId(),n=s.useCallback(a=>{C(a),i?.(a)},[i,C]);return o.jsxs("div",{className:"flex items-center gap-2","data-theme":l,children:[o.jsx(B,{id:r??g,checked:b,ref:v,name:p,disabled:u,"aria-labelledby":t,title:h,className:j(ee({className:d,variant:k,checked:b})),onCheckedChange:n,...f,children:o.jsx(A,{children:o.jsx(J,{className:"w-4 h-4 stroke-2 civo:text-slate-700"})})}),e?o.jsx("label",{htmlFor:p??r,className:j(te({className:m})),children:e}):null]})});D.displayName="KonstructCheckbox";D.__docgenInfo={description:"",methods:[],displayName:"KonstructCheckbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'light'
| 'kubefirst-dark'
| 'dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'light'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'dark'"},{name:"undefined"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""}},composes:["Omit"]};export{D as C};
