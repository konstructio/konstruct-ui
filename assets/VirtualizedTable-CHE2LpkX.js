import{c as et}from"./createLucideIcon-Z2_koSRZ.js";import{j as p,r as S}from"./iframe-B_Kp4Ap4.js";import{c as P}from"./index-B-7A89sm.js";import{d as tt}from"./debounce-Cf9K5kmA.js";import{B as ee}from"./Button-DBgZE1v4.js";import{F as de}from"./Filter-BZhKgQQS.js";import{I as nt}from"./Input-CHHNmYFc.js";import{C as zt,a as Gt}from"./chevron-right-Q681D7E2.js";import{S as Qt}from"./pokemon.repository-BEGZ7KpN.js";import{T as Bt}from"./Typography-DYYI0ttp.js";import{P as Ut,R as Kt,T as Wt,C as Xt}from"./index-CpR2UCIC.js";const Zt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rt=et("ellipsis-vertical",Zt);const Jt=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nr=et("eye",Jt),st=({actions:e,wrapperClassName:t,triggerButtonClassName:n,iconTriggerButtonClassName:r,wrapperActionsClassName:s,wrapperContentActionsClassName:i,...o})=>e?p.jsxs("div",{className:P("relative group",t),children:[p.jsxs(ee,{variant:"link",shape:"circle",size:"large",className:P("text-slate-400","group-hover:text-slate-800","group-hover:bg-aurora-50","dark:text-metal-400","dark:group-hover:text-aurora-500","dark:group-hover:bg-aurora-900",n),role:"presentation",children:[p.jsx(rt,{"aria-hidden":"true",className:P("w-7 h-7",r)}),p.jsx("span",{className:"sr-only",children:"Show Actions"})]}),p.jsx("div",{className:P("absolute","top-full","right-0","w-53.75","hidden","group-hover:block","z-10",s),children:p.jsx("div",{className:P("bg-white","mt-0.5","py-2","rounded-lg","shadow-lg","border","border-zinc-100","animate-in","fade-in-0","dark:bg-metal-800","dark:border-metal-700",i),children:e.map(({id:a,label:l,className:u,component:c=ee,componentProps:m,onClick:g},d)=>p.jsx(c,{className:P("w-full","text-slate-800","cursor-pointer","p-0","h-9","flex","gap-2","text-sm","font-normal","justify-start","rounded-none","px-6","hover:bg-gray-50","hover:text-slate-800","hover:no-underline","dark:hover:bg-metal-700",u),variant:"link",role:"presentation",onClick:()=>g(o.row.original),...m,children:l},a??(typeof l=="string"?l:`action-${d}`)))})})]}):null;st.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{actions:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
  className?: string;
  id?: string;
  onClick: (rowData: TData) => void;
} & (
  | {
      component: FC;
      label?: string | ReactNode;
      componentProps?: Record<string, unknown>;
    }
  | {
      component?: undefined;
      label: string | ReactNode;
      componentProps?: never;
    }
)`,elements:[{name:"signature",type:"object",raw:`{
  className?: string;
  id?: string;
  onClick: (rowData: TData) => void;
}`,signature:{properties:[{key:"className",value:{name:"string",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"(rowData: TData) => void",signature:{arguments:[{type:{name:"TData"},name:"rowData"}],return:{name:"void"}},required:!0}}]}},{name:"unknown"}]}],raw:"Action<TData>[]"},description:""},iconTriggerButtonClassName:{required:!1,tsType:{name:"string"},description:""},triggerButtonClassName:{required:!1,tsType:{name:"string"},description:""},wrapperActionsClassName:{required:!1,tsType:{name:"string"},description:""},wrapperClassName:{required:!1,tsType:{name:"string"},description:""},wrapperContentActionsClassName:{required:!1,tsType:{name:"string"},description:""}}};function z(e,t){return typeof e=="function"?e(t):e}function E(e,t){return n=>{t.setState(r=>({...r,[e]:z(n,r[e])}))}}function ue(e){return e instanceof Function}function Yt(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function en(e,t){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&r(o)})};return r(e),n}function w(e,t,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((c,m)=>r[m]!==c)))return s;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),s=t(...a),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,m=Math.round((Date.now()-u)*100)/100,g=m/16,d=(h,f)=>{for(h=String(h);h.length<f;)h=" "+h;return h};console.info(`%câ± ${d(m,5)} /${d(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return s}}function C(e,t,n,r){return{debug:()=>{var s;return(s=e?.debugAll)!=null?s:e[t]},key:!1,onChange:r}}function tn(e,t,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:s,getContext:w(()=>[e,n,t,i],(o,a,l,u)=>({table:o,column:a,row:l,cell:u,getValue:u.getValue,renderValue:u.renderValue}),C(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function nn(e,t,n,r){var s,i;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let u=(s=(i=a.id)!=null?i:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?s:typeof a.header=="string"?a.header:void 0,c;if(a.accessorFn?c=a.accessorFn:l&&(l.includes(".")?c=g=>{let d=g;for(const f of l.split(".")){var h;d=(h=d)==null?void 0:h[f]}return d}:c=g=>g[a.accessorKey]),!u)throw new Error;let m={id:`${String(u)}`,accessorFn:c,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:w(()=>[!0],()=>{var g;return[m,...(g=m.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},C(e.options,"debugColumns")),getLeafColumns:w(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=m.columns)!=null&&d.length){let h=m.columns.flatMap(f=>f.getLeafColumns());return g(h)}return[m]},C(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(m,e);return m}const I="debugHeaders";function Le(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),o.push(l)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const rn={createTable:e=>{e.getHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>{var i,o;const a=(i=r?.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?i:[],l=(o=s?.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?o:[],u=n.filter(m=>!(r!=null&&r.includes(m.id))&&!(s!=null&&s.includes(m.id)));return se(t,[...a,...u,...l],e)},C(e.options,I)),e.getCenterHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),se(t,n,e,"center")),C(e.options,I)),e.getLeftHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return se(t,i,e,"left")},C(e.options,I)),e.getRightHeaderGroups=w(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var s;const i=(s=r?.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?s:[];return se(t,i,e,"right")},C(e.options,I)),e.getFooterGroups=w(()=>[e.getHeaderGroups()],t=>[...t].reverse(),C(e.options,I)),e.getLeftFooterGroups=w(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),C(e.options,I)),e.getCenterFooterGroups=w(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),C(e.options,I)),e.getRightFooterGroups=w(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),C(e.options,I)),e.getFlatHeaders=w(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),C(e.options,I)),e.getLeftFlatHeaders=w(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),C(e.options,I)),e.getCenterFlatHeaders=w(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),C(e.options,I)),e.getRightFlatHeaders=w(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),C(e.options,I)),e.getCenterLeafHeaders=w(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),C(e.options,I)),e.getLeftLeafHeaders=w(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),C(e.options,I)),e.getRightLeafHeaders=w(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),C(e.options,I)),e.getLeafHeaders=w(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var s,i,o,a,l,u;return[...(s=(i=t[0])==null?void 0:i.headers)!=null?s:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(l=(u=r[0])==null?void 0:u.headers)!=null?l:[]].map(c=>c.getLeafHeaders()).flat()},C(e.options,I))}};function se(e,t,n,r){var s,i;let o=0;const a=function(g,d){d===void 0&&(d=1),o=Math.max(o,d),g.filter(h=>h.getIsVisible()).forEach(h=>{var f;(f=h.columns)!=null&&f.length&&a(h.columns,d+1)},0)};a(e);let l=[];const u=(g,d)=>{const h={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},f=[];g.forEach(y=>{const v=[...f].reverse()[0],R=y.column.depth===h.depth;let x,_=!1;if(R&&y.column.parent?x=y.column.parent:(x=y.column,_=!0),v&&v?.column===x)v.subHeaders.push(y);else{const F=Le(n,x,{id:[r,d,x.id,y?.id].filter(Boolean).join("_"),isPlaceholder:_,placeholderId:_?`${f.filter(T=>T.column===x).length}`:void 0,depth:d,index:f.length});F.subHeaders.push(y),f.push(F)}h.headers.push(y),y.headerGroup=h}),l.push(h),d>0&&u(f,d-1)},c=t.map((g,d)=>Le(n,g,{depth:o,index:d}));u(c,o-1),l.reverse();const m=g=>g.filter(h=>h.column.getIsVisible()).map(h=>{let f=0,y=0,v=[0];h.subHeaders&&h.subHeaders.length?(v=[],m(h.subHeaders).forEach(x=>{let{colSpan:_,rowSpan:F}=x;f+=_,v.push(F)})):f=1;const R=Math.min(...v);return y=y+R,h.colSpan=f,h.rowSpan=y,{colSpan:f,rowSpan:y}});return m((s=(i=l[0])==null?void 0:i.headers)!=null?s:[]),l}const sn=(e,t,n,r,s,i,o)=>{let a={id:t,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return a._valuesCache[l]=u.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const u=e.getColumn(l);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var u;return(u=a.getValue(l))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>en(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],u=a;for(;;){const c=u.getParentRow();if(!c)break;l.push(c),u=c}return l.reverse()},getAllCells:w(()=>[e.getAllLeafColumns()],l=>l.map(u=>tn(e,a,u,u.id)),C(e.options,"debugRows")),_getAllCellsByColumnId:w(()=>[a.getAllCells()],l=>l.reduce((u,c)=>(u[c.column.id]=c,u),{}),C(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const u=e._features[l];u==null||u.createRow==null||u.createRow(a,e)}return a},on={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},it=(e,t,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};it.autoRemove=e=>j(e);const ot=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};ot.autoRemove=e=>j(e);const at=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};at.autoRemove=e=>j(e);const lt=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};lt.autoRemove=e=>j(e);const ut=(e,t,n)=>!n.some(r=>{var s;return!((s=e.getValue(t))!=null&&s.includes(r))});ut.autoRemove=e=>j(e)||!(e!=null&&e.length);const ct=(e,t,n)=>n.some(r=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(r)});ct.autoRemove=e=>j(e)||!(e!=null&&e.length);const dt=(e,t,n)=>e.getValue(t)===n;dt.autoRemove=e=>j(e);const gt=(e,t,n)=>e.getValue(t)==n;gt.autoRemove=e=>j(e);const Oe=(e,t,n)=>{let[r,s]=n;const i=e.getValue(t);return i>=r&&i<=s};Oe.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,s=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const a=i;i=o,o=a}return[i,o]};Oe.autoRemove=e=>j(e)||j(e[0])&&j(e[1]);const L={includesString:it,includesStringSensitive:ot,equalsString:at,arrIncludes:lt,arrIncludesAll:ut,arrIncludesSome:ct,equals:dt,weakEquals:gt,inNumberRange:Oe};function j(e){return e==null||e===""}const an={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:E("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?L.includesString:typeof r=="number"?L.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?L.equals:Array.isArray(r)?L.arrIncludes:L.weakEquals},e.getFilterFn=()=>{var n,r;return ue(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:L[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,s;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const s=e.getFilterFn(),i=r?.find(c=>c.id===e.id),o=z(n,i?i.value:void 0);if(He(s,o,e)){var a;return(a=r?.filter(c=>c.id!==e.id))!=null?a:[]}const l={id:e.id,value:o};if(i){var u;return(u=r?.map(c=>c.id===e.id?l:c))!=null?u:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=s=>{var i;return(i=z(t,s))==null?void 0:i.filter(o=>{const a=n.find(l=>l.id===o.id);if(a){const l=a.getFilterFn();if(He(l,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function He(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const ln=(e,t,n)=>n.reduce((r,s)=>{const i=s.getValue(e);return r+(typeof i=="number"?i:0)},0),un=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},cn=(e,t,n)=>{let r;return n.forEach(s=>{const i=s.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},dn=(e,t,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},gn=(e,t)=>{let n=0,r=0;if(t.forEach(s=>{let i=s.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},fn=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!Yt(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},hn=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),pn=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,mn=(e,t)=>t.length,ge={sum:ln,min:un,max:cn,extent:dn,mean:gn,median:fn,unique:hn,uniqueCount:pn,count:mn},yn={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:E("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return ge.sum;if(Object.prototype.toString.call(r)==="[object Date]")return ge.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return ue(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:ge[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var s;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function vn(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...r]}const Sn={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:E("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=w(n=>[Y(t,n)],n=>n.findIndex(r=>r.id===e.id),C(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Y(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const s=Y(t,n);return((r=s[s.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=w(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>s=>{let i=[];if(!(t!=null&&t.length))i=s;else{const o=[...t],a=[...s];for(;a.length&&o.length;){const l=o.shift(),u=a.findIndex(c=>c.id===l);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return vn(i,n,r)},C(e.options,"debugTable"))}},fe=()=>({left:[],right:[]}),wn={getInitialState:e=>({columnPinning:fe(),...e}),getDefaultOptions:e=>({onColumnPinningChange:E("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(s=>s.id).filter(Boolean);t.setColumnPinning(s=>{var i,o;if(n==="right"){var a,l;return{left:((a=s?.left)!=null?a:[]).filter(m=>!(r!=null&&r.includes(m))),right:[...((l=s?.right)!=null?l:[]).filter(m=>!(r!=null&&r.includes(m))),...r]}}if(n==="left"){var u,c;return{left:[...((u=s?.left)!=null?u:[]).filter(m=>!(r!=null&&r.includes(m))),...r],right:((c=s?.right)!=null?c:[]).filter(m=>!(r!=null&&r.includes(m)))}}return{left:((i=s?.left)!=null?i:[]).filter(m=>!(r!=null&&r.includes(m))),right:((o=s?.right)!=null?o:[]).filter(m=>!(r!=null&&r.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:s}=t.getState().columnPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();return s?(n=(r=t.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},C(t.options,"debugRows")),e.getLeftVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),C(t.options,"debugRows")),e.getRightVisibleCells=w(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),C(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?fe():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:fe())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),C(e.options,"debugColumns")),e.getRightLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(s=>s.id===r)).filter(Boolean),C(e.options,"debugColumns")),e.getCenterLeafColumns=w(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const s=[...n??[],...r??[]];return t.filter(i=>!s.includes(i.id))},C(e.options,"debugColumns"))}};function Cn(e){return e||(typeof document<"u"?document:null)}const ie={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},he=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Rn={getDefaultColumnDef:()=>ie,getInitialState:e=>({columnSizing:{},columnSizingInfo:he(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:E("columnSizing",e),onColumnSizingInfoChange:E("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,s;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:ie.minSize,(r=i??e.columnDef.size)!=null?r:ie.size),(s=e.columnDef.maxSize)!=null?s:ie.maxSize)},e.getStart=w(n=>[n,Y(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),C(t.options,"debugColumns")),e.getAfter=w(n=>[n,Y(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),C(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...s}=n;return s})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),s=r?.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),pe(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=pe(i)?Math.round(i.touches[0].clientX):i.clientX,u={},c=(v,R)=>{typeof R=="number"&&(t.setColumnSizingInfo(x=>{var _,F;const T=t.options.columnResizeDirection==="rtl"?-1:1,D=(R-((_=x?.startOffset)!=null?_:0))*T,b=Math.max(D/((F=x?.startSize)!=null?F:0),-.999999);return x.columnSizingStart.forEach(k=>{let[q,V]=k;u[q]=Math.round(Math.max(V+V*b,0)*100)/100}),{...x,deltaOffset:D,deltaPercentage:b}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(x=>({...x,...u})))},m=v=>c("move",v),g=v=>{c("end",v),t.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=Cn(n),h={moveHandler:v=>m(v.clientX),upHandler:v=>{d?.removeEventListener("mousemove",h.moveHandler),d?.removeEventListener("mouseup",h.upHandler),g(v.clientX)}},f={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),m(v.touches[0].clientX),!1),upHandler:v=>{var R;d?.removeEventListener("touchmove",f.moveHandler),d?.removeEventListener("touchend",f.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),g((R=v.touches[0])==null?void 0:R.clientX)}},y=xn()?{passive:!1}:!1;pe(i)?(d?.addEventListener("touchmove",f.moveHandler,y),d?.addEventListener("touchend",f.upHandler,y)):(d?.addEventListener("mousemove",h.moveHandler,y),d?.addEventListener("mouseup",h.upHandler,y)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?he():(n=e.initialState.columnSizingInfo)!=null?n:he())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?t:0}}};let oe=null;function xn(){if(typeof oe=="boolean")return oe;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return oe=e,oe}function pe(e){return e.type==="touchstart"}const Fn={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:E("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const s=e.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=w(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),C(t.options,"debugRows")),e.getVisibleCells=w(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],C(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>w(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),C(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Y(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Pn={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},_n={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:E("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,s,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((s=t.options.enableFilters)!=null?s:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>L.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return ue(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:L[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},bn={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:E("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var s,i;e.setExpanded(r?{}:(s=(i=e.initialState)==null?void 0:i.expanded)!=null?s:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...l}=o;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,s;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((s=e.subRows)!=null&&s.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Se=0,we=10,me=()=>({pageIndex:Se,pageSize:we}),Mn={getInitialState:e=>({...e,pagination:{...me(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:E("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,s;if(!t){e._queue(()=>{t=!0});return}if((r=(s=e.options.autoResetAll)!=null?s:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const s=i=>z(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(s)},e.resetPagination=r=>{var s;e.setPagination(r?me():(s=e.initialState.pagination)!=null?s:me())},e.setPageIndex=r=>{e.setPagination(s=>{let i=z(r,s.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},e.resetPageIndex=r=>{var s,i;e.setPageIndex(r?Se:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Se)},e.resetPageSize=r=>{var s,i;e.setPageSize(r?we:(s=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:we)},e.setPageSize=r=>{e.setPagination(s=>{const i=Math.max(1,z(r,s.pageSize)),o=s.pageSize*s.pageIndex,a=Math.floor(o/i);return{...s,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(s=>{var i;let o=z(r,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),e.getPageOptions=w(()=>[e.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},C(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,s=e.getPageCount();return s===-1?!0:s===0?!1:r<s-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ye=()=>({top:[],bottom:[]}),In={getInitialState:e=>({rowPinning:ye(),...e}),getDefaultOptions:e=>({onRowPinningChange:E("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,s)=>{const i=r?e.getLeafRows().map(l=>{let{id:u}=l;return u}):[],o=s?e.getParentRows().map(l=>{let{id:u}=l;return u}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(l=>{var u,c;if(n==="bottom"){var m,g;return{top:((m=l?.top)!=null?m:[]).filter(f=>!(a!=null&&a.has(f))),bottom:[...((g=l?.bottom)!=null?g:[]).filter(f=>!(a!=null&&a.has(f))),...Array.from(a)]}}if(n==="top"){var d,h;return{top:[...((d=l?.top)!=null?d:[]).filter(f=>!(a!=null&&a.has(f))),...Array.from(a)],bottom:((h=l?.bottom)!=null?h:[]).filter(f=>!(a!=null&&a.has(f)))}}return{top:((u=l?.top)!=null?u:[]).filter(f=>!(a!=null&&a.has(f))),bottom:((c=l?.bottom)!=null?c:[]).filter(f=>!(a!=null&&a.has(f)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=t.options;return typeof r=="function"?r(e):(n=r??s)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:s}=t.getState().rowPinning,i=n.some(a=>r?.includes(a)),o=n.some(a=>s?.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const s=e.getIsPinned();if(!s)return-1;const i=(n=s==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(o=>{let{id:a}=o;return a});return(r=i?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ye():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ye())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var s;return((s=e.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:r}))},e.getTopRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),C(e.options,"debugRows")),e.getBottomRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),C(e.options,"debugRows")),e.getCenterRows=w(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const s=new Set([...n??[],...r??[]]);return t.filter(i=>!s.has(i.id))},C(e.options,"debugRows"))}},Dn={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:E("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},s=e.getPreGroupedRowModel().flatRows;return t?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),s={...n};return e.getRowModel().rows.forEach(i=>{Ce(s,i.id,r,!0,e)}),s}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=w(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ve(e,n):{rows:[],flatRows:[],rowsById:{}},C(e.options,"debugTable")),e.getFilteredSelectedRowModel=w(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ve(e,n):{rows:[],flatRows:[],rowsById:{}},C(e.options,"debugTable")),e.getGroupedSelectedRowModel=w(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ve(e,n):{rows:[],flatRows:[],rowsById:{}},C(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(s=>!n[s.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const s=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,e.getCanSelect()&&s===n)return i;const a={...i};return Ce(a,e.id,n,(o=r?.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return $e(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Re(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Re(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var s;n&&e.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Ce=(e,t,n,r,s)=>{var i;const o=s.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>Ce(e,a.id,n,r,s))};function ve(e,t){const n=e.getState().rowSelection,r=[],s={},i=function(o,a){return o.map(l=>{var u;const c=$e(l,n);if(c&&(r.push(l),s[l.id]=l),(u=l.subRows)!=null&&u.length&&(l={...l,subRows:i(l.subRows)}),c)return l}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:s}}function $e(e,t){var n;return(n=t[e.id])!=null?n:!1}function Re(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&($e(o,t)?i=!0:s=!1),o.subRows&&o.subRows.length)){const a=Re(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const xe=/([0-9]+)/gm,Tn=(e,t,n)=>ft(Q(e.getValue(n)).toLowerCase(),Q(t.getValue(n)).toLowerCase()),On=(e,t,n)=>ft(Q(e.getValue(n)),Q(t.getValue(n))),$n=(e,t,n)=>Ee(Q(e.getValue(n)).toLowerCase(),Q(t.getValue(n)).toLowerCase()),En=(e,t,n)=>Ee(Q(e.getValue(n)),Q(t.getValue(n))),Vn=(e,t,n)=>{const r=e.getValue(n),s=t.getValue(n);return r>s?1:r<s?-1:0},An=(e,t,n)=>Ee(e.getValue(n),t.getValue(n));function Ee(e,t){return e===t?0:e>t?1:-1}function Q(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function ft(e,t){const n=e.split(xe).filter(Boolean),r=t.split(xe).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),a=parseInt(i,10),l=[o,a].sort();if(isNaN(l[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(l[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-r.length}const Z={alphanumeric:Tn,alphanumericCaseSensitive:On,text:$n,textCaseSensitive:En,datetime:Vn,basic:An},kn={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:E("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Z.datetime;if(typeof i=="string"&&(r=!0,i.split(xe).length>1))return Z.alphanumeric}return r?Z.text:Z.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return ue(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Z[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const s=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o?.find(d=>d.id===e.id),l=o?.findIndex(d=>d.id===e.id);let u=[],c,m=i?n:s==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&r?a?c="toggle":c="add":o!=null&&o.length&&l!==o.length-1?c="replace":a?c="toggle":c="replace",c==="toggle"&&(i||s||(c="remove")),c==="add"){var g;u=[...o,{id:e.id,desc:m}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?u=o.map(d=>d.id===e.id?{...d,desc:m}:d):c==="remove"?u=o.filter(d=>d.id!==e.id):u=[{id:e.id,desc:m}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,s;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(s=t.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(s=>s.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(s=>s.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},jn=[rn,Fn,Sn,wn,on,an,Pn,_n,kn,yn,bn,Mn,In,Dn,Rn];function qn(e){var t,n;const r=[...jn,...(t=e._features)!=null?t:[]];let s={_features:r};const i=s._features.reduce((g,d)=>Object.assign(g,d.getDefaultOptions==null?void 0:d.getDefaultOptions(s)),{}),o=g=>s.options.mergeOptions?s.options.mergeOptions(i,g):{...i,...g};let l={...{},...(n=e.initialState)!=null?n:{}};s._features.forEach(g=>{var d;l=(d=g.getInitialState==null?void 0:g.getInitialState(l))!=null?d:l});const u=[];let c=!1;const m={_features:r,options:{...i,...e},initialState:l,_queue:g=>{u.push(g),c||(c=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();c=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{s.setState(s.initialState)},setOptions:g=>{const d=z(g,s.options);s.options=o(d)},getState:()=>s.options.state,setState:g=>{s.options.onStateChange==null||s.options.onStateChange(g)},_getRowId:(g,d,h)=>{var f;return(f=s.options.getRowId==null?void 0:s.options.getRowId(g,d,h))!=null?f:`${h?[h.id,d].join("."):d}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(g,d)=>{let h=(d?s.getPrePaginationRowModel():s.getRowModel()).rowsById[g];if(!h&&(h=s.getCoreRowModel().rowsById[g],!h))throw new Error;return h},_getDefaultColumnDef:w(()=>[s.options.defaultColumn],g=>{var d;return g=(d=g)!=null?d:{},{header:h=>{const f=h.header.column.columnDef;return f.accessorKey?f.accessorKey:f.accessorFn?f.id:null},cell:h=>{var f,y;return(f=(y=h.renderValue())==null||y.toString==null?void 0:y.toString())!=null?f:null},...s._features.reduce((h,f)=>Object.assign(h,f.getDefaultColumnDef==null?void 0:f.getDefaultColumnDef()),{}),...g}},C(e,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:w(()=>[s._getColumnDefs()],g=>{const d=function(h,f,y){return y===void 0&&(y=0),h.map(v=>{const R=nn(s,v,y,f),x=v;return R.columns=x.columns?d(x.columns,R,y+1):[],R})};return d(g)},C(e,"debugColumns")),getAllFlatColumns:w(()=>[s.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),C(e,"debugColumns")),_getAllFlatColumnsById:w(()=>[s.getAllFlatColumns()],g=>g.reduce((d,h)=>(d[h.id]=h,d),{}),C(e,"debugColumns")),getAllLeafColumns:w(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(g,d)=>{let h=g.flatMap(f=>f.getLeafColumns());return d(h)},C(e,"debugColumns")),getColumn:g=>s._getAllFlatColumnsById()[g]};Object.assign(s,m);for(let g=0;g<s._features.length;g++){const d=s._features[g];d==null||d.createTable==null||d.createTable(s)}return s}function Nn(){return e=>w(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const a=[];for(let u=0;u<s.length;u++){const c=sn(e,e._getRowId(s[u],u,o),s[u],u,i,void 0,o?.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,a.push(c),e.options.getSubRows){var l;c.originalSubRows=e.options.getSubRows(s[u],u),(l=c.originalSubRows)!=null&&l.length&&(c.subRows=r(c.originalSubRows,i+1,c))}}return a};return n.rows=r(t),n},C(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Ln(){return e=>w(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,s=[],i=r.filter(l=>{var u;return(u=e.getColumn(l.id))==null?void 0:u.getCanSort()}),o={};i.forEach(l=>{const u=e.getColumn(l.id);u&&(o[l.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=l=>{const u=l.map(c=>({...c}));return u.sort((c,m)=>{for(let d=0;d<i.length;d+=1){var g;const h=i[d],f=o[h.id],y=f.sortUndefined,v=(g=h?.desc)!=null?g:!1;let R=0;if(y){const x=c.getValue(h.id),_=m.getValue(h.id),F=x===void 0,T=_===void 0;if(F||T){if(y==="first")return F?-1:1;if(y==="last")return F?1:-1;R=F&&T?0:F?y:-y}}if(R===0&&(R=f.sortingFn(c,m,h.id)),R!==0)return v&&(R*=-1),f.invertSorting&&(R*=-1),R}return c.index-m.index}),u.forEach(c=>{var m;s.push(c),(m=c.subRows)!=null&&m.length&&(c.subRows=a(c.subRows))}),u};return{rows:a(n.rows),flatRows:s,rowsById:n.rowsById}},C(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function ht(e,t){return e?Hn(e)?S.createElement(e,t):e:null}function Hn(e){return zn(e)||typeof e=="function"||Gn(e)}function zn(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Gn(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Qn(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=S.useState(()=>({current:qn(t)})),[r,s]=S.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:o=>{s(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}const Ve=10,Bn=[10,20,50,100],pt=S.createContext({sortedData:[],table:{},tableFetching:!1,tableLoading:!1,totalItems:-1/0,termOfSearch:"",page:0,pageSize:Ve,totalPages:1/0,isFirstLoad:!0,onSorting(){throw new Error("onSorting function is not implemented")},onChangeTermOfSearch(){throw new Error("onChangeTermOfSearch function is not implemented")},onSelectMultiselect(){throw new Error("onSelectMultiselect function is not implemented")},handlePage(){throw new Error("handlePage function is not implemented")},onPageSize(){throw new Error("onPageSize function is not implemented")}}),H=()=>{const e=S.useContext(pt);if(!e)throw new Error("useTableContext must be used within a TableProvider");return e};var re=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Un={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Kn=class{#e=Un;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},B=new Kn;function Wn(e){setTimeout(e,0)}var U=typeof window>"u"||"Deno"in globalThis;function $(){}function Xn(e,t){return typeof e=="function"?e(t):e}function Fe(e){return typeof e=="number"&&e>=0&&e!==1/0}function mt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function G(e,t){return typeof e=="function"?e(t):e}function A(e,t){return typeof e=="function"?e(t):e}function ze(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Ae(o,t.options))return!1}else if(!ne(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ge(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(te(t.options.mutationKey)!==te(i))return!1}else if(!ne(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Ae(e,t){return(t?.queryKeyHashFn||te)(e)}function te(e){return JSON.stringify(e,(t,n)=>_e(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ne(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ne(e[n],t[n])):!1}var Zn=Object.prototype.hasOwnProperty;function yt(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=Qe(e)&&Qe(t);if(!r&&!(_e(e)&&_e(t)))return t;const i=(r?e:Object.keys(e)).length,o=r?t:Object.keys(t),a=o.length,l=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const m=r?c:o[c],g=e[m],d=t[m];if(g===d){l[m]=g,(r?c<i:Zn.call(e,m))&&u++;continue}if(g===null||d===null||typeof g!="object"||typeof d!="object"){l[m]=d;continue}const h=yt(g,d,n+1);l[m]=h,h===g&&u++}return i===a&&u===i?e:l}function Pe(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Qe(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _e(e){if(!Be(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Be(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Be(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jn(e){return new Promise(t=>{B.setTimeout(t,e)})}function be(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?yt(e,t):t}function Yn(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function er(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ke=Symbol();function vt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ke?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function St(e,t){return typeof e=="function"?e(...t):!!e}function tr(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var nr=class extends re{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!U&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},je=new nr;function Me(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var rr=Wn;function sr(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=rr;const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var M=sr(),ir=class extends re{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!U&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},le=new ir;function or(e){return Math.min(1e3*2**e,3e4)}function wt(e){return(e??"online")==="online"?le.isOnline():!0}var Ie=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ct(e){let t=!1,n=0,r;const s=Me(),i=()=>s.status!=="pending",o=f=>{if(!i()){const y=new Ie(f);g(y),e.onCancel?.(y)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>je.isFocused()&&(e.networkMode==="always"||le.isOnline())&&e.canRun(),c=()=>wt(e.networkMode)&&e.canRun(),m=f=>{i()||(r?.(),s.resolve(f))},g=f=>{i()||(r?.(),s.reject(f))},d=()=>new Promise(f=>{r=y=>{(i()||u())&&f(y)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),h=()=>{if(i())return;let f;const y=n===0?e.initialPromise:void 0;try{f=y??e.fn()}catch(v){f=Promise.reject(v)}Promise.resolve(f).then(m).catch(v=>{if(i())return;const R=e.retry??(U?0:3),x=e.retryDelay??or,_=typeof x=="function"?x(n,v):x,F=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,v);if(t||!F){g(v);return}n++,e.onFail?.(n,v),Jn(_).then(()=>u()?void 0:d()).then(()=>{t?g(v):h()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r?.(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?h():d().then(h),s)}}var Rt=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fe(this.gcTime)&&(this.#e=B.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(U?1/0:300*1e3))}clearGcTimeout(){this.#e&&(B.clearTimeout(this.#e),this.#e=void 0)}},ar=class extends Rt{#e;#t;#n;#s;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Ke(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Ke(this.options);t.data!==void 0&&(this.setState(Ue(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=be(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then($).catch($):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>A(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ke||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>G(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!mt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const a=vt(this.options,t),u=(()=>{const c={client:this.#s,queryKey:this.queryKey,meta:this.meta};return r(c),c})();return this.#o=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:s};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=Ct({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof Ie&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(a,l)=>{this.#i({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof Ie){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#i({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#i(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xt(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...Ue(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),M.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function xt(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ue(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ke(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var lr=class extends re{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=Me(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#s=void 0;#r;#a;#o;#i;#p;#g;#f;#u;#c;#l;#h=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),We(this.#t,this.options)?this.#d():this.updateResult(),this.#S())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return De(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return De(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#C(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof A(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#R(),this.#t.setOptions(this.options),t._defaulted&&!Pe(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Xe(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||A(this.options.enabled,this.#t)!==A(t.enabled,this.#t)||G(this.options.staleTime,this.#t)!==G(t.staleTime,this.#t))&&this.#m();const s=this.#y();r&&(this.#t!==n||A(this.options.enabled,this.#t)!==A(t.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return cr(this,n)&&(this.#s=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#s}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#h.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(e){this.#R();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch($)),t}#m(){this.#w();const e=G(this.options.staleTime,this.#t);if(U||this.#s.isStale||!Fe(e))return;const n=mt(this.#s.dataUpdatedAt,e)+1;this.#u=B.setTimeout(()=>{this.#s.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#C(),this.#l=e,!(U||A(this.options.enabled,this.#t)===!1||!Fe(this.#l)||this.#l===0)&&(this.#c=B.setInterval(()=>{(this.options.refetchIntervalInBackground||je.isFocused())&&this.#d()},this.#l))}#S(){this.#m(),this.#v(this.#y())}#w(){this.#u&&(B.clearTimeout(this.#u),this.#u=void 0)}#C(){this.#c&&(B.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#s,i=this.#r,o=this.#a,l=e!==n?e.state:this.#n,{state:u}=e;let c={...u},m=!1,g;if(t._optimisticResults){const b=this.hasListeners(),k=!b&&We(e,t),q=b&&Xe(e,n,t,r);(k||q)&&(c={...c,...xt(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:d,errorUpdatedAt:h,status:f}=c;g=c.data;let y=!1;if(t.placeholderData!==void 0&&g===void 0&&f==="pending"){let b;s?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(b=s.data,y=!0):b=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,b!==void 0&&(f="success",g=be(s?.data,b,t),m=!0)}if(t.select&&g!==void 0&&!y)if(s&&g===i?.data&&t.select===this.#p)g=this.#g;else try{this.#p=t.select,g=t.select(g),g=be(s?.data,g,t),this.#g=g,this.#i=null}catch(b){this.#i=b}this.#i&&(d=this.#i,g=this.#g,h=Date.now(),f="error");const v=c.fetchStatus==="fetching",R=f==="pending",x=f==="error",_=R&&v,F=g!==void 0,D={status:f,fetchStatus:c.fetchStatus,isPending:R,isSuccess:f==="success",isError:x,isInitialLoading:_,isLoading:_,data:g,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:h,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!R,isLoadingError:x&&!F,isPaused:c.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:x&&F,isStale:qe(e,t),refetch:this.refetch,promise:this.#o,isEnabled:A(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const b=D.data!==void 0,k=D.status==="error"&&!b,q=W=>{k?W.reject(D.error):b&&W.resolve(D.data)},V=()=>{const W=this.#o=D.promise=Me();q(W)},K=this.#o;switch(K.status){case"pending":e.queryHash===n.queryHash&&q(K);break;case"fulfilled":(k||D.data!==K.value)&&V();break;case"rejected":(!k||D.error!==K.reason)&&V();break}}return D}updateResult(){const e=this.#s,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Pe(t,e))return;this.#s=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#h.size)return!0;const i=new Set(s??this.#h);return this.options.throwOnError&&i.add("error"),Object.keys(this.#s).some(o=>{const a=o;return this.#s[a]!==e[a]&&i.has(a)})};this.#x({listeners:n()})}#R(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#S()}#x(e){M.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ur(e,t){return A(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function We(e,t){return ur(e,t)||e.state.data!==void 0&&De(e,t,t.refetchOnMount)}function De(e,t,n){if(A(t.enabled,e)!==!1&&G(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&qe(e,t)}return!1}function Xe(e,t,n,r){return(e!==t||A(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&qe(e,n)}function qe(e,t){return A(t.enabled,e)!==!1&&e.isStaleByTime(G(t.staleTime,e))}function cr(e,t){return!Pe(e.getCurrentResult(),t)}function Ze(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let c=!1;const m=h=>{tr(h,()=>t.signal,()=>c=!0)},g=vt(t.options,t.fetchOptions),d=async(h,f,y)=>{if(c)return Promise.reject();if(f==null&&h.pages.length)return Promise.resolve(h);const R=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:f,direction:y?"backward":"forward",meta:t.options.meta};return m(T),T})(),x=await g(R),{maxPages:_}=t.options,F=y?er:Yn;return{pages:F(h.pages,x,_),pageParams:F(h.pageParams,f,_)}};if(s&&i.length){const h=s==="backward",f=h?dr:Je,y={pages:i,pageParams:o},v=f(r,y);a=await d(y,v,h)}else{const h=e??i.length;do{const f=l===0?o[0]??r.initialPageParam:Je(r,a);if(l>0&&f==null)break;a=await d(a,f),l++}while(l<h)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Je(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function dr(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var gr=class extends Rt{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||fr(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ct({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#r({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#s.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:s})}const i=await this.#s.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{await this.#n.config.onError?.(i,e,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(o){Promise.reject(o)}try{await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(o){Promise.reject(o)}throw this.#r({type:"error",error:i}),i}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),M.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function fr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hr=class extends re{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new gr({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=ae(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=ae(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ae(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=ae(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){M.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Ge(t,n))}findAll(e={}){return this.getAll().filter(t=>Ge(e,t))}notify(e){M.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return M.batch(()=>Promise.all(e.map(t=>t.continue().catch($))))}};function ae(e){return e.options.scope?.id}var pr=class extends re{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??Ae(r,t);let i=this.get(s);return i||(i=new ar({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){M.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>ze(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>ze(e,n)):t}notify(e){M.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){M.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){M.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Lr=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new pr,this.#t=e.mutationCache||new hr,this.#n=e.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=je.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=le.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(G(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,o=Xn(t,i);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return M.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;M.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return M.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=M.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then($).catch($)}invalidateQueries(e,t={}){return M.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=M.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch($)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then($)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(G(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then($).catch($)}fetchInfiniteQuery(e){return e.behavior=Ze(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then($).catch($)}ensureInfiniteQueryData(e){return e.behavior=Ze(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return le.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#s.set(te(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(r=>{ne(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(te(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{ne(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ae(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ke&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Ft=S.createContext(void 0),mr=e=>{const t=S.useContext(Ft);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Hr=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),p.jsx(Ft.Provider,{value:e,children:t})),Pt=S.createContext(!1),yr=()=>S.useContext(Pt);Pt.Provider;function vr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sr=S.createContext(vr()),wr=()=>S.useContext(Sr),Cr=(e,t,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?St(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},Rr=e=>{S.useEffect(()=>{e.clearReset()},[e])},xr=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||St(n,[e.error,r])),Fr=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Pr=(e,t)=>e.isLoading&&e.isFetching&&!t,_r=(e,t)=>e?.suspense&&t.isPending,Ye=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function br(e,t,n){const r=yr(),s=wr(),i=mr(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const a=i.getQueryCache().get(o.queryHash);o._optimisticResults=r?"isRestoring":"optimistic",Fr(o),Cr(o,s,a),Rr(s);const l=!i.getQueryCache().get(o.queryHash),[u]=S.useState(()=>new t(i,o)),c=u.getOptimisticResult(o),m=!r&&e.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const d=m?u.subscribe(M.batchCalls(g)):$;return u.updateResult(),d},[u,m]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),S.useEffect(()=>{u.setOptions(o)},[o,u]),_r(o,c))throw Ye(o,u,s);if(xr({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw c.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!U&&Pr(c,r)&&(l?Ye(o,u,s):a?.promise)?.catch($).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?c:u.trackResult(c)}function Mr(e,t){return br(e,lr)}const _t=({children:e,id:t,data:n=[],columns:r=[],totalItems:s,isPaginationEnabled:i,queryOptions:o={},fetchData:a})=>{const[l,u]=S.useState([]),[c,m]=S.useState(!0),[g,d]=S.useState(0),[h,f]=S.useState(),[y,v]=S.useState(Ve),[R,x]=S.useState(s),_=S.useMemo(()=>Math.ceil(R/y),[R,y]),[F,T]=S.useState({}),D=()=>{const O=typeof t=="string"||typeof t=="number"?[t]:t;return i&&O.push(g,y),h&&O.push(h),Object.entries(F).forEach(([X,ce])=>{O.push(`${X}:${ce.join(",")}`)}),O},{data:b,isLoading:k,isFetching:q}=Mr({queryKey:D(),refetchOnMount:!1,refetchOnWindowFocus:!1,initialData:n,queryFn:async()=>a?a({page:Math.max(g+1,1),pageSize:y,termOfSearch:h,...Object.keys(F).length>0?F:{}}).then(({data:O,totalItemsCount:X})=>(m(!1),X&&x(X),O)):n??[],...o}),V=S.useCallback(O=>{f(O),d(0)},[]),K=S.useCallback((O,X)=>{const ce=O.toLowerCase().replace(/\s+/g,"_");T(Ht=>({...Ht,[ce]:X}))},[]),W=S.useCallback(O=>d(O),[]),Nt=S.useCallback(O=>v(O),[]),Lt=Qn({data:b,columns:r,state:{sorting:l},onSortingChange:u,getCoreRowModel:Nn(),getSortedRowModel:Ln()});return p.jsx(pt.Provider,{value:{sortedData:l,table:Lt,tableFetching:q,tableLoading:k,totalItems:R,termOfSearch:h,page:g,multiselectSelected:F,pageSize:y,totalPages:_,isFirstLoad:c,handlePage:W,onPageSize:Nt,onChangeTermOfSearch:V,onSorting:u,onSelectMultiselect:K},children:e})};_t.__docgenInfo={description:"",methods:[],displayName:"TableProvider",props:{id:{required:!0,tsType:{name:"union",raw:"string | string[] | number | number[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"number"},{name:"Array",elements:[{name:"number"}],raw:"number[]"}]},description:""},data:{required:!1,tsType:{name:"Array",elements:[{name:"TData"}],raw:"TData[]"},description:"",defaultValue:{value:"[]",computed:!1}},columns:{required:!1,tsType:{name:"Array",elements:[{name:"ColumnDef",elements:[{name:"TData"},{name:"string"}],raw:"ColumnDef<TData, string>"}],raw:"ColumnDef<TData, string>[]"},description:"",defaultValue:{value:"[]",computed:!1}},totalItems:{required:!0,tsType:{name:"number"},description:""},queryOptions:{required:!1,tsType:{name:"intersection['queryOptions']",raw:"TableProps<TData>['queryOptions']"},description:"",defaultValue:{value:"{}",computed:!1}},isPaginationEnabled:{required:!1,tsType:{name:"boolean"},description:""},fetchData:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  params: Record<string, string | number | string[] | number[] | undefined>,
) => Promise<{ data: TData[]; totalItemsCount?: number }>`,signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"string | number | string[] | number[] | undefined",elements:[{name:"string"},{name:"number"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"undefined"}]}],raw:"Record<string, string | number | string[] | number[] | undefined>"},name:"params"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ data: TData[]; totalItemsCount?: number }",signature:{properties:[{key:"data",value:{name:"Array",elements:[{name:"TData"}],raw:"TData[]",required:!0}},{key:"totalItemsCount",value:{name:"number",required:!1}}]}}],raw:"Promise<{ data: TData[]; totalItemsCount?: number }>"}}},description:""}}};const bt=({numberOfRows:e,table:t})=>{const{tableFetching:n,tableLoading:r}=H(),s=Array.from({length:e});return p.jsx("tbody",{className:"text-slate-800 text-sm font-normal relative",children:s.map((i,o)=>{const a=t.getAllColumns();return p.jsx("tr",{className:P("border-b","border-b-gray-200","bg-transparent","last:border-b-transparent"),children:a.map((l,u)=>l.id!=="actions"?p.jsx("td",{className:P("px-4","py-1","bg-white","dark:bg-metal-900","dark:border-t","dark:border-metal-700","dark:first:border-l","dark:last:border-r","dark:[tr:last-child_&]:border-b",l.columnDef.meta?.className,{"[tr:last-child_&:first-of-type]:rounded-bl-lg":o===s.length-1&&u===0,"[tr:last-child_&:last-of-type]:rounded-br-lg":o===s.length-1&&u===a.length-1}),children:p.jsx("div",{className:"animate-in fade-in-0",children:p.jsx("div",{className:P("bg-gray-200","dark:bg-metal-700","animate-pulse","rounded","h-5","w-full")})})},`skeleton-${l.id}`):p.jsx("td",{className:P("px-4","py-1","bg-white","dark:bg-metal-900","dark:border-t","dark:border-metal-700","dark:first:border-l","dark:last:border-r","dark:[tr:last-child_&]:border-b",l.columnDef.meta?.className,{"[tr:last-child_&:first-of-type]:rounded-bl-lg":o===s.length-1&&u===0,"[tr:last-child_&:last-of-type]:rounded-br-lg":o===s.length-1&&u===a.length-1}),children:p.jsx(ee,{variant:"link",shape:"circle",size:"large",disabled:!0,"aria-hidden":"true",children:p.jsx(rt,{className:P("w-5","h-5","text-slate-400","dark:text-metal-700",{"text-gray-300 animate-pulse":n||r})})})},`skeleton-${l.id}`))},`skeleton-row-${o}`)})})};bt.__docgenInfo={description:"",methods:[],displayName:"Skeleton",props:{numberOfRows:{required:!0,tsType:{name:"number"},description:""},table:{required:!0,tsType:{name:"Table",elements:[{name:"T"}],raw:"Table<T>"},description:""}}};const Mt=({isLoading:e,showPagination:t})=>{const{table:n,pageSize:r,tableFetching:s}=H();if(e||s)return p.jsx(bt,{numberOfRows:r,table:n});const i=n.getRowModel().rows??[];return p.jsx("tbody",{className:P("text-slate-800","text-sm","font-normal","relative","dark:border-x"),children:i.map(({id:o,original:a,getVisibleCells:l},u)=>{const{meta:c={}}=a,m=l();return p.jsx("tr",{className:P("border-b","border-b-gray-200","dark:text-metal-50","dark:border-b-metal-700","last:border-b-transparent","bg-transparent",c.className),"data-row-id":o,...c.attributes??{},children:m.map(({id:g,column:d,getContext:h},f)=>{const y=typeof d.columnDef.meta?.className=="function"?d.columnDef.meta?.className(a):d.columnDef.meta?.className;return p.jsx("td",{className:P("px-4","py-1","text-sm","bg-white","dark:bg-metal-900","dark:border-t","dark:border-metal-700","dark:first:border-l","dark:last:border-r",y,{"first:rounded-bl-lg":u===i.length-1&&f===0&&!t,"last:rounded-br-lg":u===i.length-1&&f===m.length-1&&!t,"dark:[tr:last-child_&]:border-b":!t}),...d.columnDef.meta?.attributes??{},children:ht(d.columnDef.cell,h())},g)})},o)})})};Mt.__docgenInfo={description:"",methods:[],displayName:"Body",props:{isLoading:{required:!1,tsType:{name:"boolean"},description:""},showPagination:{required:!1,tsType:{name:"boolean"},description:""}}};const It=({actions:e,multiSelectFilter:t,placeholder:n,showFilterInput:r=!0,showResetButton:s=!0,resetButtonClassName:i})=>{const o=S.useRef(null),{termOfSearch:a,multiselectSelected:l,onChangeTermOfSearch:u,onSelectMultiselect:c}=H(),m=S.useCallback((f,y)=>c(f,y.map(v=>v.id)),[c]),g=S.useCallback(()=>{u(""),o.current&&(o.current.value="")},[u]),d=S.useMemo(()=>tt(f=>{u(f.target.value)},500),[u]),h=S.useMemo(()=>!!a||Object.entries(l??{}).map(([,f])=>f).flat().length>0,[a,l]);return p.jsxs("div",{className:"w-full flex items-center justify-end pb-6",children:[r&&p.jsx(nt,{ref:o,placeholder:n,isSearch:!0,autoComplete:"false",className:"w-72",inputMode:"search",onChange:d}),p.jsxs(de,{children:[t?.map(({key:f,label:y,position:v="right",options:R})=>p.jsx(de.BadgeMultiSelect,{label:y,position:v,options:R,onApply:x=>{m(f,x)}},y)),e?.map(({label:f,onClick:y,variant:v="secondary"})=>p.jsx(ee,{variant:v,appearance:"compact",onClick:y,children:f},f)),s&&p.jsx(de.ResetButton,{className:P("select-none",i),disabled:!h,onClick:g})]})]})};It.__docgenInfo={description:"",methods:[],displayName:"Filter",props:{actions:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  onClick: () => void;
  variant?: ButtonProps['variant'];
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}},{key:"variant",value:{name:"ButtonProps['variant']",raw:"ButtonProps['variant']",required:!1}}]}}],raw:"FilterAction[]"},description:""},multiSelectFilter:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  /** Unique key for the filter */
  key: string;
  /** Display label for the filter */
  label: string;
  /** Position of the filter dropdown */
  position?: 'right' | 'left';
  /** Available filter options */
  options: Option[];
}`,signature:{properties:[{key:"key",value:{name:"string",required:!0},description:"Unique key for the filter"},{key:"label",value:{name:"string",required:!0},description:"Display label for the filter"},{key:"position",value:{name:"union",raw:"'right' | 'left'",elements:[{name:"literal",value:"'right'"},{name:"literal",value:"'left'"}],required:!1},description:"Position of the filter dropdown"},{key:"options",value:{name:"Array",elements:[{name:"Option"}],raw:"Option[]",required:!0},description:"Available filter options"}]}}],raw:"MultiSelectFilter[]"},description:""},placeholder:{required:!0,tsType:{name:"string"},description:""},showFilterInput:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showResetButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},resetButtonClassName:{required:!1,tsType:{name:"string"},description:""}}};const Dt=({className:e,onClick:t})=>p.jsx("svg",{width:"7",height:"5",viewBox:"0 0 7 5",fill:"currentColor",className:e,onClick:t,children:p.jsx("path",{d:"M0.8225 4.99999L3.5 2.32832L6.1775 4.99999L7 4.17749L3.5 0.67749L0 4.17749L0.8225 4.99999Z",fill:"currentColor"})});Dt.__docgenInfo={description:"",methods:[],displayName:"SvgComponent",props:{className:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"VoidFunction"},description:""}}};const Tt=({className:e,onClick:t})=>p.jsx("svg",{width:"7",height:"5",viewBox:"0 0 7 5",fill:"none",className:e,onClick:t,children:p.jsx("path",{d:"M0.8225 0L3.5 2.67167L6.1775 0L7 0.8225L3.5 4.3225L0 0.8225L0.8225 0Z",fill:"currentColor"})});Tt.__docgenInfo={description:"",methods:[],displayName:"SvgComponent",props:{className:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"VoidFunction"},description:""}}};const Ot=({className:e,classNameArrows:t,classNameActiveArrows:n})=>{const{table:r,onSorting:s}=H(),i=S.useCallback(a=>s([{id:a.id,desc:!1}]),[s]),o=S.useCallback(a=>s([{id:a.id,desc:!0}]),[s]);return p.jsx("thead",{className:P("font-semibold","uppercase","text-slate-500","text-xs","not-italic","bg-slate-100","overflow-hidden","dark:text-slate-300","dark:bg-metal-800",e),children:r.getHeaderGroups().map(({id:a,headers:l})=>p.jsx("tr",{children:l.map(({id:u,column:c,getContext:m})=>p.jsx("th",{scope:"col",className:P("px-4","py-3","text-left","text-xs","first:rounded-tl-lg","last:rounded-tr-lg","border-transparent","dark:border-t","dark:border-metal-700","dark:first:border-l","dark:last:border-r",c.columnDef.meta?.headerClassName),children:p.jsxs("span",{className:"flex items-center gap-2 w-full",children:[ht(c.columnDef.header,m()),c.getCanSort()&&p.jsxs("div",{className:P("flex flex-col text-slate-400 justify-center items-center gap-1",t),role:"presentation",children:[p.jsx(Dt,{className:P("w-2 h-2 cursor-pointer",{"text-blue-600 dark:text-aurora-500":c.getIsSorted()==="asc"},n),onClick:()=>i(c)}),p.jsx(Tt,{className:P("w-2 h-2 cursor-pointer",{"text-blue-600 dark:text-aurora-500":c.getIsSorted()==="desc"},n),onClick:()=>o(c)})]})]})},u))},a))})};Ot.__docgenInfo={description:"",methods:[],displayName:"Header",props:{className:{required:!1,tsType:{name:"string"},description:""},classNameArrows:{required:!1,tsType:{name:"string"},description:""},classNameActiveArrows:{required:!1,tsType:{name:"string"},description:""}}};const N=S.memo(({index:e,currentPage:t,handlePage:n})=>p.jsx("li",{children:p.jsx("button",{type:"button",onClick:()=>n(e),className:P("px-2.5 py-1 rounded-lg text-blue-600 cursor-pointer dark:text-aurora-500",{"bg-blue-600 text-white font-semibold dark:bg-aurora-500 dark:text-metal-800":e===t}),children:e+1})},e));N.displayName="KonstructPageButton";const J=S.memo(({keyValue:e})=>p.jsx("li",{className:"px-2",children:p.jsx("span",{className:"text-blue-600 select-none dark:text-aurora-500",children:"..."})},e));J.displayName="KonstructEllipsis";const Te=S.memo(({direction:e,disabled:t,onClick:n})=>{const r=e==="left"?zt:Gt;return p.jsx("li",{className:"flex items-center justify-center",children:p.jsx("button",{onClick:n,disabled:t,children:p.jsx(r,{className:P("h-6 w-6 cursor-pointer",{"text-blue-600 dark:text-aurora-500":!t,"text-slate-400 cursor-not-allowed":t})})})})});Te.displayName="KonstructNavigationButton";const $t=()=>{const{totalPages:e,page:t,handlePage:n}=H(),r=()=>{if(e<=5)return Array.from({length:e},(i,o)=>p.jsx(N,{index:o,currentPage:t,handlePage:n},o));const s=[];if(t<3){for(let i=0;i<3;i++)s.push(p.jsx(N,{index:i,currentPage:t,handlePage:n},i));s.push(p.jsx(J,{keyValue:"ellipsis"},"ellipsis"));for(let i=e-2;i<e;i++)s.push(p.jsx(N,{index:i,currentPage:t,handlePage:n},i))}else if(t>=e-5){s.push(p.jsx(N,{index:0,currentPage:t,handlePage:n},0)),e>6&&s.push(p.jsx(J,{keyValue:"ellipsis"},"ellipsis"));for(let i=Math.max(1,e-5);i<e;i++)s.push(p.jsx(N,{index:i,currentPage:t,handlePage:n},i))}else{s.push(p.jsx(N,{index:0,currentPage:t,handlePage:n},0)),t>3&&s.push(p.jsx(J,{keyValue:"ellipsis1"},"ellipsis1"));for(let i=t-1;i<=t+1;i++)i>0&&i<e-1&&s.push(p.jsx(N,{index:i,currentPage:t,handlePage:n},i));t<e-4&&s.push(p.jsx(J,{keyValue:"ellipsis2"},"ellipsis2")),s.push(p.jsx(N,{index:e-1,currentPage:t,handlePage:n},e-1))}return s};return p.jsxs("ul",{className:"flex items-center gap-2",children:[p.jsx(Te,{direction:"left",onClick:()=>n(t-1),disabled:t===0}),r(),p.jsx(Te,{direction:"right",onClick:()=>n(t+1),disabled:t>=e-1})]})};$t.__docgenInfo={description:"",methods:[],displayName:"DotPaginate"};const Et=({pageSizes:e=Bn})=>{const{pageSize:t,onPageSize:n,handlePage:r}=H(),s=S.useMemo(()=>e.map(String).map(o=>({label:o,value:o})),[]),i=S.useCallback(o=>{n(Number(o)),r(0)},[r,n]);return p.jsxs("div",{className:"flex items-center gap-2 dark:text-metal-300",children:[p.jsx("span",{children:"Show"}),p.jsx(Qt,{className:"w-22 [&>div>p]:text-sm bg-white",listItemClassName:"[&>p]:text-sm dark:bg-metal-800",options:s,value:t.toString(),onChange:({target:o})=>i(o.value)})]})};Et.__docgenInfo={description:"",methods:[],displayName:"DropdownPaginate",props:{pageSizes:{required:!1,tsType:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"",defaultValue:{value:"[10, 20, 50, 100]",computed:!1}}}};const Vt=()=>{const e=S.useRef(null),{totalPages:t,handlePage:n}=H(),r=S.useCallback(s=>{s.preventDefault();const i=new FormData(s.currentTarget),o=Number(i.get("jump-to")),a=(o<t?o:t)||1;n(a-1),e.current?.reset()},[n,t]);return p.jsxs("form",{"aria-label":"footer-pagination",ref:e,onSubmit:r,className:"flex items-center gap-2",noValidate:!0,children:[p.jsx(Bt,{component:"span",className:"text-sm min-w-fit tracking-normal",children:"Jump to"}),p.jsx(nt,{type:"number",className:"w-18 text-sm no-spinner",name:"jump-to",min:1,max:t,required:!0,autoComplete:"off"}),p.jsx(ee,{variant:"link",type:"submit",className:"text-xs p-2 cursor-pointer",children:"Go"})]})};Vt.__docgenInfo={description:"",methods:[],displayName:"FormPaginate"};const At=({showTotalItems:e=!0,showDropdownPagination:t=!0,showDotPagination:n=!0,showFormPagination:r=!0,pageSizes:s,classNamePagination:i,isLoading:o})=>{const{totalItems:a=-1/0,tableFetching:l,isFirstLoad:u}=H();return a<=Ve||l||o?null:p.jsxs(p.Fragment,{children:[p.jsx("div",{className:P("bg-slate-50","border","border-y-transparent","border-x-slate-100","text-slate-500","text-sm","not-italic","py-2","px-6","rounded-b-lg","shadow","dark:bg-metal-800","dark:border-x-metal-700","dark:border-b-metal-700",i,{"animate-in fade-in-10":!u}),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[a&&e?p.jsxs("span",{className:"text-slate-800 dark:text-metal-300",children:[a," Results"]}):null,t&&p.jsx("div",{className:"flex items-center gap-2",children:p.jsx(Et,{pageSizes:s})})]}),p.jsxs("div",{className:"flex items-center gap-8",children:[n&&p.jsx($t,{}),r&&p.jsx(Vt,{})]})]})}),p.jsx("div",{className:"w-full min-h-37.5"})]})};At.__docgenInfo={description:"",methods:[],displayName:"Pagination",props:{showTotalItems:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showDropdownPagination:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showDotPagination:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},showFormPagination:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},pageSizes:{required:!1,tsType:{name:"union",raw:"number[] | string[]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},classNamePagination:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""}}};const kt=({getValue:e,value:t})=>{const n=S.useRef(null),[r,s]=S.useState(!1),i=t??e().toLocaleLowerCase(),o=S.useCallback(()=>{const a=n.current;a&&s(a.scrollWidth>a.clientWidth)},[]);return S.useEffect(()=>{const a=new AbortController,l=tt(o,300);return window.addEventListener("resize",l,{signal:a.signal}),()=>{a.abort(),l.cancel()}},[o]),S.useEffect(()=>{o()},[o]),r?p.jsx(Ut,{delayDuration:0,children:p.jsxs(Kt,{children:[p.jsx(Wt,{asChild:!0,children:p.jsx("p",{ref:n,className:"w-full truncate cursor-pointer",children:i})}),p.jsx(Xt,{side:"bottom",align:"center",className:"animate-in fade-in-0 relative mt-1.5 overflow-visible bg-kubefirst-dark-blue-900 text-white px-3 py-2 after:content-[''] after:absolute after:left-1/2 after:-translate-x-1/2 after:top-0 after:-translate-y-full after:border-l-8 after:border-l-transparent after:border-r-8 after:border-r-transparent after:border-b-8 after:border-kubefirst-dark-blue-900",children:i})]})}):p.jsx("p",{ref:n,className:"w-full truncate",children:i})};kt.__docgenInfo={description:"",methods:[],displayName:"TruncateText",props:{value:{required:!1,tsType:{name:"string"},description:""}}};const jt=({children:e,classNameWrapperTable:t,isLoading:n,showPagination:r})=>{const{tableFetching:s}=H();return p.jsx("div",{className:P("shadow rounded-t-lg",{"overflow-hidden rounded-lg":!r||s||n},t),children:e})};jt.__docgenInfo={description:"",methods:[],displayName:"WrapperBody",props:{classNameWrapperTable:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},showPagination:{required:!1,tsType:{name:"boolean"},description:""}}};const qt=({id:e,ariaLabel:t,columns:n,data:r,totalItems:s=-1/0,className:i,classNameHeaderActiveArrows:o,classNameHeaderArrows:a,classNameHeaderTable:l,classNameTable:u,classNameWrapperTable:c,isLoading:m,fetchData:g,queryOptions:d,showPagination:h,showTotalItems:f,showDropdownPagination:y,showDotPagination:v,showFormPagination:R,pageSizes:x,showFilter:_=!1,showFilterInput:F,filterSearchPlaceholder:T="",multiSelectFilter:D,filterActions:b,showResetButton:k=!0,resetButtonClassName:q})=>{const V=S.useMemo(()=>h||[f,y,v,R].some(Boolean),[]);return p.jsx(_t,{id:e,columns:n,data:r,fetchData:g,totalItems:s,queryOptions:d,isPaginationEnabled:V,children:p.jsxs("section",{className:P("w-full min-w-fit",i),children:[_&&p.jsx(It,{actions:b,multiSelectFilter:D,placeholder:T,showFilterInput:F,showResetButton:k,resetButtonClassName:q}),p.jsx(jt,{showPagination:V,classNameWrapperTable:c,isLoading:m,children:p.jsxs("table",{className:P("w-full border-collapse table-auto","dark:border-separate dark:border-spacing-0",u),"aria-label":t,children:[p.jsx(Ot,{className:l,classNameArrows:a,classNameActiveArrows:o}),p.jsx(Mt,{isLoading:m,showPagination:V})]})}),V&&p.jsx(At,{showTotalItems:f,showDropdownPagination:y,showDotPagination:v,showFormPagination:R,pageSizes:x,isLoading:m})]})})},Ne=qt;Ne.displayName="KonstructVirtualizedTable";Ne.TruncateText=kt;Ne.Actions=st;qt.__docgenInfo={description:`A feature-rich data table component with filtering, pagination, and sorting.
Built on TanStack Table with support for server-side data fetching.

@example
\`\`\`tsx
<VirtualizedTable
  id="orders-table"
  columns={[
    { accessorKey: 'id', header: 'Order ID' },
    { accessorKey: 'status', header: 'Status' },
    { accessorKey: 'total', header: 'Total' },
  ]}
  data={orders}
  totalItems={totalOrders}
  showPagination
  showDropdownPagination
  showFilter
  showFilterInput
  filterSearchPlaceholder="Search orders..."
/>
\`\`\`

@see {@link https://konstructio.github.io/konstruct-ui/?path=/docs/components-virtualizedtable--docs Storybook}`,methods:[],displayName:"VirtualizedTableInner",props:{id:{required:!0,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},ariaLabel:{required:!1,tsType:{name:"string"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"ColumnDefPrimitive",elements:[{name:"TData"},{name:"string"}],raw:"ColumnDefPrimitive<TData, string>"}],raw:"ColumnDefPrimitive<TData, string>[]"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"TData"}],raw:"TData[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},classNameHeaderActiveArrows:{required:!1,tsType:{name:"string"},description:""},classNameHeaderArrows:{required:!1,tsType:{name:"string"},description:""},classNameHeaderTable:{required:!1,tsType:{name:"string"},description:""},classNameTable:{required:!1,tsType:{name:"string"},description:""},classNameWrapperTable:{required:!1,tsType:{name:"string"},description:""},queryOptions:{required:!1,tsType:{name:"Omit",elements:[{name:"UseQueryOptions",elements:[{name:"any"},{name:"any"},{name:"any"},{name:"any"}],raw:"UseQueryOptions<any, any, any, any>"},{name:"union",raw:"'queryKey' | 'queryFn'",elements:[{name:"literal",value:"'queryKey'"},{name:"literal",value:"'queryFn'"}]}],raw:`Omit<
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  UseQueryOptions<any, any, any, any>,
  'queryKey' | 'queryFn'
>`},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},fetchData:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  params: Record<string, string | number | string[] | number[] | undefined>,
) => Promise<{ data: TData[]; totalItemsCount?: number }>`,signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"union",raw:"string | number | string[] | number[] | undefined",elements:[{name:"string"},{name:"number"},{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"undefined"}]}],raw:"Record<string, string | number | string[] | number[] | undefined>"},name:"params"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ data: TData[]; totalItemsCount?: number }",signature:{properties:[{key:"data",value:{name:"Array",elements:[{name:"TData"}],raw:"TData[]",required:!0}},{key:"totalItemsCount",value:{name:"number",required:!1}}]}}],raw:"Promise<{ data: TData[]; totalItemsCount?: number }>"}}},description:""},totalItems:{defaultValue:{value:"-Infinity",computed:!1},required:!1},showFilter:{defaultValue:{value:"false",computed:!1},required:!1},filterSearchPlaceholder:{defaultValue:{value:"''",computed:!1},required:!1},showResetButton:{defaultValue:{value:"true",computed:!1},required:!1}}};export{Ve as D,Nr as E,Hr as Q,Ne as V,Lr as a};
