import{r as n,j as a}from"./iframe-BP6xk-sd.js";import{u as T}from"./index-CL5I2TJl.js";import{b as K,P as R,a as V,c as E}from"./index-B8ykCEHl.js";import{u as U}from"./index-BFNe1SIl.js";import{u as G}from"./index-37Tcys3K.js";import{P as X}from"./index-DuM2WOkk.js";import{u as W}from"./useToggle-B9QzNAUl.js";import{a as N,c as P}from"./index-B-7A89sm.js";import{C as $}from"./check-UpI97qn4.js";var v="Checkbox",[J,ue]=K(v),[Q,S]=J(v);function Y(t){const{__scopeCheckbox:l,checked:c,children:i,defaultChecked:o,disabled:e,form:f,name:b,onCheckedChange:u,required:m,value:k="on",internal_do_not_use_render:d}=t,[p,g]=V({prop:c,defaultProp:o??!1,onChange:u,caller:v}),[h,x]=n.useState(null),[y,r]=n.useState(null),s=n.useRef(!1),I=h?!!f||!!h.closest("form"):!0,w={checked:p,disabled:e,setChecked:g,control:h,setControl:x,name:b,form:f,value:k,hasConsumerStoppedPropagationRef:s,required:m,defaultChecked:C(o)?!1:o,isFormControl:I,bubbleInput:y,setBubbleInput:r};return a.jsx(Q,{scope:l,...w,children:Z(d)?d(w):i})}var j="CheckboxTrigger",q=n.forwardRef(({__scopeCheckbox:t,onKeyDown:l,onClick:c,...i},o)=>{const{control:e,value:f,disabled:b,checked:u,required:m,setControl:k,setChecked:d,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:h}=S(j,t),x=T(o,k),y=n.useRef(u);return n.useEffect(()=>{const r=e?.form;if(r){const s=()=>d(y.current);return r.addEventListener("reset",s),()=>r.removeEventListener("reset",s)}},[e,d]),a.jsx(R.button,{type:"button",role:"checkbox","aria-checked":C(u)?"mixed":u,"aria-required":m,"data-state":D(u),"data-disabled":b?"":void 0,disabled:b,value:f,...i,ref:x,onKeyDown:E(l,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:E(c,r=>{d(s=>C(s)?!0:!s),h&&g&&(p.current=r.isPropagationStopped(),p.current||r.stopPropagation())})})});q.displayName=j;var B=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,name:i,checked:o,defaultChecked:e,required:f,disabled:b,value:u,onCheckedChange:m,form:k,...d}=t;return a.jsx(Y,{__scopeCheckbox:c,checked:o,defaultChecked:e,disabled:b,required:f,onCheckedChange:m,name:i,form:k,value:u,internal_do_not_use_render:({isFormControl:p})=>a.jsxs(a.Fragment,{children:[a.jsx(q,{...d,ref:l,__scopeCheckbox:c}),p&&a.jsx(M,{__scopeCheckbox:c})]})})});B.displayName=v;var A="CheckboxIndicator",z=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,forceMount:i,...o}=t,e=S(A,c);return a.jsx(X,{present:i||C(e.checked)||e.checked===!0,children:a.jsx(R.span,{"data-state":D(e.checked),"data-disabled":e.disabled?"":void 0,...o,ref:l,style:{pointerEvents:"none",...t.style}})})});z.displayName=A;var L="CheckboxBubbleInput",M=n.forwardRef(({__scopeCheckbox:t,...l},c)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:e,defaultChecked:f,required:b,disabled:u,name:m,value:k,form:d,bubbleInput:p,setBubbleInput:g}=S(L,t),h=T(c,g),x=U(e),y=G(i);n.useEffect(()=>{const s=p;if(!s)return;const I=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(I,"checked").set,O=!o.current;if(x!==e&&_){const H=new Event("click",{bubbles:O});s.indeterminate=C(e),_.call(s,C(e)?!1:e),s.dispatchEvent(H)}},[p,x,e,o]);const r=n.useRef(C(e)?!1:e);return a.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??r.current,required:b,disabled:u,name:m,value:k,form:d,...l,tabIndex:-1,ref:h,style:{...l.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M.displayName=L;function Z(t){return typeof t=="function"}function C(t){return t==="indeterminate"}function D(t){return C(t)?"indeterminate":t?"checked":"unchecked"}const ee=N(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-slate-800","border-zinc-400","disabled:cursor-not-allowed"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["kubefirst:border-kubefirst-primary","kubefirst:bg-kubefirst-primary","bg-aurora-500","border-aurora-500","disabled:bg-zinc-300","disabled:border-transparent","*:text-metal-900","kubefirst:*:text-white","disabled:*:text-white","dark:disabled:*:text-metal-900","dark:disabled:bg-aurora-500/45"]},{checked:!1,class:["kubefirst:border-kubefirst-primary","kubefirst:text-white","border-zinc-400","disabled:bg-zinc-50","disabled:border-zinc-300","dark:disabled:bg-metal-800","dark:disabled:border-metal-600","dark:border-metal-600","dark:bg-metal-800"]}],defaultVariants:{variant:"default"}}),te=N(["select-none","cursor-pointer","text-sm","text-slate-800","dark:text-slate-50"]),F=n.forwardRef(({ariaLabelledBy:t,className:l,defaultChecked:c,disabled:i,id:o,label:e,labelClassName:f,name:b,theme:u,title:m,variant:k,onChange:d,...p},g)=>{const[h,x]=W(c??!1),y=n.useId(),r=n.useCallback(s=>{x(s),d?.(s)},[d,x]);return a.jsxs("div",{className:"flex items-center gap-4","data-theme":u,children:[a.jsx(B,{id:o??y,checked:h,ref:g,name:b,disabled:i,"aria-labelledby":t,title:m,className:P(ee({className:l,variant:k,checked:h})),onCheckedChange:r,...p,children:a.jsx(z,{children:a.jsx($,{className:"w-4 h-4 stroke-2"})})}),e?a.jsx("label",{htmlFor:b??o,className:P(te({className:f}),{"cursor-not-allowed":i}),onClick:()=>!i&&r(!h),children:e}):null]})});F.displayName="KonstructCheckbox";F.__docgenInfo={description:`A checkbox component built on Radix UI primitives.
Supports controlled and uncontrolled modes with label support.

@example
\`\`\`tsx
// Basic checkbox with label
<Checkbox label="Accept terms and conditions" />

// Controlled checkbox
<Checkbox
  label="Subscribe to newsletter"
  defaultChecked={subscribed}
  onChange={(checked) => setSubscribed(checked)}
/>

// Disabled checkbox
<Checkbox label="Premium feature" disabled />
\`\`\`

@see {@link https://konstructio.github.io/konstruct-ui/?path=/docs/components-checkbox--docs Storybook}`,methods:[],displayName:"KonstructCheckbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:"ID of element that labels the checkbox for accessibility"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"},defaultChecked:{required:!1,tsType:{name:"boolean"},description:"Initial checked state"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the checkbox is disabled"},id:{required:!1,tsType:{name:"string"},description:"HTML id attribute"},label:{required:!1,tsType:{name:"string"},description:"Label text displayed next to checkbox"},labelClassName:{required:!1,tsType:{name:"string"},description:"CSS classes for the label"},name:{required:!1,tsType:{name:"string"},description:"Form field name"},theme:{required:!1,tsType:{name:"Theme"},description:"Theme override for this component"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:"Callback when checked state changes"}},composes:["Omit"]};export{F as C};
