import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./index-CDlOlYQx.js";import{u as T}from"./index-4AoDZzVP.js";import{c as H,a as z,b as j}from"./index-C1roXhr_.js";import{a as G,u as K}from"./index-DwzNJtFx.js";import{P as U}from"./index-CVcTfqiJ.js";import{P as I}from"./index-CJ419dTJ.js";import{u as X}from"./useToggle-BALwLbl6.js";import{c as q,a as N}from"./index-DJQVxuCM.js";import{C as $}from"./check-DSazg7jv.js";var g="Checkbox",[J,pe]=H(g),[Q,P]=J(g);function W(t){const{__scopeCheckbox:i,checked:s,children:u,defaultChecked:r,disabled:e,form:m,name:p,onCheckedChange:d,required:h,value:k="on",internal_do_not_use_render:o}=t,[f,C]=z({prop:s,defaultProp:r??!1,onChange:d,caller:g}),[b,x]=a.useState(null),[y,c]=a.useState(null),l=a.useRef(!1),_=b?!!m||!!b.closest("form"):!0,E={checked:f,disabled:e,setChecked:C,control:b,setControl:x,name:p,form:m,value:k,hasConsumerStoppedPropagationRef:l,required:h,defaultChecked:v(r)?!1:r,isFormControl:_,bubbleInput:y,setBubbleInput:c};return n.jsx(Q,{scope:i,...E,children:Y(o)?o(E):u})}var w="CheckboxTrigger",S=a.forwardRef(({__scopeCheckbox:t,onKeyDown:i,onClick:s,...u},r)=>{const{control:e,value:m,disabled:p,checked:d,required:h,setControl:k,setChecked:o,hasConsumerStoppedPropagationRef:f,isFormControl:C,bubbleInput:b}=P(w,t),x=T(r,k),y=a.useRef(d);return a.useEffect(()=>{const c=e==null?void 0:e.form;if(c){const l=()=>o(y.current);return c.addEventListener("reset",l),()=>c.removeEventListener("reset",l)}},[e,o]),n.jsx(I.button,{type:"button",role:"checkbox","aria-checked":v(d)?"mixed":d,"aria-required":h,"data-state":O(d),"data-disabled":p?"":void 0,disabled:p,value:m,...u,ref:x,onKeyDown:j(i,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:j(s,c=>{o(l=>v(l)?!0:!l),b&&C&&(f.current=c.isPropagationStopped(),f.current||c.stopPropagation())})})});S.displayName=w;var B=a.forwardRef((t,i)=>{const{__scopeCheckbox:s,name:u,checked:r,defaultChecked:e,required:m,disabled:p,value:d,onCheckedChange:h,form:k,...o}=t;return n.jsx(W,{__scopeCheckbox:s,checked:r,defaultChecked:e,disabled:p,required:m,onCheckedChange:h,name:u,form:k,value:d,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(S,{...o,ref:i,__scopeCheckbox:s}),f&&n.jsx(L,{__scopeCheckbox:s})]})})});B.displayName=g;var M="CheckboxIndicator",A=a.forwardRef((t,i)=>{const{__scopeCheckbox:s,forceMount:u,...r}=t,e=P(M,s);return n.jsx(U,{present:u||v(e.checked)||e.checked===!0,children:n.jsx(I.span,{"data-state":O(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:i,style:{pointerEvents:"none",...t.style}})})});A.displayName=M;var F="CheckboxBubbleInput",L=a.forwardRef(({__scopeCheckbox:t,...i},s)=>{const{control:u,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:m,required:p,disabled:d,name:h,value:k,form:o,bubbleInput:f,setBubbleInput:C}=P(F,t),b=T(s,C),x=G(e),y=K(u);a.useEffect(()=>{const l=f;if(!l)return;const _=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(_,"checked").set,V=!r.current;if(x!==e&&R){const D=new Event("click",{bubbles:V});l.indeterminate=v(e),R.call(l,v(e)?!1:e),l.dispatchEvent(D)}},[f,x,e,r]);const c=a.useRef(v(e)?!1:e);return n.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??c.current,required:p,disabled:d,name:h,value:k,form:o,...i,tabIndex:-1,ref:b,style:{...i.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L.displayName=F;function Y(t){return typeof t=="function"}function v(t){return t==="indeterminate"}function O(t){return v(t)?"indeterminate":t?"checked":"unchecked"}const Z=q(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-white","border-kubefirst-primary","colony:border-red-700","civo:border-civo-primary"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["bg-kubefirst-primary","colony:bg-red-700","civo:bg-civo-primary"]}],defaultVariants:{variant:"default"}}),ee=q(["cursor-pointer","text-slate-800"]),te=a.forwardRef(({ariaLabelledBy:t,className:i,defaultChecked:s,disabled:u,id:r,label:e,labelClassName:m,name:p,theme:d,title:h,variant:k,onChange:o},f)=>{const[C,b]=X(s),x=a.useId(),y=a.useCallback(()=>{b(),o==null||o()},[o,b]);return n.jsxs("div",{className:"flex items-center gap-2","data-theme":d,children:[n.jsx(B,{id:r??x,checked:C,ref:f,name:p,disabled:u,"aria-labelledby":t,title:h,className:N(Z({className:i,variant:k,checked:C})),onCheckedChange:y,children:n.jsx(A,{children:n.jsx($,{className:"w-4 h-4 stroke-2"})})}),e?n.jsx("label",{htmlFor:p??r,className:N(ee({className:m})),children:e}):null]})});te.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'colony'
| 'civo'
| 'kubefirst-dark'
| 'colony-dark'
| 'civo-dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'colony'"},{name:"literal",value:"'civo'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'colony-dark'"},{name:"literal",value:"'civo-dark'"},{name:"undefined"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};export{te as C};
