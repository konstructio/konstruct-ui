import{j as r}from"./jsx-runtime-u17CrQMm.js";import{B as Ce}from"./Button-SdkfVTIe.js";import{S as U}from"./index-C3Oq3-Mx.js";import{r as n}from"./iframe-Bbv792-s.js";import{r as Pe}from"./index-D9Daq4g5.js";import{P as _,c as be,a as Re,b as P,u as Ne,d as Se}from"./index-VrdQcGi6.js";import{u as ae}from"./index-BY3lhODL.js";import{c as Ie}from"./index-DE1dviFo.js";import{B as _e,R as je}from"./index-B8QqBlTa.js";import{P as Ae}from"./index-D7NyudBZ.js";import{P as De}from"./index-BNs5ir1q.js";import{u as H}from"./index-CsIDUnqC.js";import{R as Fe}from"./index-D6b_gQ4Y.js";import{c as Q,a as X}from"./index-Bn42e07n.js";import{X as Le}from"./x-BdhSWMt_.js";import{c as Oe}from"./createLucideIcon-DeSTlbBx.js";import"./preload-helper-PPVm8Dsz.js";import"./index-BIJYmpuf.js";import"./index-Dp8riKcw.js";const ke=[["line",{x1:"9",x2:"9",y1:"4",y2:"20",key:"ovs5a5"}],["path",{d:"M4 7c0-1.7 1.3-3 3-3h13",key:"10pag4"}],["path",{d:"M18 20c-1.7 0-3-1.3-3-3V4",key:"1gaosr"}]],Me=Oe("pi",ke);var Ve=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ke="VisuallyHidden",Z=n.forwardRef((e,s)=>r.jsx(_.span,{...e,ref:s,style:{...Ve,...e.style}}));Z.displayName=Ke;var ee="ToastProvider",[te,qe,Be]=Ie("Toast"),[ie,At]=be("Toast",[Be]),[He,W]=ie(ee),ce=e=>{const{__scopeToast:s,label:o="Notification",duration:t=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[w,v]=n.useState(null),[i,x]=n.useState(0),T=n.useRef(!1),N=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${ee}\`. Expected non-empty \`string\`.`),r.jsx(te.Provider,{scope:s,children:r.jsx(He,{scope:s,label:o,duration:t,swipeDirection:c,swipeThreshold:d,toastCount:i,viewport:w,onViewportChange:v,onToastAdd:n.useCallback(()=>x(b=>b+1),[]),onToastRemove:n.useCallback(()=>x(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:T,isClosePausedRef:N,children:p})})};ce.displayName=ee;var le="ToastViewport",We=["F8"],z="toast.viewportPause",G="toast.viewportResume",ue=n.forwardRef((e,s)=>{const{__scopeToast:o,hotkey:t=We,label:c="Notifications ({hotkey})",...d}=e,p=W(le,o),w=qe(o),v=n.useRef(null),i=n.useRef(null),x=n.useRef(null),T=n.useRef(null),N=ae(s,T,p.onViewportChange),b=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=p.toastCount>0;n.useEffect(()=>{const l=E=>{t.length!==0&&t.every(m=>E[m]||E.code===m)&&T.current?.focus()};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[t]),n.useEffect(()=>{const l=v.current,E=T.current;if(C&&l&&E){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(z);E.dispatchEvent(h),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(G);E.dispatchEvent(h),p.isClosePausedRef.current=!1}},y=h=>{!l.contains(h.relatedTarget)&&m()},g=()=>{l.contains(document.activeElement)||m()};return l.addEventListener("focusin",f),l.addEventListener("focusout",y),l.addEventListener("pointermove",f),l.addEventListener("pointerleave",g),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{l.removeEventListener("focusin",f),l.removeEventListener("focusout",y),l.removeEventListener("pointermove",f),l.removeEventListener("pointerleave",g),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[C,p.isClosePausedRef]);const u=n.useCallback(({tabbingDirection:l})=>{const f=w().map(m=>{const y=m.ref.current,g=[y,...ot(y)];return l==="forwards"?g:g.reverse()});return(l==="forwards"?f.reverse():f).flat()},[w]);return n.useEffect(()=>{const l=T.current;if(l){const E=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const g=document.activeElement,h=f.shiftKey;if(f.target===l&&h){i.current?.focus();return}const A=u({tabbingDirection:h?"backwards":"forwards"}),k=A.findIndex(I=>I===g);Y(A.slice(k+1))?f.preventDefault():h?i.current?.focus():x.current?.focus()}};return l.addEventListener("keydown",E),()=>l.removeEventListener("keydown",E)}},[w,u]),r.jsxs(_e,{ref:v,role:"region","aria-label":c.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&r.jsx(J,{ref:i,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"forwards"});Y(l)}}),r.jsx(te.Slot,{scope:o,children:r.jsx(_.ol,{tabIndex:-1,...d,ref:N})}),C&&r.jsx(J,{ref:x,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"backwards"});Y(l)}})]})});ue.displayName=le;var de="ToastFocusProxy",J=n.forwardRef((e,s)=>{const{__scopeToast:o,onFocusFromOutsideViewport:t,...c}=e,d=W(de,o);return r.jsx(Z,{tabIndex:0,...c,ref:s,style:{position:"fixed"},onFocus:p=>{const w=p.relatedTarget;!d.viewport?.contains(w)&&t()}})});J.displayName=de;var L="Toast",$e="toast.swipeStart",Ue="toast.swipeMove",Xe="toast.swipeCancel",Ye="toast.swipeEnd",pe=n.forwardRef((e,s)=>{const{forceMount:o,open:t,defaultOpen:c,onOpenChange:d,...p}=e,[w,v]=Re({prop:t,defaultProp:c??!0,onChange:d,caller:L});return r.jsx(De,{present:o||w,children:r.jsx(Je,{open:w,...p,ref:s,onClose:()=>v(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x,y:T}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${T}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x,y:T}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${T}px`),v(!1)})})})});pe.displayName=L;var[ze,Ge]=ie(L,{onClose(){}}),Je=n.forwardRef((e,s)=>{const{__scopeToast:o,type:t="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:w,onPause:v,onResume:i,onSwipeStart:x,onSwipeMove:T,onSwipeCancel:N,onSwipeEnd:b,...C}=e,u=W(L,o),[l,E]=n.useState(null),f=ae(s,a=>E(a)),m=n.useRef(null),y=n.useRef(null),g=c||u.duration,h=n.useRef(0),j=n.useRef(g),O=n.useRef(0),{onToastAdd:A,onToastRemove:k}=u,I=H(()=>{l?.contains(document.activeElement)&&u.viewport?.focus(),p()}),M=n.useCallback(a=>{!a||a===1/0||(window.clearTimeout(O.current),h.current=new Date().getTime(),O.current=window.setTimeout(I,a))},[I]);n.useEffect(()=>{const a=u.viewport;if(a){const R=()=>{M(j.current),i?.()},S=()=>{const D=new Date().getTime()-h.current;j.current=j.current-D,window.clearTimeout(O.current),v?.()};return a.addEventListener(z,S),a.addEventListener(G,R),()=>{a.removeEventListener(z,S),a.removeEventListener(G,R)}}},[u.viewport,g,v,i,M]),n.useEffect(()=>{d&&!u.isClosePausedRef.current&&M(g)},[d,g,u.isClosePausedRef,M]),n.useEffect(()=>(A(),()=>k()),[A,k]);const oe=n.useMemo(()=>l?Ee(l):null,[l]);return u.viewport?r.jsxs(r.Fragment,{children:[oe&&r.jsx(Qe,{__scopeToast:o,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:oe}),r.jsx(ze,{scope:o,onClose:I,children:Pe.createPortal(r.jsx(te.ItemSlot,{scope:o,children:r.jsx(je,{asChild:!0,onEscapeKeyDown:P(w,()=>{u.isFocusedToastEscapeKeyDownRef.current||I(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(_.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...C,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,a=>{a.key==="Escape"&&(w?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:P(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:P(e.onPointerMove,a=>{if(!m.current)return;const R=a.clientX-m.current.x,S=a.clientY-m.current.y,D=!!y.current,F=["left","right"].includes(u.swipeDirection),V=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,ye=F?V(0,R):0,ge=F?0:V(0,S),$=a.pointerType==="touch"?10:2,K={x:ye,y:ge},re={originalEvent:a,delta:K};D?(y.current=K,q(Ue,T,re,{discrete:!1})):ne(K,u.swipeDirection,$)?(y.current=K,q($e,x,re,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(R)>$||Math.abs(S)>$)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,a=>{const R=y.current,S=a.target;if(S.hasPointerCapture(a.pointerId)&&S.releasePointerCapture(a.pointerId),y.current=null,m.current=null,R){const D=a.currentTarget,F={originalEvent:a,delta:R};ne(R,u.swipeDirection,u.swipeThreshold)?q(Ye,b,F,{discrete:!0}):q(Xe,N,F,{discrete:!0}),D.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),Qe=e=>{const{__scopeToast:s,children:o,...t}=e,c=W(L,s),[d,p]=n.useState(!1),[w,v]=n.useState(!1);return tt(()=>p(!0)),n.useEffect(()=>{const i=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(i)},[]),w?null:r.jsx(Ae,{asChild:!0,children:r.jsx(Z,{...t,children:d&&r.jsxs(r.Fragment,{children:[c.label," ",o]})})})},Ze="ToastTitle",fe=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(_.div,{...t,ref:s})});fe.displayName=Ze;var et="ToastDescription",me=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e;return r.jsx(_.div,{...t,ref:s})});me.displayName=et;var we="ToastAction",Te=n.forwardRef((e,s)=>{const{altText:o,...t}=e;return o.trim()?r.jsx(he,{altText:o,asChild:!0,children:r.jsx(xe,{...t,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${we}\`. Expected non-empty \`string\`.`),null)});Te.displayName=we;var ve="ToastClose",xe=n.forwardRef((e,s)=>{const{__scopeToast:o,...t}=e,c=Ge(ve,o);return r.jsx(he,{asChild:!0,children:r.jsx(_.button,{type:"button",...t,ref:s,onClick:P(e.onClick,c.onClose)})})});xe.displayName=ve;var he=n.forwardRef((e,s)=>{const{__scopeToast:o,altText:t,...c}=e;return r.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...c,ref:s})});function Ee(e){const s=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),st(t)){const c=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&s.push(p)}else s.push(...Ee(t))}}),s}function q(e,s,o,{discrete:t}){const c=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});s&&c.addEventListener(e,s,{once:!0}),t?Se(c,d):c.dispatchEvent(d)}var ne=(e,s,o=0)=>{const t=Math.abs(e.x),c=Math.abs(e.y),d=t>c;return s==="left"||s==="right"?d&&t>o:!d&&c>o};function tt(e=()=>{}){const s=H(e);Ne(()=>{let o=0,t=0;return o=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(t)}},[s])}function st(e){return e.nodeType===e.ELEMENT_NODE}function ot(e){const s=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const c=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||c?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)s.push(o.currentNode);return s}function Y(e){const s=document.activeElement;return e.some(o=>o===s?!0:(o.focus(),document.activeElement!==s))}var rt=ce,nt=ue,at=pe,it=fe,ct=me,lt=Te;const ut=Q(["rounded-md","shadow-md","p-4","flex","flex-col","relative","border","overflow-hidden","data-[state=open]:animate-slide-in","data-[state=closed]:animate-hide","data-[swipe=move]:translate-x-4","data-[swipe=cancel]:translate-x-0","data-[swipe=end]:animate-swipe-out","shadow-purple-200","border-purple-100","dark:border-none","dark:shadow-none"]),dt=Q(["fixed","bottom-0","right-0","flex","flex-col","p-[var(--viewport-padding)]","gap-8","w-[390px]","max-w-[100vw]","m-0","z-50","outline-none"]),pt=Q(["top-2","right-2","w-4","h-4","text-kubefirst-primary"]),se=({title:e,duration:s=5e3,titleClassName:o,descriptionClassName:t,description:c,children:d,theme:p,showCloseButton:w=!0,closeButtonClassName:v,className:i,open:x=!1,setOpen:T})=>{const N=n.useRef(0);n.useEffect(()=>()=>clearTimeout(N.current),[]);const b=n.useMemo(()=>n.isValidElement(e)?r.jsx(U,{className:o,children:e}):e,[e,o]),C=n.useMemo(()=>n.isValidElement(c)?r.jsx(U,{className:t,children:c}):c,[c,t]),u=n.useCallback(()=>{T(!1),N.current=window.setTimeout(()=>T(!0),100)},[T]);return r.jsxs(rt,{swipeDirection:"right",duration:s,children:[r.jsx(U,{onClick:u,children:d}),r.jsxs(at,{className:X(ut({className:i})),"data-theme":p,open:x,onOpenChange:T,children:[r.jsx(it,{asChild:!0,className:o,children:b}),C&&r.jsx(ct,{asChild:!0,children:C}),w&&r.jsx(lt,{asChild:!0,altText:"Close the toast",children:r.jsxs("button",{type:"button",className:"absolute right-1.5 top-1.5",children:[r.jsx(Le,{className:X(pt({className:v}))}),r.jsx(Fe,{children:"Close toast"})]})})]}),r.jsx(nt,{className:X(dt())})]})};se.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{className:{required:!1,tsType:{name:"string"},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},descriptionClassName:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5000",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},theme:{required:!1,tsType:{name:"Theme"},description:""},title:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},titleClassName:{required:!1,tsType:{name:"string"},description:""},setOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren","VariantProps"]};const Dt={title:"In Review/Toast",component:se},B={args:{duration:1500,title:r.jsxs("h6",{className:"text-white flex items-center gap-2",children:[r.jsx(Me,{name:"circle-check"}),"This is a title"]})},render:function(s){const[o,t]=n.useState(!1);return r.jsxs("div",{className:"w-[350px] flex flex-col gap-3",children:[r.jsx(Ce,{onClick:()=>t(!0),children:"Open Toast"}),r.jsx(se,{...s,className:"bg-emerald-700",open:o,setOpen:t,closeButtonClassName:"text-white"})]})}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    duration: 1500,
    title: <h6 className="text-white flex items-center gap-2">
        <PiIcon name="circle-check" />
        This is a title
      </h6>
  },
  render: function ToastStory(args) {
    const [open, setOpen] = useState(false);
    return <div className="w-[350px] flex flex-col gap-3">
        <Button onClick={() => setOpen(true)}>Open Toast</Button>
        <ToastComponent {...args} className="bg-emerald-700" open={open} setOpen={setOpen} closeButtonClassName="text-white" />
      </div>;
  }
}`,...B.parameters?.docs?.source}}};const Ft=["Toast"];export{B as Toast,Ft as __namedExportsOrder,Dt as default};
