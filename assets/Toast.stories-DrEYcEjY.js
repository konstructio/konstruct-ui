import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{B as ge}from"./Button-BUvOBFPw.js";import{u as ne,S as X}from"./index-DJCcWdGK.js";import{r as n}from"./iframe-Bxipn8zT.js";import{r as Pe}from"./index-B8Am3u6R.js";import{c as Re,a as be,b as P,u as Ne}from"./index-y3eMkw2y.js";import{c as Se}from"./index-Cpe1g98P.js";import{B as Ie,R as _e}from"./index-DHnoQzGy.js";import{P as je}from"./index-CLGRuNRl.js";import{P as Fe}from"./index-D78SSYnG.js";import{P as _,d as Ae}from"./index-CO0xlRA0.js";import{u as H}from"./index-B2fYqfQf.js";import{V as ae,R as De}from"./index-ceoToKHP.js";import{c as Q,a as U}from"./index-CJCZd66Q.js";import{X as Oe}from"./x-C3t_NYvl.js";import{c as ke}from"./createLucideIcon-BsVLB2Ea.js";import"./preload-helper-PPVm8Dsz.js";import"./index-DP4ZOvG1.js";import"./index-DxVpNLjh.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["line",{x1:"9",x2:"9",y1:"4",y2:"20",key:"ovs5a5"}],["path",{d:"M4 7c0-1.7 1.3-3 3-3h13",key:"10pag4"}],["path",{d:"M18 20c-1.7 0-3-1.3-3-3V4",key:"1gaosr"}]],Me=ke("pi",Le);var Z="ToastProvider",[ee,Ve,Ke]=Se("Toast"),[ie,_t]=Re("Toast",[Ke]),[qe,W]=ie(Z),ce=e=>{const{__scopeToast:o,label:s="Notification",duration:t=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[T,v]=n.useState(null),[i,x]=n.useState(0),w=n.useRef(!1),N=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Z}\`. Expected non-empty \`string\`.`),r.jsx(ee.Provider,{scope:o,children:r.jsx(qe,{scope:o,label:s,duration:t,swipeDirection:c,swipeThreshold:d,toastCount:i,viewport:T,onViewportChange:v,onToastAdd:n.useCallback(()=>x(R=>R+1),[]),onToastRemove:n.useCallback(()=>x(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:N,children:p})})};ce.displayName=Z;var ue="ToastViewport",Be=["F8"],z="toast.viewportPause",G="toast.viewportResume",le=n.forwardRef((e,o)=>{const{__scopeToast:s,hotkey:t=Be,label:c="Notifications ({hotkey})",...d}=e,p=W(ue,s),T=Ve(s),v=n.useRef(null),i=n.useRef(null),x=n.useRef(null),w=n.useRef(null),N=ne(o,w,p.onViewportChange),R=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=p.toastCount>0;n.useEffect(()=>{const u=E=>{t.length!==0&&t.every(m=>E[m]||E.code===m)&&w.current?.focus()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[t]),n.useEffect(()=>{const u=v.current,E=w.current;if(g&&u&&E){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(z);E.dispatchEvent(h),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(G);E.dispatchEvent(h),p.isClosePausedRef.current=!1}},y=h=>{!u.contains(h.relatedTarget)&&m()},C=()=>{u.contains(document.activeElement)||m()};return u.addEventListener("focusin",f),u.addEventListener("focusout",y),u.addEventListener("pointermove",f),u.addEventListener("pointerleave",C),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{u.removeEventListener("focusin",f),u.removeEventListener("focusout",y),u.removeEventListener("pointermove",f),u.removeEventListener("pointerleave",C),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[g,p.isClosePausedRef]);const l=n.useCallback(({tabbingDirection:u})=>{const f=T().map(m=>{const y=m.ref.current,C=[y,...tt(y)];return u==="forwards"?C:C.reverse()});return(u==="forwards"?f.reverse():f).flat()},[T]);return n.useEffect(()=>{const u=w.current;if(u){const E=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const C=document.activeElement,h=f.shiftKey;if(f.target===u&&h){i.current?.focus();return}const F=l({tabbingDirection:h?"backwards":"forwards"}),L=F.findIndex(I=>I===C);Y(F.slice(L+1))?f.preventDefault():h?i.current?.focus():x.current?.focus()}};return u.addEventListener("keydown",E),()=>u.removeEventListener("keydown",E)}},[T,l]),r.jsxs(Ie,{ref:v,role:"region","aria-label":c.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&r.jsx(J,{ref:i,onFocusFromOutsideViewport:()=>{const u=l({tabbingDirection:"forwards"});Y(u)}}),r.jsx(ee.Slot,{scope:s,children:r.jsx(_.ol,{tabIndex:-1,...d,ref:N})}),g&&r.jsx(J,{ref:x,onFocusFromOutsideViewport:()=>{const u=l({tabbingDirection:"backwards"});Y(u)}})]})});le.displayName=ue;var de="ToastFocusProxy",J=n.forwardRef((e,o)=>{const{__scopeToast:s,onFocusFromOutsideViewport:t,...c}=e,d=W(de,s);return r.jsx(ae,{tabIndex:0,...c,ref:o,style:{position:"fixed"},onFocus:p=>{const T=p.relatedTarget;!d.viewport?.contains(T)&&t()}})});J.displayName=de;var O="Toast",He="toast.swipeStart",We="toast.swipeMove",$e="toast.swipeCancel",Xe="toast.swipeEnd",pe=n.forwardRef((e,o)=>{const{forceMount:s,open:t,defaultOpen:c,onOpenChange:d,...p}=e,[T,v]=be({prop:t,defaultProp:c??!0,onChange:d,caller:O});return r.jsx(Fe,{present:s||T,children:r.jsx(ze,{open:T,...p,ref:o,onClose:()=>v(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),v(!1)})})})});pe.displayName=O;var[Ue,Ye]=ie(O,{onClose(){}}),ze=n.forwardRef((e,o)=>{const{__scopeToast:s,type:t="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:T,onPause:v,onResume:i,onSwipeStart:x,onSwipeMove:w,onSwipeCancel:N,onSwipeEnd:R,...g}=e,l=W(O,s),[u,E]=n.useState(null),f=ne(o,a=>E(a)),m=n.useRef(null),y=n.useRef(null),C=c||l.duration,h=n.useRef(0),j=n.useRef(C),k=n.useRef(0),{onToastAdd:F,onToastRemove:L}=l,I=H(()=>{u?.contains(document.activeElement)&&l.viewport?.focus(),p()}),M=n.useCallback(a=>{!a||a===1/0||(window.clearTimeout(k.current),h.current=new Date().getTime(),k.current=window.setTimeout(I,a))},[I]);n.useEffect(()=>{const a=l.viewport;if(a){const b=()=>{M(j.current),i?.()},S=()=>{const A=new Date().getTime()-h.current;j.current=j.current-A,window.clearTimeout(k.current),v?.()};return a.addEventListener(z,S),a.addEventListener(G,b),()=>{a.removeEventListener(z,S),a.removeEventListener(G,b)}}},[l.viewport,C,v,i,M]),n.useEffect(()=>{d&&!l.isClosePausedRef.current&&M(C)},[d,C,l.isClosePausedRef,M]),n.useEffect(()=>(F(),()=>L()),[F,L]);const se=n.useMemo(()=>u?Ee(u):null,[u]);return l.viewport?r.jsxs(r.Fragment,{children:[se&&r.jsx(Ge,{__scopeToast:s,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:se}),r.jsx(Ue,{scope:s,onClose:I,children:Pe.createPortal(r.jsx(ee.ItemSlot,{scope:s,children:r.jsx(_e,{asChild:!0,onEscapeKeyDown:P(T,()=>{l.isFocusedToastEscapeKeyDownRef.current||I(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(_.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,...g,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,a=>{a.key==="Escape"&&(T?.(a.nativeEvent),a.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:P(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:P(e.onPointerMove,a=>{if(!m.current)return;const b=a.clientX-m.current.x,S=a.clientY-m.current.y,A=!!y.current,D=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,ye=D?V(0,b):0,Ce=D?0:V(0,S),$=a.pointerType==="touch"?10:2,K={x:ye,y:Ce},oe={originalEvent:a,delta:K};A?(y.current=K,q(We,w,oe,{discrete:!1})):re(K,l.swipeDirection,$)?(y.current=K,q(He,x,oe,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(b)>$||Math.abs(S)>$)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,a=>{const b=y.current,S=a.target;if(S.hasPointerCapture(a.pointerId)&&S.releasePointerCapture(a.pointerId),y.current=null,m.current=null,b){const A=a.currentTarget,D={originalEvent:a,delta:b};re(b,l.swipeDirection,l.swipeThreshold)?q(Xe,R,D,{discrete:!0}):q($e,N,D,{discrete:!0}),A.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),Ge=e=>{const{__scopeToast:o,children:s,...t}=e,c=W(O,o),[d,p]=n.useState(!1),[T,v]=n.useState(!1);return Ze(()=>p(!0)),n.useEffect(()=>{const i=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(i)},[]),T?null:r.jsx(je,{asChild:!0,children:r.jsx(ae,{...t,children:d&&r.jsxs(r.Fragment,{children:[c.label," ",s]})})})},Je="ToastTitle",fe=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(_.div,{...t,ref:o})});fe.displayName=Je;var Qe="ToastDescription",me=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return r.jsx(_.div,{...t,ref:o})});me.displayName=Qe;var Te="ToastAction",we=n.forwardRef((e,o)=>{const{altText:s,...t}=e;return s.trim()?r.jsx(he,{altText:s,asChild:!0,children:r.jsx(xe,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${Te}\`. Expected non-empty \`string\`.`),null)});we.displayName=Te;var ve="ToastClose",xe=n.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e,c=Ye(ve,s);return r.jsx(he,{asChild:!0,children:r.jsx(_.button,{type:"button",...t,ref:o,onClick:P(e.onClick,c.onClose)})})});xe.displayName=ve;var he=n.forwardRef((e,o)=>{const{__scopeToast:s,altText:t,...c}=e;return r.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...c,ref:o})});function Ee(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),et(t)){const c=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...Ee(t))}}),o}function q(e,o,s,{discrete:t}){const c=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});o&&c.addEventListener(e,o,{once:!0}),t?Ae(c,d):c.dispatchEvent(d)}var re=(e,o,s=0)=>{const t=Math.abs(e.x),c=Math.abs(e.y),d=t>c;return o==="left"||o==="right"?d&&t>s:!d&&c>s};function Ze(e=()=>{}){const o=H(e);Ne(()=>{let s=0,t=0;return s=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(t)}},[o])}function et(e){return e.nodeType===e.ELEMENT_NODE}function tt(e){const o=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const c=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||c?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function Y(e){const o=document.activeElement;return e.some(s=>s===o?!0:(s.focus(),document.activeElement!==o))}var st=ce,ot=le,rt=pe,nt=fe,at=me,it=we;const ct=Q(["rounded-md","shadow-md","p-4","flex","flex-col","relative","border","overflow-hidden","data-[state=open]:animate-slide-in","data-[state=closed]:animate-hide","data-[swipe=move]:translate-x-4","data-[swipe=cancel]:translate-x-0","data-[swipe=end]:animate-swipe-out","shadow-purple-200","border-purple-100","dark:border-none","dark:shadow-none"]),ut=Q(["fixed","bottom-0","right-0","flex","flex-col","p-[var(--viewport-padding)]","gap-8","w-[390px]","max-w-[100vw]","m-0","z-50","outline-none"]),lt=Q(["top-2","right-2","w-4","h-4","text-kubefirst-primary"]),te=({title:e,duration:o=5e3,titleClassName:s,descriptionClassName:t,description:c,children:d,theme:p,showCloseButton:T=!0,closeButtonClassName:v,className:i,open:x=!1,setOpen:w})=>{const N=n.useRef(0);n.useEffect(()=>()=>clearTimeout(N.current),[]);const R=n.useMemo(()=>n.isValidElement(e)?r.jsx(X,{className:s,children:e}):e,[e,s]),g=n.useMemo(()=>n.isValidElement(c)?r.jsx(X,{className:t,children:c}):c,[c,t]),l=n.useCallback(()=>{w(!1),N.current=window.setTimeout(()=>w(!0),100)},[w]);return r.jsxs(st,{swipeDirection:"right",duration:o,children:[r.jsx(X,{onClick:l,children:d}),r.jsxs(rt,{className:U(ct({className:i})),"data-theme":p,open:x,onOpenChange:w,children:[r.jsx(nt,{asChild:!0,className:s,children:R}),g&&r.jsx(at,{asChild:!0,children:g}),T&&r.jsx(it,{asChild:!0,altText:"Close the toast",children:r.jsxs("button",{type:"button",className:"absolute right-1.5 top-1.5",children:[r.jsx(Oe,{className:U(lt({className:v}))}),r.jsx(De,{children:"Close toast"})]})})]}),r.jsx(ot,{className:U(ut())})]})};te.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{className:{required:!1,tsType:{name:"string"},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},descriptionClassName:{required:!1,tsType:{name:"string"},description:""},duration:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"5000",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showCloseButton:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},theme:{required:!1,tsType:{name:"Theme"},description:""},title:{required:!0,tsType:{name:"union",raw:"string | ReactNode",elements:[{name:"string"},{name:"ReactNode"}]},description:""},titleClassName:{required:!1,tsType:{name:"string"},description:""},setOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren","VariantProps"]};const jt={title:"In Review/Toast",component:te},B={args:{duration:1500,title:r.jsxs("h6",{className:"text-white flex items-center gap-2",children:[r.jsx(Me,{name:"circle-check"}),"This is a title"]})},render:function(o){const[s,t]=n.useState(!1);return r.jsxs("div",{className:"w-[350px] flex flex-col gap-3",children:[r.jsx(ge,{onClick:()=>t(!0),children:"Open Toast"}),r.jsx(te,{...o,className:"bg-emerald-700",open:s,setOpen:t,closeButtonClassName:"text-white"})]})}};B.parameters={...B.parameters,docs:{...B.parameters?.docs,source:{originalSource:`{
  args: {
    duration: 1500,
    title: <h6 className="text-white flex items-center gap-2">
        <PiIcon name="circle-check" />
        This is a title
      </h6>
  },
  render: function ToastStory(args) {
    const [open, setOpen] = useState(false);
    return <div className="w-[350px] flex flex-col gap-3">
        <Button onClick={() => setOpen(true)}>Open Toast</Button>
        <ToastComponent {...args} className="bg-emerald-700" open={open} setOpen={setOpen} closeButtonClassName="text-white" />
      </div>;
  }
}`,...B.parameters?.docs?.source}}};const Ft=["Toast"];export{B as Toast,Ft as __namedExportsOrder,jt as default};
