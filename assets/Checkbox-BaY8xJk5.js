import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as a}from"./iframe-Bxipn8zT.js";import{u as T}from"./index-DJCcWdGK.js";import{c as z,a as H,b as P}from"./index-y3eMkw2y.js";import{a as G,u as U}from"./index-Ck10rp-G.js";import{P as X}from"./index-D78SSYnG.js";import{P as I}from"./index-CO0xlRA0.js";import{u as $}from"./useToggle-D0bCwIvt.js";import{c as q,a as j}from"./index-CJCZd66Q.js";import{C as J}from"./check-CbjmuAap.js";var g="Checkbox",[Q,pe]=z(g),[W,R]=Q(g);function Y(t){const{__scopeCheckbox:d,checked:c,children:u,defaultChecked:r,disabled:e,form:m,name:p,onCheckedChange:l,required:b,value:k="on",internal_do_not_use_render:i}=t,[f,v]=H({prop:c,defaultProp:r??!1,onChange:l,caller:g}),[h,C]=a.useState(null),[y,o]=a.useState(null),s=a.useRef(!1),_=h?!!m||!!h.closest("form"):!0,E={checked:f,disabled:e,setChecked:v,control:h,setControl:C,name:p,form:m,value:k,hasConsumerStoppedPropagationRef:s,required:b,defaultChecked:x(r)?!1:r,isFormControl:_,bubbleInput:y,setBubbleInput:o};return n.jsx(W,{scope:d,...E,children:Z(i)?i(E):u})}var w="CheckboxTrigger",S=a.forwardRef(({__scopeCheckbox:t,onKeyDown:d,onClick:c,...u},r)=>{const{control:e,value:m,disabled:p,checked:l,required:b,setControl:k,setChecked:i,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:h}=R(w,t),C=T(r,k),y=a.useRef(l);return a.useEffect(()=>{const o=e?.form;if(o){const s=()=>i(y.current);return o.addEventListener("reset",s),()=>o.removeEventListener("reset",s)}},[e,i]),n.jsx(I.button,{type:"button",role:"checkbox","aria-checked":x(l)?"mixed":l,"aria-required":b,"data-state":O(l),"data-disabled":p?"":void 0,disabled:p,value:m,...u,ref:C,onKeyDown:P(d,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:P(c,o=>{i(s=>x(s)?!0:!s),h&&v&&(f.current=o.isPropagationStopped(),f.current||o.stopPropagation())})})});S.displayName=w;var B=a.forwardRef((t,d)=>{const{__scopeCheckbox:c,name:u,checked:r,defaultChecked:e,required:m,disabled:p,value:l,onCheckedChange:b,form:k,...i}=t;return n.jsx(Y,{__scopeCheckbox:c,checked:r,defaultChecked:e,disabled:p,required:m,onCheckedChange:b,name:u,form:k,value:l,internal_do_not_use_render:({isFormControl:f})=>n.jsxs(n.Fragment,{children:[n.jsx(S,{...i,ref:d,__scopeCheckbox:c}),f&&n.jsx(L,{__scopeCheckbox:c})]})})});B.displayName=g;var M="CheckboxIndicator",A=a.forwardRef((t,d)=>{const{__scopeCheckbox:c,forceMount:u,...r}=t,e=R(M,c);return n.jsx(X,{present:u||x(e.checked)||e.checked===!0,children:n.jsx(I.span,{"data-state":O(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:d,style:{pointerEvents:"none",...t.style}})})});A.displayName=M;var F="CheckboxBubbleInput",L=a.forwardRef(({__scopeCheckbox:t,...d},c)=>{const{control:u,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:m,required:p,disabled:l,name:b,value:k,form:i,bubbleInput:f,setBubbleInput:v}=R(F,t),h=T(c,v),C=G(e),y=U(u);a.useEffect(()=>{const s=f;if(!s)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,K=!r.current;if(C!==e&&N){const V=new Event("click",{bubbles:K});s.indeterminate=x(e),N.call(s,x(e)?!1:e),s.dispatchEvent(V)}},[f,C,e,r]);const o=a.useRef(x(e)?!1:e);return n.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??o.current,required:p,disabled:l,name:b,value:k,form:i,...d,tabIndex:-1,ref:h,style:{...d.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L.displayName=F;function Z(t){return typeof t=="function"}function x(t){return t==="indeterminate"}function O(t){return x(t)?"indeterminate":t?"checked":"unchecked"}const ee=q(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-slate-800","border-zinc-400","kubefirst:border-kubefirst-primary","kubefirst:text-white"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["kubefirst:bg-kubefirst-primary","bg-aurora-500","border-aurora-500"]}],defaultVariants:{variant:"default"}}),te=q(["cursor-pointer","text-slate-800"]),D=a.forwardRef(({ariaLabelledBy:t,className:d,defaultChecked:c,disabled:u,id:r,label:e,labelClassName:m,name:p,theme:l,title:b,variant:k,onChange:i,...f},v)=>{const[h,C]=$(c??!1),y=a.useId(),o=a.useCallback(s=>{C(s),i?.(s)},[i,C]);return n.jsxs("div",{className:"flex items-center gap-2","data-theme":l,children:[n.jsx(B,{id:r??y,checked:h,ref:v,name:p,disabled:u,"aria-labelledby":t,title:b,className:j(ee({className:d,variant:k,checked:h})),onCheckedChange:o,...f,children:n.jsx(A,{children:n.jsx(J,{className:"w-4 h-4 stroke-2 civo:text-slate-700"})})}),e?n.jsx("label",{htmlFor:p??r,className:j(te({className:m})),children:e}):null]})});D.displayName="KonstructCheckbox";D.__docgenInfo={description:"",methods:[],displayName:"KonstructCheckbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""}},composes:["Omit"]};export{D as C};
