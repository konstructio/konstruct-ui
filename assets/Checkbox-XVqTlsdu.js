import{r as n,j as a}from"./iframe-RFUXcFU1.js";import{u as N}from"./index-CFloAkMw.js";import{b as K,P as R,a as V,c as E}from"./index-DIC2GfCC.js";import{u as U}from"./index-Csk6_OSh.js";import{u as G}from"./index-fAG7fmiz.js";import{P as W}from"./index-BfUIXumI.js";import{u as X}from"./useToggle-DpAoNMMY.js";import{a as P,c as S}from"./index-BIgQ6y5l.js";import{C as $}from"./check-B2Zurhcn.js";var w="Checkbox",[J,ue]=K(w),[Q,T]=J(w);function Y(t){const{__scopeCheckbox:l,checked:c,children:i,defaultChecked:r,disabled:e,form:p,name:h,onCheckedChange:d,required:m,value:k="on",internal_do_not_use_render:u}=t,[b,y]=V({prop:c,defaultProp:r??!1,onChange:d,caller:w}),[x,f]=n.useState(null),[C,s]=n.useState(null),o=n.useRef(!1),v=x?!!p||!!x.closest("form"):!0,I={checked:b,disabled:e,setChecked:y,control:x,setControl:f,name:h,form:p,value:k,hasConsumerStoppedPropagationRef:o,required:m,defaultChecked:g(r)?!1:r,isFormControl:v,bubbleInput:C,setBubbleInput:s};return a.jsx(Q,{scope:l,...I,children:Z(u)?u(I):i})}var j="CheckboxTrigger",q=n.forwardRef(({__scopeCheckbox:t,onKeyDown:l,onClick:c,...i},r)=>{const{control:e,value:p,disabled:h,checked:d,required:m,setControl:k,setChecked:u,hasConsumerStoppedPropagationRef:b,isFormControl:y,bubbleInput:x}=T(j,t),f=N(r,k),C=n.useRef(d);return n.useEffect(()=>{const s=e?.form;if(s){const o=()=>u(C.current);return s.addEventListener("reset",o),()=>s.removeEventListener("reset",o)}},[e,u]),a.jsx(R.button,{type:"button",role:"checkbox","aria-checked":g(d)?"mixed":d,"aria-required":m,"data-state":D(d),"data-disabled":h?"":void 0,disabled:h,value:p,...i,ref:f,onKeyDown:E(l,s=>{s.key==="Enter"&&s.preventDefault()}),onClick:E(c,s=>{u(o=>g(o)?!0:!o),x&&y&&(b.current=s.isPropagationStopped(),b.current||s.stopPropagation())})})});q.displayName=j;var B=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,name:i,checked:r,defaultChecked:e,required:p,disabled:h,value:d,onCheckedChange:m,form:k,...u}=t;return a.jsx(Y,{__scopeCheckbox:c,checked:r,defaultChecked:e,disabled:h,required:p,onCheckedChange:m,name:i,form:k,value:d,internal_do_not_use_render:({isFormControl:b})=>a.jsxs(a.Fragment,{children:[a.jsx(q,{...u,ref:l,__scopeCheckbox:c}),b&&a.jsx(M,{__scopeCheckbox:c})]})})});B.displayName=w;var A="CheckboxIndicator",z=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,forceMount:i,...r}=t,e=T(A,c);return a.jsx(W,{present:i||g(e.checked)||e.checked===!0,children:a.jsx(R.span,{"data-state":D(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:l,style:{pointerEvents:"none",...t.style}})})});z.displayName=A;var L="CheckboxBubbleInput",M=n.forwardRef(({__scopeCheckbox:t,...l},c)=>{const{control:i,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:p,required:h,disabled:d,name:m,value:k,form:u,bubbleInput:b,setBubbleInput:y}=T(L,t),x=N(c,y),f=U(e),C=G(i);n.useEffect(()=>{const o=b;if(!o)return;const v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set,O=!r.current;if(f!==e&&_){const H=new Event("click",{bubbles:O});o.indeterminate=g(e),_.call(o,g(e)?!1:e),o.dispatchEvent(H)}},[b,f,e,r]);const s=n.useRef(g(e)?!1:e);return a.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??s.current,required:h,disabled:d,name:m,value:k,form:u,...l,tabIndex:-1,ref:x,style:{...l.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});M.displayName=L;function Z(t){return typeof t=="function"}function g(t){return t==="indeterminate"}function D(t){return g(t)?"indeterminate":t?"checked":"unchecked"}const ee=P(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-slate-800","border-zinc-400","disabled:cursor-not-allowed"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["kubefirst:border-kubefirst-primary","kubefirst:bg-kubefirst-primary","bg-aurora-500","border-aurora-500","disabled:bg-zinc-300","disabled:border-transparent","*:text-metal-900","kubefirst:*:text-white","disabled:*:text-white","dark:disabled:*:text-metal-900","dark:disabled:bg-aurora-500/45"]},{checked:!1,class:["kubefirst:border-kubefirst-primary","kubefirst:text-white","border-zinc-400","disabled:bg-zinc-50","disabled:border-zinc-300","dark:disabled:bg-metal-800","dark:disabled:border-metal-600","dark:border-metal-600","dark:bg-metal-800"]}],defaultVariants:{variant:"default"}}),te=P(["select-none","cursor-pointer","text-sm","text-slate-800","dark:text-slate-50"]),F=n.forwardRef(({ariaLabelledBy:t,className:l,defaultChecked:c,disabled:i,id:r,label:e,labelClassName:p,labelWrapperClassName:h,name:d,theme:m,title:k,variant:u,onChange:b,...y},x)=>{const[f,C]=X(c??!1),s=n.useId(),o=n.useCallback(v=>{C(v),b?.(v)},[b,C]);return a.jsxs("div",{className:S("flex items-center gap-4",h),"data-theme":m,children:[a.jsx(B,{id:r??s,checked:f,ref:x,name:d,disabled:i,"aria-labelledby":t,title:k,className:S(ee({className:l,variant:u,checked:f})),onCheckedChange:o,...y,children:a.jsx(z,{children:a.jsx($,{className:"w-4 h-4 stroke-2"})})}),e?a.jsx("label",{htmlFor:d??r,className:S(te({className:p}),{"cursor-not-allowed":i}),onClick:()=>!i&&o(!f),children:e}):null]})});F.displayName="KonstructCheckbox";F.__docgenInfo={description:`A checkbox component built on Radix UI primitives.
Supports controlled and uncontrolled modes with label support.

@example
\`\`\`tsx
// Basic checkbox with label
<Checkbox label="Accept terms and conditions" />

// Controlled checkbox
<Checkbox
  label="Subscribe to newsletter"
  defaultChecked={subscribed}
  onChange={(checked) => setSubscribed(checked)}
/>

// Disabled checkbox
<Checkbox label="Premium feature" disabled />
\`\`\`

@see {@link https://konstructio.github.io/konstruct-ui/?path=/docs/components-checkbox--docs Storybook}`,methods:[],displayName:"KonstructCheckbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:"ID of element that labels the checkbox for accessibility"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"},defaultChecked:{required:!1,tsType:{name:"boolean"},description:"Initial checked state"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the checkbox is disabled"},id:{required:!1,tsType:{name:"string"},description:"HTML id attribute"},label:{required:!1,tsType:{name:"string"},description:"Label text displayed next to checkbox"},labelClassName:{required:!1,tsType:{name:"string"},description:"CSS classes for the label"},labelWrapperClassName:{required:!1,tsType:{name:"string"},description:"Additional CSS classes for the label wrapper"},name:{required:!1,tsType:{name:"string"},description:"Form field name"},theme:{required:!1,tsType:{name:"Theme"},description:"Theme override for this component"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:"Callback when checked state changes"}},composes:["Omit"]};export{F as C};
