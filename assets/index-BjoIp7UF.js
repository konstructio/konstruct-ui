import{r as d,R as M}from"./index-DRjF_FHU.js";import{c as le,a as ue,b as A,P as K}from"./index-DH3w3I1Y.js";import{u as _,S as Y}from"./index-CaQnC5nY.js";import{j as v}from"./jsx-runtime-DR9Q75dM.js";import{a as de,u as fe}from"./index-CU357GLr.js";function X(e,[t,n]){return Math.min(n,Math.max(t,e))}var me=d.createContext(void 0);function pe(e){const t=d.useContext(me);return e||t||"ltr"}function Se(e,t=[]){let n=[];function r(a,o){const s=d.createContext(o),l=n.length;n=[...n,o];function h(c){const{scope:u,children:S,...f}=c,x=(u==null?void 0:u[e][l])||s,m=d.useMemo(()=>f,Object.values(f));return v.jsx(x.Provider,{value:m,children:S})}function w(c,u){const S=(u==null?void 0:u[e][l])||s,f=d.useContext(S);if(f)return f;if(o!==void 0)return o;throw new Error(`\`${c}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,w]}const i=()=>{const a=n.map(o=>d.createContext(o));return function(s){const l=(s==null?void 0:s[e])||a;return d.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,he(i,...t)]}function he(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:h})=>{const c=l(a)[`__scope${h}`];return{...s,...c}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function xe(e){const t=e+"CollectionProvider",[n,r]=Se(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:f,children:x}=S,m=M.useRef(null),p=M.useRef(new Map).current;return v.jsx(i,{scope:f,itemMap:p,collectionRef:m,children:x})};o.displayName=t;const s=e+"CollectionSlot",l=M.forwardRef((S,f)=>{const{scope:x,children:m}=S,p=a(s,x),R=_(f,p.collectionRef);return v.jsx(Y,{ref:R,children:m})});l.displayName=s;const h=e+"CollectionItemSlot",w="data-radix-collection-item",c=M.forwardRef((S,f)=>{const{scope:x,children:m,...p}=S,R=M.useRef(null),C=_(f,R),g=a(h,x);return M.useEffect(()=>(g.itemMap.set(R,{ref:R,...p}),()=>void g.itemMap.delete(R))),v.jsx(Y,{[w]:"",ref:C,children:m})});c.displayName=h;function u(S){const f=a(e+"CollectionConsumer",S);return M.useCallback(()=>{const m=f.collectionRef.current;if(!m)return[];const p=Array.from(m.querySelectorAll(`[${w}]`));return Array.from(f.itemMap.values()).sort((g,P)=>p.indexOf(g.ref.current)-p.indexOf(P.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:o,Slot:l,ItemSlot:c},u,r]}var G=["PageUp","PageDown"],W=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],q={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},T="Slider",[H,ge,ve]=xe(T),[J,ke]=le(T,[ve]),[we,N]=J(T),Q=d.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:l=0,defaultValue:h=[r],value:w,onValueChange:c=()=>{},onValueCommit:u=()=>{},inverted:S=!1,form:f,...x}=e,m=d.useRef(new Set),p=d.useRef(0),C=o==="horizontal"?Ce:Re,[g=[],P]=ue({prop:w,defaultProp:h,onChange:b=>{var D;(D=[...m.current][p.current])==null||D.focus(),c(b)}}),O=d.useRef(g);function k(b){const y=Me(g,b);j(b,y)}function ce(b){j(b,p.current)}function ae(){const b=O.current[p.current];g[p.current]!==b&&u(g)}function j(b,y,{commit:D}={commit:!1}){const F=Ae(a),B=Te(Math.round((b-r)/a)*a+r,F),V=X(B,[r,i]);P((I=[])=>{const E=ye(I,V,y);if(Ie(E,l*a)){p.current=E.indexOf(V);const U=String(E)!==String(I);return U&&D&&u(E),U?E:I}else return I})}return v.jsx(we,{scope:e.__scopeSlider,name:n,disabled:s,min:r,max:i,valueIndexToChangeRef:p,thumbs:m.current,values:g,orientation:o,form:f,children:v.jsx(H.Provider,{scope:e.__scopeSlider,children:v.jsx(H.Slot,{scope:e.__scopeSlider,children:v.jsx(C,{"aria-disabled":s,"data-disabled":s?"":void 0,...x,ref:t,onPointerDown:A(x.onPointerDown,()=>{s||(O.current=g)}),min:r,max:i,inverted:S,onSlideStart:s?void 0:k,onSlideMove:s?void 0:ce,onSlideEnd:s?void 0:ae,onHomeKeyDown:()=>!s&&j(r,0,{commit:!0}),onEndKeyDown:()=>!s&&j(i,g.length-1,{commit:!0}),onStepKeyDown:({event:b,direction:y})=>{if(!s){const B=G.includes(b.key)||b.shiftKey&&W.includes(b.key)?10:1,V=p.current,I=g[V],E=a*B*y;j(I+E,V,{commit:!0})}}})})})})});Q.displayName=T;var[Z,ee]=J(T,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ce=d.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onStepKeyDown:h,...w}=e,[c,u]=d.useState(null),S=_(t,C=>u(C)),f=d.useRef(),x=pe(i),m=x==="ltr",p=m&&!a||!m&&a;function R(C){const g=f.current||c.getBoundingClientRect(),P=[0,g.width],k=$(P,p?[n,r]:[r,n]);return f.current=g,k(C-g.left)}return v.jsx(Z,{scope:e.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:v.jsx(te,{dir:x,"data-orientation":"horizontal",...w,ref:S,style:{...w.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const g=R(C.clientX);o==null||o(g)},onSlideMove:C=>{const g=R(C.clientX);s==null||s(g)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:C=>{const P=q[p?"from-left":"from-right"].includes(C.key);h==null||h({event:C,direction:P?-1:1})}})})}),Re=d.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:s,onStepKeyDown:l,...h}=e,w=d.useRef(null),c=_(t,w),u=d.useRef(),S=!i;function f(x){const m=u.current||w.current.getBoundingClientRect(),p=[0,m.height],C=$(p,S?[r,n]:[n,r]);return u.current=m,C(x-m.top)}return v.jsx(Z,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:v.jsx(te,{"data-orientation":"vertical",...h,ref:c,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const m=f(x.clientY);a==null||a(m)},onSlideMove:x=>{const m=f(x.clientY);o==null||o(m)},onSlideEnd:()=>{u.current=void 0,s==null||s()},onStepKeyDown:x=>{const p=q[S?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:p?-1:1})}})})}),te=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:l,...h}=e,w=N(T,n);return v.jsx(K.span,{...h,ref:t,onKeyDown:A(e.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(s(c),c.preventDefault()):G.concat(W).includes(c.key)&&(l(c),c.preventDefault())}),onPointerDown:A(e.onPointerDown,c=>{const u=c.target;u.setPointerCapture(c.pointerId),c.preventDefault(),w.thumbs.has(u)?u.focus():r(c)}),onPointerMove:A(e.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:A(e.onPointerUp,c=>{const u=c.target;u.hasPointerCapture(c.pointerId)&&(u.releasePointerCapture(c.pointerId),a(c))})})}),ne="SliderTrack",oe=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=N(ne,n);return v.jsx(K.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});oe.displayName=ne;var L="SliderRange",re=d.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=N(L,n),a=ee(L,n),o=d.useRef(null),s=_(t,o),l=i.values.length,h=i.values.map(u=>ie(u,i.min,i.max)),w=l>1?Math.min(...h):0,c=100-Math.max(...h);return v.jsx(K.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{...e.style,[a.startEdge]:w+"%",[a.endEdge]:c+"%"}})});re.displayName=L;var z="SliderThumb",se=d.forwardRef((e,t)=>{const n=ge(e.__scopeSlider),[r,i]=d.useState(null),a=_(t,s=>i(s)),o=d.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return v.jsx(be,{...e,ref:a,index:o})}),be=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,o=N(z,n),s=ee(z,n),[l,h]=d.useState(null),w=_(t,R=>h(R)),c=l?o.form||!!l.closest("form"):!0,u=de(l),S=o.values[r],f=S===void 0?0:ie(S,o.min,o.max),x=Ee(r,o.values.length),m=u==null?void 0:u[s.size],p=m?_e(m,f,s.direction):0;return d.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${f}% + ${p}px)`},children:[v.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:v.jsx(K.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":S,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:w,style:S===void 0?{display:"none"}:e.style,onFocus:A(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),c&&v.jsx(Pe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:S},r)]})});se.displayName=z;var Pe=e=>{const{value:t,...n}=e,r=d.useRef(null),i=fe(t);return d.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&l){const h=new Event("input",{bubbles:!0});l.call(a,t),a.dispatchEvent(h)}},[i,t]),v.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function ye(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function ie(e,t,n){const a=100/(n-t)*(e-t);return X(a,[0,100])}function Ee(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Me(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function _e(e,t,n){const r=e/2,a=$([0,50],[0,r]);return(r-a(t)*n)*n}function De(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ie(e,t){if(t>0){const n=De(e);return Math.min(...n)>=t}return!0}function $(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ae(e){return(String(e).split(".")[1]||"").length}function Te(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Be=Q,He=oe,Le=re,ze=se;export{Be as R,He as T,Le as a,ze as b};
