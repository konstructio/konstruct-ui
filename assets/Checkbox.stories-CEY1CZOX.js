import{j as t}from"./jsx-runtime-DR9Q75dM.js";import{r as o}from"./index-DRjF_FHU.js";import{u as A}from"./index-CaQnC5nY.js";import{c as B,a as F,b as P}from"./index-BZUySh2a.js";import{u as H,a as K}from"./index-TQ0BEW8Y.js";import{P as L}from"./index-BqGLCZMI.js";import{P as S}from"./index-0pbq26Ko.js";import{c as _}from"./index-Bb4qSo10.js";import{u as z}from"./useToggle-CSjcspRO.js";import{C as X}from"./check-Dbt8Bbqr.js";import{u as $}from"./theme.hook-CuwzjDGP.js";import"./index-rX-Bn4lm.js";import"./index-Dw6WB_A6.js";var T="Checkbox",[G,pe]=B(T),[J,Q]=G(T),q=o.forwardRef((e,m)=>{const{__scopeCheckbox:r,name:i,checked:p,defaultChecked:s,required:u,disabled:n,value:l="on",onCheckedChange:x,form:d,...f}=e,[a,k]=o.useState(null),C=A(m,c=>k(c)),w=o.useRef(!1),E=a?d||!!a.closest("form"):!0,[b=!1,j]=F({prop:p,defaultProp:s,onChange:x}),M=o.useRef(b);return o.useEffect(()=>{const c=a==null?void 0:a.form;if(c){const v=()=>j(M.current);return c.addEventListener("reset",v),()=>c.removeEventListener("reset",v)}},[a,j]),t.jsxs(J,{scope:r,state:b,disabled:n,children:[t.jsx(S.button,{type:"button",role:"checkbox","aria-checked":h(b)?"mixed":b,"aria-required":u,"data-state":D(b),"data-disabled":n?"":void 0,disabled:n,value:l,...f,ref:C,onKeyDown:P(e.onKeyDown,c=>{c.key==="Enter"&&c.preventDefault()}),onClick:P(e.onClick,c=>{j(v=>h(v)?!0:!v),E&&(w.current=c.isPropagationStopped(),w.current||c.stopPropagation())})}),E&&t.jsx(U,{control:a,bubbles:!w.current,name:i,value:l,checked:b,required:u,disabled:n,form:d,style:{transform:"translateX(-100%)"},defaultChecked:h(s)?!1:s})]})});q.displayName=T;var O="CheckboxIndicator",V=o.forwardRef((e,m)=>{const{__scopeCheckbox:r,forceMount:i,...p}=e,s=Q(O,r);return t.jsx(L,{present:i||h(s.state)||s.state===!0,children:t.jsx(S.span,{"data-state":D(s.state),"data-disabled":s.disabled?"":void 0,...p,ref:m,style:{pointerEvents:"none",...e.style}})})});V.displayName=O;var U=e=>{const{control:m,checked:r,bubbles:i=!0,defaultChecked:p,...s}=e,u=o.useRef(null),n=H(r),l=K(m);o.useEffect(()=>{const d=u.current,f=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(f,"checked").set;if(n!==r&&k){const C=new Event("click",{bubbles:i});d.indeterminate=h(r),k.call(d,h(r)?!1:r),d.dispatchEvent(C)}},[n,r,i]);const x=o.useRef(h(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p??x.current,...s,tabIndex:-1,ref:u,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function h(e){return e==="indeterminate"}function D(e){return h(e)?"indeterminate":e?"checked":"unchecked"}var W=q,Y=V;const Z=_(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","text-white"],{variants:{variant:{default:""},theme:{colony:"",konstruct:"",kubefirst:""},checked:{true:"",false:""}},compoundVariants:[{theme:"kubefirst",class:["border-kubefirst-purple-light"]},{theme:"kubefirst",checked:!0,class:["bg-kubefirst-purple-light"]},{theme:"konstruct",class:["border-orange-600"]},{theme:"konstruct",checked:!0,class:["bg-orange-600"]},{theme:"colony",class:["border-red-700"]},{theme:"colony",checked:!0,class:["bg-red-700"]}],defaultVariants:{variant:"default",theme:"kubefirst"}}),ee=_(["cursor-pointer"],{variants:{variant:{default:""},theme:{colony:"",konstruct:"",kubefirst:""}},defaultVariants:{variant:"default",theme:"kubefirst"}}),y=o.forwardRef(({className:e,defaultChecked:m,disabled:r,label:i,labelClassName:p,name:s,theme:u,variant:n,onChange:l},x)=>{const[d,f]=z(m),a=o.useId(),{theme:k}=$(),C=o.useCallback(()=>{f(),l==null||l()},[l,f]);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(W,{id:s??a,checked:d,ref:x,name:s,disabled:r,className:Z({className:e,theme:u??k,variant:n,checked:d}),onCheckedChange:C,children:t.jsx(Y,{children:t.jsx(X,{className:"w-4 h-4 stroke-2"})})}),i?t.jsx("label",{htmlFor:s??a,className:ee({variant:n,theme:u,className:p}),children:i}):null]})});y.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};const fe={component:y},g={args:{defaultChecked:!0},render:e=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"max-w-[350px] flex flex-col gap-2",children:[t.jsx(y,{label:"This is a checkbox with kubefirst colors",...e}),t.jsx(y,{theme:"konstruct",label:"This is a checkbox with konstruct colors",...e}),t.jsx(y,{theme:"colony",label:"This is a checkbox with colony colors",...e})]})})};var N,R,I;g.parameters={...g.parameters,docs:{...(N=g.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  },
  render: args => <>
      <div className="max-w-[350px] flex flex-col gap-2">
        <CheckboxComponent label="This is a checkbox with kubefirst colors" {...args} />
        <CheckboxComponent theme="konstruct" label="This is a checkbox with konstruct colors" {...args} />
        <CheckboxComponent theme="colony" label="This is a checkbox with colony colors" {...args} />
      </div>
    </>
}`,...(I=(R=g.parameters)==null?void 0:R.docs)==null?void 0:I.source}}};const ke=["Checkbox"];export{g as Checkbox,ke as __namedExportsOrder,fe as default};
