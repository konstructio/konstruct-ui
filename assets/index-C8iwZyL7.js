import{r as i}from"./iframe-CDT3oZmd.js";import{a as me,c as ge,d as Ee,b as O}from"./index-BZvBmnUR.js";import{u as I,c as he}from"./index-YvOyFk_h.js";import{u as M}from"./index-DIKtJGpB.js";import{D as ye}from"./index-qIdfJfq9.js";import{P as R}from"./index-1YGrf2O8.js";import{u as $}from"./index-BoR-jouD.js";import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{P as De}from"./index-XcIJy-NU.js";import{P as W}from"./index-BeuNUeVN.js";import{R as be}from"./Combination-zmcpgxx9.js";var w="focusScope.autoFocusOnMount",j="focusScope.autoFocusOnUnmount",q={bubbles:!1,cancelable:!0},Ce="FocusScope",z=i.forwardRef((e,o)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:s,...d}=e,[a,y]=i.useState(null),g=$(r),E=$(s),u=i.useRef(null),f=I(o,l=>y(l)),p=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(n){let l=function(D){if(p.paused||!a)return;const h=D.target;a.contains(h)?u.current=h:C(u.current,{select:!0})},b=function(D){if(p.paused||!a)return;const h=D.relatedTarget;h!==null&&(a.contains(h)||C(u.current,{select:!0}))},v=function(D){if(document.activeElement===document.body)for(const H of D)H.removedNodes.length>0&&C(a)};document.addEventListener("focusin",l),document.addEventListener("focusout",b);const N=new MutationObserver(v);return a&&N.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",b),N.disconnect()}}},[n,a,p.paused]),i.useEffect(()=>{if(a){V.add(p);const l=document.activeElement;if(!a.contains(l)){const v=new CustomEvent(w,q);a.addEventListener(w,g),a.dispatchEvent(v),v.defaultPrevented||(xe(_e(J(a)),{select:!0}),document.activeElement===l&&C(a))}return()=>{a.removeEventListener(w,g),setTimeout(()=>{const v=new CustomEvent(j,q);a.addEventListener(j,E),a.dispatchEvent(v),v.defaultPrevented||C(l??document.body,{select:!0}),a.removeEventListener(j,E),V.remove(p)},0)}}},[a,g,E,p]);const _=i.useCallback(l=>{if(!t&&!n||p.paused)return;const b=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,v=document.activeElement;if(b&&v){const N=l.currentTarget,[D,h]=Ae(N);D&&h?!l.shiftKey&&v===h?(l.preventDefault(),t&&C(D,{select:!0})):l.shiftKey&&v===D&&(l.preventDefault(),t&&C(h,{select:!0})):v===N&&l.preventDefault()}},[t,n,p.paused]);return c.jsx(R.div,{tabIndex:-1,...d,ref:f,onKeyDown:_})});z.displayName=Ce;function xe(e,{select:o=!1}={}){const t=document.activeElement;for(const n of e)if(C(n,{select:o}),document.activeElement!==t)return}function Ae(e){const o=J(e),t=B(o,e),n=B(o.reverse(),e);return[t,n]}function J(e){const o=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)o.push(t.currentNode);return o}function B(e,o){for(const t of e)if(!Re(t,{upTo:o}))return t}function Re(e,{upTo:o}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(o!==void 0&&e===o)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ne(e){return e instanceof HTMLInputElement&&"select"in e}function C(e,{select:o=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&Ne(e)&&o&&e.select()}}var V=Oe();function Oe(){let e=[];return{add(o){const t=e[0];o!==t&&t?.pause(),e=Y(e,o),e.unshift(o)},remove(o){e=Y(e,o),e[0]?.resume()}}}function Y(e,o){const t=[...e],n=t.indexOf(o);return n!==-1&&t.splice(n,1),t}function _e(e){return e.filter(o=>o.tagName!=="A")}var L=0;function Fe(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Z()),document.body.insertAdjacentElement("beforeend",e[1]??Z()),L++,()=>{L===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),L--}},[])}function Z(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pe=function(e){if(typeof document>"u")return null;var o=Array.isArray(e)?e[0]:e;return o.ownerDocument.body},A=new WeakMap,F=new WeakMap,P={},k=0,Q=function(e){return e&&(e.host||Q(e.parentNode))},Te=function(e,o){return o.map(function(t){if(e.contains(t))return t;var n=Q(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},Ie=function(e,o,t,n){var r=Te(o,Array.isArray(e)?e:[e]);P[t]||(P[t]=new WeakMap);var s=P[t],d=[],a=new Set,y=new Set(r),g=function(u){!u||a.has(u)||(a.add(u),g(u.parentNode))};r.forEach(g);var E=function(u){!u||y.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))E(f);else try{var p=f.getAttribute(n),_=p!==null&&p!=="false",l=(A.get(f)||0)+1,b=(s.get(f)||0)+1;A.set(f,l),s.set(f,b),d.push(f),l===1&&_&&F.set(f,!0),b===1&&f.setAttribute(t,"true"),_||f.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return E(o),a.clear(),k++,function(){d.forEach(function(u){var f=A.get(u)-1,p=s.get(u)-1;A.set(u,f),s.set(u,p),f||(F.has(u)||u.removeAttribute(n),F.delete(u)),p||u.removeAttribute(t)}),k--,k||(A=new WeakMap,A=new WeakMap,F=new WeakMap,P={})}},Se=function(e,o,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),r=Pe(e);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live]"))),Ie(n,r,t,"aria-hidden")):function(){return null}},S="Dialog",[X,et]=ge(S),[Me,m]=X(S),ee=e=>{const{__scopeDialog:o,children:t,open:n,defaultOpen:r,onOpenChange:s,modal:d=!0}=e,a=i.useRef(null),y=i.useRef(null),[g,E]=me({prop:n,defaultProp:r??!1,onChange:s,caller:S});return c.jsx(Me,{scope:o,triggerRef:a,contentRef:y,contentId:M(),titleId:M(),descriptionId:M(),open:g,onOpenChange:E,onOpenToggle:i.useCallback(()=>E(u=>!u),[E]),modal:d,children:t})};ee.displayName=S;var te="DialogTrigger",oe=i.forwardRef((e,o)=>{const{__scopeDialog:t,...n}=e,r=m(te,t),s=I(o,r.triggerRef);return c.jsx(R.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":G(r.open),...n,ref:s,onClick:O(e.onClick,r.onOpenToggle)})});oe.displayName=te;var U="DialogPortal",[we,ne]=X(U,{forceMount:void 0}),re=e=>{const{__scopeDialog:o,forceMount:t,children:n,container:r}=e,s=m(U,o);return c.jsx(we,{scope:o,forceMount:t,children:i.Children.map(n,d=>c.jsx(W,{present:t||s.open,children:c.jsx(De,{asChild:!0,container:r,children:d})}))})};re.displayName=U;var T="DialogOverlay",se=i.forwardRef((e,o)=>{const t=ne(T,e.__scopeDialog),{forceMount:n=t.forceMount,...r}=e,s=m(T,e.__scopeDialog);return s.modal?c.jsx(W,{present:n||s.open,children:c.jsx(Le,{...r,ref:o})}):null});se.displayName=T;var je=he("DialogOverlay.RemoveScroll"),Le=i.forwardRef((e,o)=>{const{__scopeDialog:t,...n}=e,r=m(T,t);return c.jsx(be,{as:je,allowPinchZoom:!0,shards:[r.contentRef],children:c.jsx(R.div,{"data-state":G(r.open),...n,ref:o,style:{pointerEvents:"auto",...n.style}})})}),x="DialogContent",ae=i.forwardRef((e,o)=>{const t=ne(x,e.__scopeDialog),{forceMount:n=t.forceMount,...r}=e,s=m(x,e.__scopeDialog);return c.jsx(W,{present:n||s.open,children:s.modal?c.jsx(ke,{...r,ref:o}):c.jsx(We,{...r,ref:o})})});ae.displayName=x;var ke=i.forwardRef((e,o)=>{const t=m(x,e.__scopeDialog),n=i.useRef(null),r=I(o,t.contentRef,n);return i.useEffect(()=>{const s=n.current;if(s)return Se(s)},[]),c.jsx(ie,{...e,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:O(e.onCloseAutoFocus,s=>{s.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:O(e.onPointerDownOutside,s=>{const d=s.detail.originalEvent,a=d.button===0&&d.ctrlKey===!0;(d.button===2||a)&&s.preventDefault()}),onFocusOutside:O(e.onFocusOutside,s=>s.preventDefault())})}),We=i.forwardRef((e,o)=>{const t=m(x,e.__scopeDialog),n=i.useRef(!1),r=i.useRef(!1);return c.jsx(ie,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||t.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const d=s.target;t.triggerRef.current?.contains(d)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&r.current&&s.preventDefault()}})}),ie=i.forwardRef((e,o)=>{const{__scopeDialog:t,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:s,...d}=e,a=m(x,t),y=i.useRef(null),g=I(o,y);return Fe(),c.jsxs(c.Fragment,{children:[c.jsx(z,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:s,children:c.jsx(ye,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":G(a.open),...d,ref:g,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Ue,{titleId:a.titleId}),c.jsx(Ge,{contentRef:y,descriptionId:a.descriptionId})]})]})}),K="DialogTitle",ce=i.forwardRef((e,o)=>{const{__scopeDialog:t,...n}=e,r=m(K,t);return c.jsx(R.h2,{id:r.titleId,...n,ref:o})});ce.displayName=K;var ue="DialogDescription",le=i.forwardRef((e,o)=>{const{__scopeDialog:t,...n}=e,r=m(ue,t);return c.jsx(R.p,{id:r.descriptionId,...n,ref:o})});le.displayName=ue;var fe="DialogClose",de=i.forwardRef((e,o)=>{const{__scopeDialog:t,...n}=e,r=m(fe,t);return c.jsx(R.button,{type:"button",...n,ref:o,onClick:O(e.onClick,()=>r.onOpenChange(!1))})});de.displayName=fe;function G(e){return e?"open":"closed"}var pe="DialogTitleWarning",[tt,ve]=Ee(pe,{contentName:x,titleName:K,docsSlug:"dialog"}),Ue=({titleId:e})=>{const o=ve(pe),t=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Ke="DialogDescriptionWarning",Ge=({contentRef:e,descriptionId:o})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ve(Ke).contentName}}.`;return i.useEffect(()=>{const r=e.current?.getAttribute("aria-describedby");o&&r&&(document.getElementById(o)||console.warn(n))},[n,e,o]),null},ot=ee,nt=oe,rt=re,st=se,at=ae,it=ce,ct=le,ut=de;export{at as C,ct as D,st as O,rt as P,ot as R,it as T,tt as W,ut as a,nt as b,et as c,re as d,ce as e};
