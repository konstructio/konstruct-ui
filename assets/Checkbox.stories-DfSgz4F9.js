import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-2yJIXLcc.js";import{u as A}from"./index-nnesT5pB.js";import{c as B,a as F,b as T}from"./index-CKGjCo7X.js";import{a as H,u as K}from"./index-D-oAuj9W.js";import{P as L}from"./index-CPiCONI9.js";import{P as I}from"./index-CWbqqLIR.js";import{c as _}from"./index-BV_IynQ4.js";import{u as z}from"./useToggle-B4qXb3uG.js";import{C as X}from"./check-CPwVKSZO.js";import{u as $}from"./theme.hook-CIPM6TIs.js";import"./index-BIKhx-Qu.js";import"./index-Bn05qqr6.js";import"./index-CBoMLUjc.js";var E="Checkbox",[G,he]=B(E),[J,Q]=G(E),q=o.forwardRef((e,f)=>{const{__scopeCheckbox:r,name:i,checked:p,defaultChecked:s,required:u,disabled:c,value:d="on",onCheckedChange:x,form:l,...h}=e,[a,b]=o.useState(null),C=A(f,n=>b(n)),j=o.useRef(!1),P=a?l||!!a.closest("form"):!0,[k=!1,w]=F({prop:p,defaultProp:s,onChange:x}),M=o.useRef(k);return o.useEffect(()=>{const n=a==null?void 0:a.form;if(n){const v=()=>w(M.current);return n.addEventListener("reset",v),()=>n.removeEventListener("reset",v)}},[a,w]),t.jsxs(J,{scope:r,state:k,disabled:c,children:[t.jsx(I.button,{type:"button",role:"checkbox","aria-checked":m(k)?"mixed":k,"aria-required":u,"data-state":V(k),"data-disabled":c?"":void 0,disabled:c,value:d,...h,ref:C,onKeyDown:T(e.onKeyDown,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:T(e.onClick,n=>{w(v=>m(v)?!0:!v),P&&(j.current=n.isPropagationStopped(),j.current||n.stopPropagation())})}),P&&t.jsx(U,{control:a,bubbles:!j.current,name:i,value:d,checked:k,required:u,disabled:c,form:l,style:{transform:"translateX(-100%)"},defaultChecked:m(s)?!1:s})]})});q.displayName=E;var D="CheckboxIndicator",O=o.forwardRef((e,f)=>{const{__scopeCheckbox:r,forceMount:i,...p}=e,s=Q(D,r);return t.jsx(L,{present:i||m(s.state)||s.state===!0,children:t.jsx(I.span,{"data-state":V(s.state),"data-disabled":s.disabled?"":void 0,...p,ref:f,style:{pointerEvents:"none",...e.style}})})});O.displayName=D;var U=e=>{const{control:f,checked:r,bubbles:i=!0,defaultChecked:p,...s}=e,u=o.useRef(null),c=H(r),d=K(f);o.useEffect(()=>{const l=u.current,h=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&b){const C=new Event("click",{bubbles:i});l.indeterminate=m(r),b.call(l,m(r)?!1:r),l.dispatchEvent(C)}},[c,r,i]);const x=o.useRef(m(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p??x.current,...s,tabIndex:-1,ref:u,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m(e){return e==="indeterminate"}function V(e){return m(e)?"indeterminate":e?"checked":"unchecked"}var W=q,Y=O;const Z=_(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","text-white"],{variants:{variant:{default:""},theme:{colony:"",kubefirst:"",civo:""},checked:{true:"",false:""}},compoundVariants:[{theme:"kubefirst",class:["border-kubefirst-primary"]},{theme:"kubefirst",checked:!0,class:["bg-kubefirst-primary"]},{theme:"colony",class:["border-red-700"]},{theme:"colony",checked:!0,class:["bg-red-700"]}],defaultVariants:{variant:"default",theme:"kubefirst"}}),ee=_(["cursor-pointer"],{variants:{variant:{default:""},theme:{colony:"",kubefirst:"",civo:""}},defaultVariants:{variant:"default",theme:"kubefirst"}}),g=o.forwardRef(({className:e,defaultChecked:f,disabled:r,label:i,labelClassName:p,name:s,theme:u,variant:c,onChange:d},x)=>{const[l,h]=z(f),a=o.useId(),{theme:b}=$(),C=o.useCallback(()=>{h(),d==null||d()},[d,h]);return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(W,{id:s??a,checked:l,ref:x,name:s,disabled:r,className:Z({className:e,theme:u??b,variant:c,checked:l}),onCheckedChange:C,children:t.jsx(Y,{children:t.jsx(X,{className:"w-4 h-4 stroke-2"})})}),i?t.jsx("label",{htmlFor:s??a,className:ee({variant:c,theme:u,className:p}),children:i}):null]})});g.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};const be={title:"Design System/Checkbox",component:g},y={args:{defaultChecked:!0},render:e=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"max-w-[350px] flex flex-col gap-2",children:[t.jsx(g,{label:"This is a checkbox with kubefirst colors",...e}),t.jsx(g,{theme:"colony",label:"This is a checkbox with colony colors",...e})]})})};var N,R,S;y.parameters={...y.parameters,docs:{...(N=y.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  },
  render: args => <>
      <div className="max-w-[350px] flex flex-col gap-2">
        <CheckboxComponent label="This is a checkbox with kubefirst colors" {...args} />
        <CheckboxComponent theme="colony" label="This is a checkbox with colony colors" {...args} />
      </div>
    </>
}`,...(S=(R=y.parameters)==null?void 0:R.docs)==null?void 0:S.source}}};const ke=["Checkbox"];export{y as Checkbox,ke as __namedExportsOrder,be as default};
