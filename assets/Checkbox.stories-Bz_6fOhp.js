import{j as s}from"./jsx-runtime-Cw0GR0a5.js";import{r as n}from"./index-CTjT7uj6.js";import{u as B}from"./index-CJryKggc.js";import{u as D,c as H,a as M,P as z,b as T,d as L}from"./index-Bd3XtOOI.js";import{c as I}from"./index-Bb4qSo10.js";import{u as F}from"./useToggle-CgIIUbFO.js";import{C as K}from"./check-C2bqmvGx.js";import{u as W}from"./theme.hook-Bu2Nzwn4.js";import"./index-vZN_Bsf0.js";import"./index-BzjuzjN8.js";function X(e){const o=n.useRef({value:e,previous:e});return n.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}function $(e){const[o,t]=n.useState(void 0);return D(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(u=>{if(!Array.isArray(u)||!u.length)return;const r=u[0];let d,c;if("borderBoxSize"in r){const a=r.borderBoxSize,p=Array.isArray(a)?a[0]:a;d=p.inlineSize,c=p.blockSize}else d=e.offsetWidth,c=e.offsetHeight;t({width:d,height:c})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else t(void 0)},[e]),o}var E="Checkbox",[G,he]=H(E),[J,Q]=G(E),_=n.forwardRef((e,o)=>{const{__scopeCheckbox:t,name:i,checked:u,defaultChecked:r,required:d,disabled:c,value:a="on",onCheckedChange:p,form:f,...b}=e,[l,k]=n.useState(null),C=B(o,h=>k(h)),w=n.useRef(!1),S=l?f||!!l.closest("form"):!0,[x=!1,j]=M({prop:u,defaultProp:r,onChange:p}),V=n.useRef(x);return n.useEffect(()=>{const h=l==null?void 0:l.form;if(h){const v=()=>j(V.current);return h.addEventListener("reset",v),()=>h.removeEventListener("reset",v)}},[l,j]),s.jsxs(J,{scope:t,state:x,disabled:c,children:[s.jsx(z.button,{type:"button",role:"checkbox","aria-checked":m(x)?"mixed":x,"aria-required":d,"data-state":A(x),"data-disabled":c?"":void 0,disabled:c,value:a,...b,ref:C,onKeyDown:T(e.onKeyDown,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:T(e.onClick,h=>{j(v=>m(v)?!0:!v),S&&(w.current=h.isPropagationStopped(),w.current||h.stopPropagation())})}),S&&s.jsx(U,{control:l,bubbles:!w.current,name:i,value:a,checked:x,required:d,disabled:c,form:f,style:{transform:"translateX(-100%)"},defaultChecked:m(r)?!1:r})]})});_.displayName=E;var q="CheckboxIndicator",O=n.forwardRef((e,o)=>{const{__scopeCheckbox:t,forceMount:i,...u}=e,r=Q(q,t);return s.jsx(L,{present:i||m(r.state)||r.state===!0,children:s.jsx(z.span,{"data-state":A(r.state),"data-disabled":r.disabled?"":void 0,...u,ref:o,style:{pointerEvents:"none",...e.style}})})});O.displayName=q;var U=e=>{const{control:o,checked:t,bubbles:i=!0,defaultChecked:u,...r}=e,d=n.useRef(null),c=X(t),a=$(o);n.useEffect(()=>{const f=d.current,b=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(b,"checked").set;if(c!==t&&k){const C=new Event("click",{bubbles:i});f.indeterminate=m(t),k.call(f,m(t)?!1:t),f.dispatchEvent(C)}},[c,t,i]);const p=n.useRef(m(t)?!1:t);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:u??p.current,...r,tabIndex:-1,ref:d,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m(e){return e==="indeterminate"}function A(e){return m(e)?"indeterminate":e?"checked":"unchecked"}var Y=_,Z=O;const ee=I(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","text-white"],{variants:{variant:{default:""},theme:{colony:"",konstruct:"",kubefirst:""},checked:{true:"",false:""}},compoundVariants:[{theme:"kubefirst",class:["border-kubefirst-purple-light"]},{theme:"kubefirst",checked:!0,class:["bg-kubefirst-purple-light"]},{theme:"konstruct",class:["border-orange-600"]},{theme:"konstruct",checked:!0,class:["bg-orange-600"]},{theme:"colony",class:["border-red-700"]},{theme:"colony",checked:!0,class:["bg-red-700"]}],defaultVariants:{variant:"default",theme:"kubefirst"}}),te=I(["cursor-pointer"],{variants:{variant:{default:""},theme:{colony:"",konstruct:"",kubefirst:""}},defaultVariants:{variant:"default",theme:"kubefirst"}}),y=n.forwardRef(({className:e,defaultChecked:o,disabled:t,label:i,labelClassName:u,name:r,theme:d,variant:c,onChange:a},p)=>{const[f,b]=F(o),l=n.useId(),{theme:k}=W(),C=n.useCallback(()=>{b(),a==null||a()},[a,b]);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y,{id:r??l,checked:f,ref:p,name:r,disabled:t,className:ee({className:e,theme:d??k,variant:c,checked:f}),onCheckedChange:C,children:s.jsx(Z,{children:s.jsx(K,{className:"w-4 h-4 stroke-2"})})}),i?s.jsx("label",{htmlFor:r??l,className:te({variant:c,theme:d,className:u}),children:i}):null]})});y.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};const fe={component:y},g={args:{defaultChecked:!0},render:e=>s.jsx(s.Fragment,{children:s.jsxs("div",{className:"m-w-[350px] flex flex-col gap-2",children:[s.jsx(y,{label:"This is a checkbox with kubefirst colors",...e}),s.jsx(y,{theme:"konstruct",label:"This is a checkbox with konstruct colors",...e}),s.jsx(y,{theme:"colony",label:"This is a checkbox with colony colors",...e})]})})};var R,P,N;g.parameters={...g.parameters,docs:{...(R=g.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  },
  render: args => <>
      <div className="m-w-[350px] flex flex-col gap-2">
        <CheckboxComponent label="This is a checkbox with kubefirst colors" {...args} />
        <CheckboxComponent theme="konstruct" label="This is a checkbox with konstruct colors" {...args} />
        <CheckboxComponent theme="colony" label="This is a checkbox with colony colors" {...args} />
      </div>
    </>
}`,...(N=(P=g.parameters)==null?void 0:P.docs)==null?void 0:N.source}}};const pe=["Checkbox"];export{g as Checkbox,pe as __namedExportsOrder,fe as default};
