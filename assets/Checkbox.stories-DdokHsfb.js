import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-CDlOlYQx.js";import{u as M}from"./index-8pt59J0f.js";import{d as A,c as F,b as T}from"./index-Cq8E5iUL.js";import{a as H,u as K}from"./index-DcbEREBE.js";import{P as z}from"./index-BDmKAtFv.js";import{P as S}from"./index-BcRd3khg.js";import{u as X}from"./useToggle-BALwLbl6.js";import{c as _,a as R}from"./index-C5MVsT28.js";import{C as $}from"./check-DSazg7jv.js";import"./index-BGZCjPBa.js";import"./index-CA2ozmjx.js";import"./index-_3p-ol44.js";var P="Checkbox",[G,fe]=F(P),[J,Q]=G(P),O=s.forwardRef((e,p)=>{const{__scopeCheckbox:r,name:l,checked:d,defaultChecked:a,required:f,disabled:n,value:b="on",onCheckedChange:C,form:i,...u}=e,[c,h]=s.useState(null),k=M(p,o=>h(o)),v=s.useRef(!1),g=c?i||!!c.closest("form"):!0,[x=!1,E]=A({prop:d,defaultProp:a,onChange:C}),L=s.useRef(x);return s.useEffect(()=>{const o=c==null?void 0:c.form;if(o){const y=()=>E(L.current);return o.addEventListener("reset",y),()=>o.removeEventListener("reset",y)}},[c,E]),t.jsxs(J,{scope:r,state:x,disabled:n,children:[t.jsx(S.button,{type:"button",role:"checkbox","aria-checked":m(x)?"mixed":x,"aria-required":f,"data-state":B(x),"data-disabled":n?"":void 0,disabled:n,value:b,...u,ref:k,onKeyDown:T(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:T(e.onClick,o=>{E(y=>m(y)?!0:!y),g&&(v.current=o.isPropagationStopped(),v.current||o.stopPropagation())})}),g&&t.jsx(U,{control:c,bubbles:!v.current,name:l,value:b,checked:x,required:f,disabled:n,form:i,style:{transform:"translateX(-100%)"},defaultChecked:m(a)?!1:a})]})});O.displayName=P;var V="CheckboxIndicator",D=s.forwardRef((e,p)=>{const{__scopeCheckbox:r,forceMount:l,...d}=e,a=Q(V,r);return t.jsx(z,{present:l||m(a.state)||a.state===!0,children:t.jsx(S.span,{"data-state":B(a.state),"data-disabled":a.disabled?"":void 0,...d,ref:p,style:{pointerEvents:"none",...e.style}})})});D.displayName=V;var U=e=>{const{control:p,checked:r,bubbles:l=!0,defaultChecked:d,...a}=e,f=s.useRef(null),n=H(r),b=K(p);s.useEffect(()=>{const i=f.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(n!==r&&h){const k=new Event("click",{bubbles:l});i.indeterminate=m(r),h.call(i,m(r)?!1:r),i.dispatchEvent(k)}},[n,r,l]);const C=s.useRef(m(r)?!1:r);return t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d??C.current,...a,tabIndex:-1,ref:f,style:{...e.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function m(e){return e==="indeterminate"}function B(e){return m(e)?"indeterminate":e?"checked":"unchecked"}var W=O,Y=D;const Z=_(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","text-white","border-kubefirst-primary","colony:border-red-700"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["bg-kubefirst-primary","colony:bg-red-700"]}],defaultVariants:{variant:"default"}}),ee=_(["cursor-pointer"],{variants:{variant:{default:""}},defaultVariants:{variant:"default"}}),j=s.forwardRef(({ariaLabelledBy:e,className:p,defaultChecked:r,disabled:l,id:d,label:a,labelClassName:f,name:n,theme:b,title:C,variant:i,onChange:u},c)=>{const[h,k]=X(r),v=s.useId(),g=s.useCallback(()=>{k(),u==null||u()},[u,k]);return t.jsxs("div",{className:"flex items-center gap-2","data-theme":b,children:[t.jsx(W,{id:d??v,checked:h,ref:c,name:n,disabled:l,"aria-labelledby":e,title:C,className:R(Z({className:p,variant:i,checked:h})),onCheckedChange:g,children:t.jsx(Y,{children:t.jsx($,{className:"w-4 h-4 stroke-2"})})}),a?t.jsx("label",{htmlFor:n??d,className:R(ee({variant:i,className:f})),children:a}):null]})});j.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'colony'
| 'civo'
| 'kubefirst-dark'
| 'colony-dark'
| 'civo-dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'colony'"},{name:"literal",value:"'civo'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'colony-dark'"},{name:"literal",value:"'civo-dark'"},{name:"undefined"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}},composes:["Omit","VariantProps"]};const he={title:"In Review/Checkbox",component:j},w={args:{defaultChecked:!0},render:e=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"max-w-[350px] flex flex-col gap-2",children:[t.jsx(j,{label:"This is a checkbox with kubefirst colors",...e}),t.jsx(j,{theme:"colony",label:"This is a checkbox with colony colors",...e})]})})};var N,I,q;w.parameters={...w.parameters,docs:{...(N=w.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  },
  render: args => <>
      <div className="max-w-[350px] flex flex-col gap-2">
        <CheckboxComponent label="This is a checkbox with kubefirst colors" {...args} />
        <CheckboxComponent theme="colony" label="This is a checkbox with colony colors" {...args} />
      </div>
    </>
}`,...(q=(I=w.parameters)==null?void 0:I.docs)==null?void 0:q.source}}};const be=["Checkbox"];export{w as Checkbox,be as __namedExportsOrder,he as default};
