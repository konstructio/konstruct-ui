import{r as e,j as s}from"./iframe-CoBiGKUL.js";import{R as V}from"./index-DHFix7-I.js";import{r as H}from"./index-Buesxbiu.js";import{R as q}from"./Combination-DIgBV7Kc.js";import{c as d,a as D}from"./index-BIgQ6y5l.js";import{X as z}from"./x-CQ3yS-gZ.js";const L=e.createContext({}),M=()=>e.useContext(L),C=e.memo(({children:o,className:i,id:a})=>{const{classNames:r,headerId:c}=M();return s.jsx("div",{id:a??c,className:d("flex-shrink-0","border-b","border-slate-200","dark:border-metal-700","p-4",r?.header,i),children:o})});C.displayName="Drawer.Header";C.__docgenInfo={description:"",methods:[],displayName:"Drawer.Header",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Content of the header section"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"},id:{required:!1,tsType:{name:"string"},description:"ID for accessibility (aria-labelledby)"}}};const R=e.memo(({children:o,className:i})=>{const{classNames:a}=M();return s.jsx("div",{className:d("flex-1","overflow-y-auto","p-4",a?.body,i),children:o})});R.displayName="Drawer.Body";R.__docgenInfo={description:"",methods:[],displayName:"Drawer.Body",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Content of the body section"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"}}};const _=e.memo(({children:o,className:i})=>{const{classNames:a}=M();return s.jsx("div",{className:d("flex-shrink-0","border-t","border-slate-200","dark:border-metal-700","p-4",a?.footer,i),children:o})});_.displayName="Drawer.Footer";_.__docgenInfo={description:"",methods:[],displayName:"Drawer.Footer",props:{children:{required:!0,tsType:{name:"ReactNode"},description:"Content of the footer section"},className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes"}}};const F=D(["bg-white","dark:bg-metal-900","duration-300","ease-in-out","fixed","flex","flex-col","group/drawer","inset-y-0","shadow-xl","transform","transition-transform","z-50"],{variants:{position:{left:["left-0","border-r","border-slate-200","dark:border-metal-700"],right:["right-0","border-l","border-slate-200","dark:border-metal-700"]}},defaultVariants:{position:"right"}}),K=D(["fixed","inset-0","z-40","bg-black","transition-opacity","duration-300"]),B=D(["absolute","right-3","top-3","cursor-pointer","text-slate-500","hover:text-slate-700","dark:text-metal-400","dark:hover:text-metal-300","transition-colors","z-10"]),U=D(["absolute","bg-slate-200","dark:bg-metal-700","border-none","cursor-col-resize","h-full","opacity-0","p-0","top-0","transition-opacity","w-1","z-50","group-hover/drawer:opacity-100","hover:opacity-100!","focus:outline-none"],{variants:{position:{left:["right-0"],right:["left-0"]}},defaultVariants:{position:"right"}}),T=500,X=400,P=800,Y=10,O=300,j=20,W=({canResize:o=!1,defaultWidth:i=T,isOpen:a,maxWidth:r=P,minWidth:c=X,position:n="right",onClose:x})=>{const[v,f]=e.useState(!1),[p,g]=e.useState(!1),[y,u]=e.useState(i),b=e.useRef(!1),w=e.useRef(()=>{}),m=e.useRef(()=>{});e.useEffect(()=>{let t;return a?(f(!0),t=setTimeout(()=>g(!0),Y)):(g(!1),t=setTimeout(()=>f(!1),O)),()=>{clearTimeout(t)}},[a]),e.useEffect(()=>{if(!a)return;const t=new AbortController,l=E=>{E.code==="Escape"&&x?.()};return window.addEventListener("keydown",l,{signal:t.signal}),()=>{t.abort()}},[a,x]);const h=e.useCallback(()=>{document.removeEventListener("mousemove",w.current),document.removeEventListener("mouseup",m.current),document.body.style.cursor="",document.body.style.userSelect=""},[]);e.useEffect(()=>{w.current=t=>{if(!b.current||!o)return;let l;n==="right"?l=window.innerWidth-t.clientX:l=t.clientX,l=Math.max(c,Math.min(r,l)),u(l)},m.current=()=>{b.current=!1,h()}},[n,c,r,o,h]);const N=e.useCallback(()=>{b.current=!0,document.addEventListener("mousemove",w.current),document.addEventListener("mouseup",m.current),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]),A=e.useCallback(t=>{if(!o)return;const l=n==="right"&&t.key==="ArrowLeft"||n==="left"&&t.key==="ArrowRight",E=n==="right"&&t.key==="ArrowRight"||n==="left"&&t.key==="ArrowLeft";l?(t.preventDefault(),u(I=>Math.min(r,I+j))):E&&(t.preventDefault(),u(I=>Math.max(c,I-j)))},[o,n,r,c]);e.useEffect(()=>h,[h]);const k=e.useMemo(()=>p?"translate-x-0":n==="left"?"-translate-x-full":"translate-x-full",[p,n]);return{isAnimating:p,isVisible:v,width:y,translateClass:k,handleMouseDown:N,handleKeyDown:A}},S=({canResize:o=!1,children:i,className:a,classNames:r,container:c,isOpen:n,maxWidth:x,minWidth:v,position:f="right",showCloseButton:p=!0,theme:g,onClose:y})=>{const u=e.useId(),{handleKeyDown:b,handleMouseDown:w,isAnimating:m,isVisible:h,translateClass:N,width:A}=W({canResize:o,defaultWidth:T,isOpen:n,maxWidth:x,minWidth:v,position:f,onClose:y}),k=e.useMemo(()=>({classNames:r,headerId:u}),[r,u]);if(!h)return null;const t=s.jsx(L.Provider,{value:k,children:s.jsx(q,{children:s.jsxs("div",{className:d("fixed inset-0 z-40",r?.root),"data-theme":g,children:[s.jsx("div",{className:d(K(),{"opacity-50":m,"opacity-0":!m},r?.overlay),"aria-hidden":"true",onClick:y,role:"presentation"}),s.jsxs("div",{className:d(F({position:f}),N,r?.panel,a),style:{width:o?A:T},role:"dialog","aria-modal":"true","aria-labelledby":u,children:[o&&s.jsx("button",{type:"button","aria-label":"Resize drawer",className:d(U({position:f}),r?.resizeHandle),onMouseDown:w,onKeyDown:b}),p&&s.jsxs("button",{className:d(B(),r?.closeButton),onClick:y,type:"button",children:[s.jsx(z,{size:20}),s.jsx(V,{children:"Dismiss drawer"})]}),s.jsx("div",{className:d("flex flex-1 flex-col h-full overflow-hidden",r?.content),children:i})]})]})})});return H.createPortal(t,c||document.body)};S.Header=C;S.Body=R;S.Footer=_;export{S as D};
