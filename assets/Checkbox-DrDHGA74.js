import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as c}from"./iframe-D4eurkNF.js";import{u as T}from"./index-DUfHYozX.js";import{c as z,a as H,b as j}from"./index-BqFL9TN3.js";import{a as G,u as K}from"./index-DnrPPNVF.js";import{P as U}from"./index-DuZM0NEq.js";import{P as I}from"./index-BL4YB7VF.js";import{u as X}from"./useToggle-D-1Zefd9.js";import{c as q,a as N}from"./index-Cr-WShRT.js";import{C as $}from"./check-U1MSqhsI.js";var g="Checkbox",[J,pe]=z(g),[Q,R]=J(g);function W(t){const{__scopeCheckbox:d,checked:i,children:u,defaultChecked:r,disabled:e,form:m,name:p,onCheckedChange:l,required:h,value:k="on",internal_do_not_use_render:o}=t,[f,v]=H({prop:i,defaultProp:r??!1,onChange:l,caller:g}),[b,C]=c.useState(null),[y,n]=c.useState(null),a=c.useRef(!1),_=b?!!m||!!b.closest("form"):!0,E={checked:f,disabled:e,setChecked:v,control:b,setControl:C,name:p,form:m,value:k,hasConsumerStoppedPropagationRef:a,required:h,defaultChecked:x(r)?!1:r,isFormControl:_,bubbleInput:y,setBubbleInput:n};return s.jsx(Q,{scope:d,...E,children:Y(o)?o(E):u})}var w="CheckboxTrigger",S=c.forwardRef(({__scopeCheckbox:t,onKeyDown:d,onClick:i,...u},r)=>{const{control:e,value:m,disabled:p,checked:l,required:h,setControl:k,setChecked:o,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:b}=R(w,t),C=T(r,k),y=c.useRef(l);return c.useEffect(()=>{const n=e==null?void 0:e.form;if(n){const a=()=>o(y.current);return n.addEventListener("reset",a),()=>n.removeEventListener("reset",a)}},[e,o]),s.jsx(I.button,{type:"button",role:"checkbox","aria-checked":x(l)?"mixed":l,"aria-required":h,"data-state":O(l),"data-disabled":p?"":void 0,disabled:p,value:m,...u,ref:C,onKeyDown:j(d,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:j(i,n=>{o(a=>x(a)?!0:!a),b&&v&&(f.current=n.isPropagationStopped(),f.current||n.stopPropagation())})})});S.displayName=w;var B=c.forwardRef((t,d)=>{const{__scopeCheckbox:i,name:u,checked:r,defaultChecked:e,required:m,disabled:p,value:l,onCheckedChange:h,form:k,...o}=t;return s.jsx(W,{__scopeCheckbox:i,checked:r,defaultChecked:e,disabled:p,required:m,onCheckedChange:h,name:u,form:k,value:l,internal_do_not_use_render:({isFormControl:f})=>s.jsxs(s.Fragment,{children:[s.jsx(S,{...o,ref:d,__scopeCheckbox:i}),f&&s.jsx(L,{__scopeCheckbox:i})]})})});B.displayName=g;var M="CheckboxIndicator",A=c.forwardRef((t,d)=>{const{__scopeCheckbox:i,forceMount:u,...r}=t,e=R(M,i);return s.jsx(U,{present:u||x(e.checked)||e.checked===!0,children:s.jsx(I.span,{"data-state":O(e.checked),"data-disabled":e.disabled?"":void 0,...r,ref:d,style:{pointerEvents:"none",...t.style}})})});A.displayName=M;var F="CheckboxBubbleInput",L=c.forwardRef(({__scopeCheckbox:t,...d},i)=>{const{control:u,hasConsumerStoppedPropagationRef:r,checked:e,defaultChecked:m,required:p,disabled:l,name:h,value:k,form:o,bubbleInput:f,setBubbleInput:v}=R(F,t),b=T(i,v),C=G(e),y=K(u);c.useEffect(()=>{const a=f;if(!a)return;const _=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(_,"checked").set,D=!r.current;if(C!==e&&P){const V=new Event("click",{bubbles:D});a.indeterminate=x(e),P.call(a,x(e)?!1:e),a.dispatchEvent(V)}},[f,C,e,r]);const n=c.useRef(x(e)?!1:e);return s.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??n.current,required:p,disabled:l,name:h,value:k,form:o,...d,tabIndex:-1,ref:b,style:{...d.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});L.displayName=F;function Y(t){return typeof t=="function"}function x(t){return t==="indeterminate"}function O(t){return x(t)?"indeterminate":t?"checked":"unchecked"}const Z=q(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-white","border-kubefirst-primary","colony:border-red-700","civo:border-zinc-400"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["bg-kubefirst-primary","colony:bg-red-700",["civo:bg-civo-primary","civo:border-civo-primary"]]}],defaultVariants:{variant:"default"}}),ee=q(["cursor-pointer","text-slate-800"]),te=c.forwardRef(({ariaLabelledBy:t,className:d,defaultChecked:i,disabled:u,id:r,label:e,labelClassName:m,name:p,theme:l,title:h,variant:k,onChange:o,...f},v)=>{const[b,C]=X(i??!1),y=c.useId(),n=c.useCallback(a=>{C(a),o==null||o(a)},[o,C]);return s.jsxs("div",{className:"flex items-center gap-2","data-theme":l,children:[s.jsx(B,{id:r??y,checked:b,ref:v,name:p,disabled:u,"aria-labelledby":t,title:h,className:N(Z({className:d,variant:k,checked:b})),onCheckedChange:n,...f,children:s.jsx(A,{children:s.jsx($,{className:"w-4 h-4 stroke-2"})})}),e?s.jsx("label",{htmlFor:p??r,className:N(ee({className:m})),children:e}):null]})});te.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"union",raw:`| 'kubefirst'
| 'colony'
| 'civo'
| 'kubefirst-dark'
| 'colony-dark'
| 'civo-dark'
| undefined`,elements:[{name:"literal",value:"'kubefirst'"},{name:"literal",value:"'colony'"},{name:"literal",value:"'civo'"},{name:"literal",value:"'kubefirst-dark'"},{name:"literal",value:"'colony-dark'"},{name:"literal",value:"'civo-dark'"},{name:"undefined"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""}},composes:["Omit"]};export{te as C};
