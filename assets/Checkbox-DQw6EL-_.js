import{r as n,j as o}from"./iframe-BzlWAk8Y.js";import{u as w}from"./index-QMl1Nk-n.js";import{b as V,P as I,a as H,c as P}from"./index-C8tLv893.js";import{u as G}from"./index-DQgsJfDY.js";import{u as U}from"./index-C2q62bOm.js";import{P as X}from"./index-uP6PVS_m.js";import{u as $}from"./useToggle-BaH7sTp8.js";import{a as T,c as j}from"./index-B-7A89sm.js";import{C as J}from"./check-CihPNjkQ.js";var v="Checkbox",[Q,ue]=V(v),[W,R]=Q(v);function Y(t){const{__scopeCheckbox:l,checked:c,children:i,defaultChecked:s,disabled:e,form:m,name:p,onCheckedChange:u,required:h,value:k="on",internal_do_not_use_render:d}=t,[b,g]=H({prop:c,defaultProp:s??!1,onChange:u,caller:v}),[f,C]=n.useState(null),[y,r]=n.useState(null),a=n.useRef(!1),_=f?!!m||!!f.closest("form"):!0,E={checked:b,disabled:e,setChecked:g,control:f,setControl:C,name:p,form:m,value:k,hasConsumerStoppedPropagationRef:a,required:h,defaultChecked:x(s)?!1:s,isFormControl:_,bubbleInput:y,setBubbleInput:r};return o.jsx(W,{scope:l,...E,children:Z(d)?d(E):i})}var q="CheckboxTrigger",S=n.forwardRef(({__scopeCheckbox:t,onKeyDown:l,onClick:c,...i},s)=>{const{control:e,value:m,disabled:p,checked:u,required:h,setControl:k,setChecked:d,hasConsumerStoppedPropagationRef:b,isFormControl:g,bubbleInput:f}=R(q,t),C=w(s,k),y=n.useRef(u);return n.useEffect(()=>{const r=e?.form;if(r){const a=()=>d(y.current);return r.addEventListener("reset",a),()=>r.removeEventListener("reset",a)}},[e,d]),o.jsx(I.button,{type:"button",role:"checkbox","aria-checked":x(u)?"mixed":u,"aria-required":h,"data-state":L(u),"data-disabled":p?"":void 0,disabled:p,value:m,...i,ref:C,onKeyDown:P(l,r=>{r.key==="Enter"&&r.preventDefault()}),onClick:P(c,r=>{d(a=>x(a)?!0:!a),f&&g&&(b.current=r.isPropagationStopped(),b.current||r.stopPropagation())})})});S.displayName=q;var B=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,name:i,checked:s,defaultChecked:e,required:m,disabled:p,value:u,onCheckedChange:h,form:k,...d}=t;return o.jsx(Y,{__scopeCheckbox:c,checked:s,defaultChecked:e,disabled:p,required:m,onCheckedChange:h,name:i,form:k,value:u,internal_do_not_use_render:({isFormControl:b})=>o.jsxs(o.Fragment,{children:[o.jsx(S,{...d,ref:l,__scopeCheckbox:c}),b&&o.jsx(F,{__scopeCheckbox:c})]})})});B.displayName=v;var z="CheckboxIndicator",M=n.forwardRef((t,l)=>{const{__scopeCheckbox:c,forceMount:i,...s}=t,e=R(z,c);return o.jsx(X,{present:i||x(e.checked)||e.checked===!0,children:o.jsx(I.span,{"data-state":L(e.checked),"data-disabled":e.disabled?"":void 0,...s,ref:l,style:{pointerEvents:"none",...t.style}})})});M.displayName=z;var A="CheckboxBubbleInput",F=n.forwardRef(({__scopeCheckbox:t,...l},c)=>{const{control:i,hasConsumerStoppedPropagationRef:s,checked:e,defaultChecked:m,required:p,disabled:u,name:h,value:k,form:d,bubbleInput:b,setBubbleInput:g}=R(A,t),f=w(c,g),C=G(e),y=U(i);n.useEffect(()=>{const a=b;if(!a)return;const _=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(_,"checked").set,D=!s.current;if(C!==e&&N){const K=new Event("click",{bubbles:D});a.indeterminate=x(e),N.call(a,x(e)?!1:e),a.dispatchEvent(K)}},[b,C,e,s]);const r=n.useRef(x(e)?!1:e);return o.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??r.current,required:p,disabled:u,name:h,value:k,form:d,...l,tabIndex:-1,ref:f,style:{...l.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F.displayName=A;function Z(t){return typeof t=="function"}function x(t){return t==="indeterminate"}function L(t){return x(t)?"indeterminate":t?"checked":"unchecked"}const ee=T(["cursor-pointer","border","rounded","w-5","h-5","flex","justify-center","items-center","transition-all","text-slate-800","border-zinc-400","disabled:cursor-not-allowed"],{variants:{variant:{default:""},checked:{true:"",false:""}},compoundVariants:[{checked:!0,class:["kubefirst:border-kubefirst-primary","kubefirst:bg-kubefirst-primary","bg-aurora-500","border-aurora-500","disabled:bg-zinc-300","disabled:border-transparent","*:text-metal-900","kubefirst:*:text-white","disabled:*:text-white","dark:disabled:*:text-metal-900","dark:disabled:bg-aurora-500/45"]},{checked:!1,class:["kubefirst:border-kubefirst-primary","kubefirst:text-white","border-zinc-400","disabled:bg-zinc-50","disabled:border-zinc-300","dark:disabled:bg-metal-800","dark:disabled:border-metal-600","dark:border-metal-600","dark:bg-metal-800"]}],defaultVariants:{variant:"default"}}),te=T(["select-none","cursor-pointer","text-sm","text-slate-800","dark:text-slate-50"]),O=n.forwardRef(({ariaLabelledBy:t,className:l,defaultChecked:c,disabled:i,id:s,label:e,labelClassName:m,name:p,theme:u,title:h,variant:k,onChange:d,...b},g)=>{const[f,C]=$(c??!1),y=n.useId(),r=n.useCallback(a=>{C(a),d?.(a)},[d,C]);return o.jsxs("div",{className:"flex items-center gap-4","data-theme":u,children:[o.jsx(B,{id:s??y,checked:f,ref:g,name:p,disabled:i,"aria-labelledby":t,title:h,className:j(ee({className:l,variant:k,checked:f})),onCheckedChange:r,...b,children:o.jsx(M,{children:o.jsx(J,{className:"w-4 h-4 stroke-2"})})}),e?o.jsx("label",{htmlFor:p??s,className:j(te({className:m}),{"cursor-not-allowed":i}),onClick:()=>!i&&r(!f),children:e}):null]})});O.displayName="KonstructCheckbox";O.__docgenInfo={description:"",methods:[],displayName:"KonstructCheckbox",props:{ariaLabelledBy:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},defaultChecked:{required:!1,tsType:{name:"boolean"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},id:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelClassName:{required:!1,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""}},composes:["Omit"]};export{O as C};
